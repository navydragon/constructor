(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"03B0":function(e,t,n){"use strict";n.r(t);var i=n("tBBa"),a=n("XuX8"),s=n.n(a),o=n("nr6O"),r={name:"new-question",metaInfo:{title:"Добавить новый вопрос"},data:function(){return{new_question:{text:"",text_state:"",type:"",type_state:"",single_choice_answers:[{id:this.generate_id(),text:"Ответ 1",is_right:!1},{id:this.generate_id(),text:"Ответ 2",is_right:!1},{id:this.generate_id(),text:"Ответ 3",is_right:!1},{id:this.generate_id(),text:"Ответ 4",is_right:!1}],multi_choice_answers:[{id:this.generate_id(),text:"Ответ 1",is_right:!1},{id:this.generate_id(),text:"Ответ 2",is_right:!1},{id:this.generate_id(),text:"Ответ 3",is_right:!1},{id:this.generate_id(),text:"Ответ 4",is_right:!1}],single_choice_fields:[{key:"is_right",label:"Правильный?"},{key:"text",label:"Текст ответа"}],multi_choice_fields:[{key:"is_right",label:"Правильный?"},{key:"text",label:"Текст ответа"}],single_choice_right:"",multi_choice_right:[]},type_options:[{value:{id:1,type_name:"Выбор одного правильного ответа"},text:"Выбор одного правильного ответа"},{value:{id:2,type_name:"Выбор нескольких правильных ответов"},text:"Выбор нескольких правильных ответов"},{value:{id:3,type_name:"Вопрос с открытым ответом"},text:"Вопрос с открытым ответом"},{value:{id:4,type_name:"Установление последовательности"},text:"Установление последовательности"},{value:{id:5,type_name:"Установление соответствия"},text:"Установление соответствия"}]}},methods:{handle_ok:function(e){e.preventDefault()},generate_id:function(){return"f".concat((~~(1e8*Math.random())).toString(16))},add_single_choice_answer:function(){this.new_question.single_choice_answers.push({id:this.generate_id(),text:"Новый ответ",is_right:!1})},add_multi_choice_answer:function(){this.new_question.multi_choice_answers.push({id:this.generate_id(),text:"Новый ответ",is_right:!1})},remove_single_choice_answer:function(e){this.new_question.single_choice_right==e.id&&(this.new_question.single_choice_right="");var t=this.new_question.single_choice_answers.filter((function(t){return t.id!=e.id}));this.new_question.single_choice_answers=t},remove_multi_choice_answer:function(e){var t=this.new_question.multi_choice_answers.filter((function(t){return t.id!=e.id}));this.new_question.multi_choice_answers=t,t=this.new_question.multi_choice_right.filter((function(t){return t!=e.id})),this.new_question.multi_choice_right=t}}},l=n("KHd+"),c=Object(l.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-addquest",modifiers:{"modal-addquest":!0}}],attrs:{block:"",variant:"primary"}},[e._v("Добавить вопрос")]),e._v(" "),n("b-modal",{attrs:{"no-close-on-esc":"","no-close-on-backdrop":"",id:"modal-addquest","ok-title":"Добавить вопрос","cancel-title":"Закрыть",size:"xl",title:"Создание нового вопроса"},on:{ok:e.handle_ok}},[n("b-form-group",{attrs:{state:e.new_question.text_state,label:"Текст вопроса","label-for":"text-input","invalid-feedback":"Необходимо ввести текст вопроса","label-cols-lg":"2","label-size":"lg"}},[n("b-form-textarea",{attrs:{id:"text-input",placeholder:"Введите текст вопроса"},model:{value:e.new_question.text,callback:function(t){e.$set(e.new_question,"text",t)},expression:"new_question.text"}})],1),e._v(" "),n("b-form-group",{attrs:{state:e.new_question.type_state,label:"Тип вопроса","label-for":"type-input","invalid-feedback":"Необходимо выбрать тип вопроса","label-cols-lg":"2","label-size":"lg"}},[n("b-form-select",{attrs:{id:"type-input",options:e.type_options},model:{value:e.new_question.type,callback:function(t){e.$set(e.new_question,"type",t)},expression:"new_question.type"}})],1),e._v(" "),1==e.new_question.type.id?n("div",[n("p",[e._v("Введите варианты ответов и укажите правильный")]),e._v(" "),n("b-table",{attrs:{bordered:"",items:e.new_question.single_choice_answers,fields:e.new_question.single_choice_fields},scopedSlots:e._u([{key:"table-colgroup",fn:function(t){return e._l(t.fields,(function(e){return n("col",{key:e.key,style:{width:"is_right"===e.key?"10%":"90%"}})}))}},{key:"cell(text)",fn:function(t){return[n("b-row",[n("b-col",{attrs:{sm:"11"}},[n("b-form-input",{attrs:{placeholder:"Введите текст ответа"},model:{value:t.item.text,callback:function(n){e.$set(t.item,"text",n)},expression:"data.item.text"}}),e._v("  \n                ")],1),e._v(" "),n("b-col",{attrs:{sm:"1"}},[n("b-btn",{staticClass:"btn",attrs:{variant:"outline-danger  icon-btn"},on:{click:function(n){return e.remove_single_choice_answer(t.item)}}},[n("i",{staticClass:"ion ion-md-close"})])],1)],1)]}},{key:"cell(is_right)",fn:function(t){return[n("b-form-radio",{attrs:{"button-variant":"outline-primary",value:t.item.id,name:"radio-size",size:"lg"},model:{value:e.new_question.single_choice_right,callback:function(t){e.$set(e.new_question,"single_choice_right",t)},expression:"new_question.single_choice_right"}})]}}],null,!1,2535982150)}),e._v(" "),n("b-button",{attrs:{variant:"primary"},on:{click:e.add_single_choice_answer}},[e._v("Добавить ответ")])],1):e._e(),e._v(" "),2==e.new_question.type.id?n("div",[n("p",[e._v("Введите варианты ответов и укажите правильные")]),e._v(" "),n("b-table",{attrs:{bordered:"",items:e.new_question.multi_choice_answers,fields:e.new_question.multi_choice_fields},scopedSlots:e._u([{key:"table-colgroup",fn:function(t){return e._l(t.fields,(function(e){return n("col",{key:e.key,style:{width:"is_right"===e.key?"10%":"90%"}})}))}},{key:"cell(text)",fn:function(t){return[n("b-row",[n("b-col",{attrs:{sm:"11"}},[n("b-form-input",{attrs:{placeholder:"Введите текст ответа"},model:{value:t.item.text,callback:function(n){e.$set(t.item,"text",n)},expression:"data.item.text"}}),e._v("  \n                ")],1),e._v(" "),n("b-col",{attrs:{sm:"1"}},[n("b-btn",{staticClass:"btn",attrs:{variant:"outline-danger  icon-btn"},on:{click:function(n){return e.remove_multi_choice_answer(t.item)}}},[n("i",{staticClass:"ion ion-md-close"})])],1)],1)]}},{key:"cell(is_right)",fn:function(t){return[n("b-form-checkbox",{attrs:{"button-variant":"outline-primary",value:t.item.id,name:"multi_check",size:"lg"},model:{value:e.new_question.multi_choice_right,callback:function(t){e.$set(e.new_question,"multi_choice_right",t)},expression:"new_question.multi_choice_right"}})]}}],null,!1,2435428205)}),e._v(" "),n("b-button",{attrs:{variant:"primary"},on:{click:e.add_multi_choice_answer}},[e._v("Добавить ответ")])],1):e._e(),e._v(" "),3==e.new_question.type.id?n("div",[e._v("\n        3\n    ")]):e._e(),e._v(" "),4==e.new_question.type.id?n("div",[e._v("\n        4\n    ")]):e._e(),e._v(" "),5==e.new_question.type.id?n("div",[e._v("\n        5\n    ")]):e._e()],1)],1)])}),[],!1,null,null,null).exports;s.a.use(o.ClientTable);var _={name:"dpp_stage_work_om",metaInfo:{title:"Разработка ДПП - Оценочные материалы"},components:{ModelSelect:i.ModelSelect,ClientTable:o.ClientTable,NewQuestion:c},computed:{header:function(){return"Разработка ДПП / "+this.stage.dpp_name+" / "+this.stage.type_name}},data:function(){return{stage:{},knowledge:{questions:[]},knowledges:[{text:"Знание 1",value:1,questions:[{text:"Вопрос 1",type_name:"Выбор вариантов ответа"}]},{text:"Знание 2",value:2,questions:[]}],kn_columns:["text","type_name","edit"],options:{pagination:{chunk:5},sortIcon:{is:"fa-sort",base:"fas",up:"fa-sort-up",down:"fa-sort-down"},headings:{text:"Текст вопроса",type_name:"Тип вопроса",edit:"Управление"}}}},mounted:function(){var e=this;axios.get("/dpps/"+this.$route.params.dpp+"/get_stage_data/"+this.$route.params.stage).then((function(t){return e.stage=t.data}))}},u=(n("mswM"),Object(l.a)(_,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Назад")]),e._v(" "),n("b-card",{attrs:{title:e.header}},[n("b-tabs",{attrs:{"content-class":"mt-3",pills:"",fill:""}},[n("b-tab",{attrs:{title:"Знания",active:""}},[n("h5",[e._v("Выберите знание")]),e._v(" "),n("model-select",{attrs:{id:"user-input",options:e.knowledges,placeholder:"Выберите знание"},model:{value:e.knowledge,callback:function(t){e.knowledge=t},expression:"knowledge"}}),e._v(" "),n("hr",{staticClass:"container-m-nx border-light mt-2 mb-2"}),e._v(" "),n("v-client-table",{attrs:{data:e.knowledge.questions,columns:e.kn_columns,options:e.options},scopedSlots:e._u([{key:"edit",fn:function(t){return[n("div",[n("b-btn",{staticClass:"btn-xs",attrs:{variant:"outline-success borderless icon-btn"},on:{click:function(n){return n.preventDefault(),e.edit(t.row)}}},[n("i",{staticClass:"ion ion-md-create"})]),e._v(" "),n("b-btn",{staticClass:"btn-xs",attrs:{variant:"outline-danger borderless icon-btn"},on:{click:function(n){return n.preventDefault(),e.remove(t.row)}}},[n("i",{staticClass:"ion ion-md-close"})])],1)]}}])}),e._v(" "),n("new-question")],1),e._v(" "),n("b-tab",{attrs:{title:"Умения"}},[n("p",[e._v("I'm the second tab")])]),e._v(" "),n("b-tab",{attrs:{title:"Навыки"}},[n("p",[e._v("I'm the tab with the very, very long title")])])],1)],1)],1)}),[],!1,null,null,null));t.default=u.exports},"7dIG":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,'.VueTables__child-row-toggler {\n  display: inline-block;\n  margin: auto;\n  width: 100%;\n  height: 16px;\n  text-align: center;\n  line-height: 16px;\n  cursor: pointer;\n}\n.VueTables__child-row-toggler--closed::before {\n  content: "+";\n}\n.VueTables__child-row-toggler--open::before {\n  content: "-";\n}\n.VueTables__sortable {\n  position: relative;\n}\n.VueTables__sort-icon {\n  position: absolute;\n  top: 50%;\n  right: 6px;\n  -webkit-transform: translateY(-50%);\n          transform: translateY(-50%);\n}\n[dir=rtl] .VueTables__sort-icon {\n  right: auto;\n  left: 6px;\n}\n.VuePagination nav {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  width: 100%;\n}\n.VuePagination .pagination,\n.VuePagination__count {\n  -ms-flex-preferred-size: auto !important;\n      flex-basis: auto !important;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  margin: 0 0 1rem 0;\n  width: auto !important;\n}\n.VueTables__search label,\n.VueTables__limit label {\n  display: inline-block !important;\n  margin-right: .5em;\n}\n[dir=rtl] .VueTables__search label, [dir=rtl]\n.VueTables__limit label {\n  margin-right: 0;\n  margin-left: .5em;\n}\n[dir="rtl"] .pull-left {\n  float: right;\n}\n[dir="rtl"] .pull-right {\n  float: left;\n}\n.default-style .VueTables__sort-icon {\n  color: #a3a4a6;\n  font-size: 0.75rem;\n}\n.default-style .VuePagination__pagination-item > a {\n  padding: 0.375rem 0.25rem;\n  min-width: calc(1.5rem + 2px);\n  text-align: center;\n  font-size: 0.75rem;\n  border-radius: 0.25rem;\n}\n.default-style .VuePagination__count {\n  color: #a3a4a6;\n  font-size: 0.75rem;\n}\n.material-style .VueTables__sort-icon {\n  color: #a3a4a6;\n  font-size: 0.75rem;\n}\n.material-style .VuePagination__pagination-item > a {\n  padding: 0.375rem 0.25rem;\n  min-width: calc(1.5rem + 0px);\n  text-align: center;\n  font-size: 0.75rem;\n  border-radius: 0.125rem;\n}\n.material-style .VuePagination__count {\n  color: #a3a4a6;\n  font-size: 0.75rem;\n}\n',""])},kYbW:function(e,t,n){var i=n("7dIG");"string"==typeof i&&(i=[[e.i,i,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(i,a);i.locals&&(e.exports=i.locals)},mswM:function(e,t,n){"use strict";var i=n("kYbW");n.n(i).a}}]);