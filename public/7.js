(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{oELJ:function(e,t,o){var n,r=function(e,t){var i=this;if(this.element=e,this.config={lazyLoading:!0,enableDragDrop:!1,enableSearch:!0,enableTouch:!1,nodeMenu:null,nodeContextMenu:null,dragDropMenu:null,menu:null,toolbar:!1,sticky:!0,nodeMouseClick:r.action.details,nodeMouseDbClick:r.none,mouseScrool:r.action.zoom,showXScroll:r.none,showYScroll:r.none,template:"ana",tags:{},nodeBinding:{},linkBinding:{},searchFields:[],nodes:[],clinks:[],slinks:[],levelSeparation:60,siblingSeparation:20,subtreeSeparation:40,mixedHierarchyNodesSeparation:15,padding:30,orientation:r.orientation.top,layout:r.normal,scaleInitial:1,scaleMin:.1,scaleMax:5,orderBy:null,editUI:null,searchUI:null,xScrollUI:null,yScrollUI:null,nodeMenuUI:null,nodeContextMenuUI:null,toolbarUI:null,notifierUI:null,dragDropMenuUI:null,menuUI:null,exportUrl:"https://balkangraph.com/export",collapse:{},expand:{},align:r.CENTER,UI:null,anim:{func:r.anim.outPow,duration:200},zoom:{speed:120,smooth:12},roots:null,onUpdate:"",onRemove:"",onAdd:"",onRedraw:"",onImageUploaded:"",onUpdateTags:"",onClick:"",onDbClick:"",onExpCollClick:"",onExportStart:"",onExportEnd:"",onSearchClick:"",onReady:""},t)for(var o in this.config)"object"!=typeof t[o]||Array.isArray(t[o])?void 0!==t[o]&&(this.config[o]=t[o]):this.config[o]=r._mergeObject(this.config[o],t[o]);this._event_id=r._guid();for(var n=["onUpdate","onRemove","onAdd","onRedraw","onImageUploaded","onUpdateTags","onClick","onDbClick","onExpCollClick","onExportStart","onExportEnd","onSearchClick","onReady"],a=0;a<n.length;a++){var l=n[a];this.config[l]&&this.on(l.replace("on","").toLowerCase(),this.config[l])}null!=this.config.nodeMouseClickBehaviour&&(this.config.nodeMouseClick=this.config.nodeMouseClickBehaviour),null!=this.config.mouseScroolBehaviour&&(this.config.mouseScrool=this.config.mouseScroolBehaviour),r._validateConfig(this.config)&&(this.server=null,this._vScroll={},this.config.ui||(this.ui=r.ui),this.config.editUI?this.editUI=this.config.editUI:this.editUI=new r.editUI,this.editUI.init(this),null===this.server&&(this.server=new r.server(this.config)),this.config.searchUI?this.searchUI=this.config.searchUI:this.searchUI=new r.searchUI,this.searchUI.init(this),this.config.nodeMenuUI?this.nodeMenuUI=this.config.nodeMenuUI:this.nodeMenuUI=new r.menuUI,this.nodeMenuUI.init(this,this.config.nodeMenu),this.config.nodeContextMenuUI?this.nodeContextMenuUI=this.config.nodeContextMenuUI:this.nodeContextMenuUI=new r.menuUI,this.nodeContextMenuUI.init(this,this.config.nodeContextMenu),this.config.toolbarUI?this.toolbarUI=this.config.toolbarUI:this.toolbarUI=new r.toolbarUI,this.config.notifierUI?this.notifierUI=this.config.notifierUI:this.notifierUI=new r.notifierUI,this.notifierUI.init(this),this.config.dragDropMenuUI?this.dragDropMenuUI=this.config.dragDropMenuUI:this.dragDropMenuUI=new r.menuUI,this.dragDropMenuUI.init(this,this.config.dragDropMenu),this.config.menuUI?this.menuUI=this.config.menuUI:this.menuUI=new r.menuUI,this.menuUI.init(this,this.config.menu),this.config.xScrollUI||(this.xScrollUI=new r.xScrollUI(this.element,this.config,(function(){return{boundary:i.response.boundary,scale:i.getScale(),viewBox:i.getViewBox(),padding:i.config.padding}}),(function(e){i.setViewBox(e)}),(function(){i._draw(!0,r.action.xScroll)}))),this.config.yScrollUI||(this.yScrollUI=new r.yScrollUI(this.element,this.config,(function(){return{boundary:i.response.boundary,scale:i.getScale(),viewBox:i.getViewBox(),padding:i.config.padding}}),(function(e){i.setViewBox(e)}),(function(){i._draw(!0,r.action.xScroll)}))),this._gragStartedId=null,this._timeout=null,this._touch=null,this._initialized=!1,this.response=null,this.nodes=null,this._setInitialSizeIfNotSet(),0<this.config.nodes.length&&this._draw(!1,r.action.init))};r.prototype.load=function(e){return this.config.nodes=e,this._draw(!1,r.action.init),this},r.prototype.loadXML=function(e){var t=r._xml2json(e);this.load(t)},r.prototype.getXML=function(){return r._json2xml(this.config.nodes)},r.prototype.on=function(e,t){return r.events.on(e,t,this._event_id),this},r.prototype.draw=function(e,t,i){null==e&&(e=r.action.update),this._draw(!1,e,t,i)},r.prototype._get=function(e){for(var t=0;t<this.config.nodes.length;t++)if(this.config.nodes[t].id==e)return this.config.nodes[t];return null},r.prototype.get=function(e){for(var t=0;t<this.config.nodes.length;t++)if(this.config.nodes[t].id==e)return JSON.parse(JSON.stringify(this.config.nodes[t]));return null},r.prototype.getByParentId=function(e){for(var t=[],i=0;i<this.config.nodes.length;i++)this.config.nodes[i].pid==e&&t.push(JSON.parse(JSON.stringify(this.config.nodes[i])));return t},r.prototype._draw=function(e,t,i,o){var n=this;this._hideBeforeAnimationCompleted=!1;var a=t==r.action.init?null:this.getViewBox();this.server.read(e,this.width(),this.height(),a,t,i,(function(e){t!=r.action.exporting&&(n.nodes=e.nodes),n.editUI.fields=e.allFields;var a={defs:""};r.events.publish("renderdefs",[n,a]);var l=n.ui.defs(a.defs),s=n.getScale(e.viewBox);l+=n.ui.pointer(n.config,t,s);var d=n.getViewBox(),c=e.viewBox;for(var p in a={content:l,res:e},r.events.publish("prerender",[n,a]),l=a.content,e.visibleNodes){var h=e.visibleNodes[p],f=n._get(p);l+=n.ui.node(h,f,e.animations,n.config,void 0,void 0,void 0,t,s,n),l+=n.ui.link(h,n,n.config,s),l+=n.ui.expandCollapse(h,n.config,t,s)}if(a={content:l,res:e},r.events.publish("render",[n,a]),l=a.content,l+=n.ui.lonely(n.config),t!==r.action.exporting){if(t!==r.action.centerNode&&t!==r.action.insert&&t!==r.action.expandCollapse&&t!==r.action.update||(c=d),t===r.action.init&&null!=d&&(c=d),n.response=e,_=n.ui.svg(n.width(),n.height(),c,n.config,l),n._initialized){var u=n.getSvg(),g=u.parentNode;g.removeChild(u),g.insertAdjacentHTML("afterbegin",_),n._attachEventHandlers(),n.xScrollUI.addListener(n.getSvg()),n.yScrollUI.addListener(n.getSvg()),n.xScrollUI.setPosition(),n.yScrollUI.setPosition()}else n.element.innerHTML=n.ui.css()+n.ui.exportMenuButton(n.config)+_,n._attachInitEventHandlers(),n._attachEventHandlers(),n.xScrollUI.create(n.width(),n.config.padding),n.xScrollUI.setPosition(),n.xScrollUI.addListener(n.getSvg()),n.yScrollUI.create(n.height(),n.config.padding),n.yScrollUI.setPosition(),n.yScrollUI.addListener(n.getSvg()),n.config.enableSearch&&n.searchUI.addSearchControl(),n.toolbarUI.init(n,n.config.toolbar);var m=!1;n.notifierUI.show(e.notif);var v=n.response.animations;if(0<v[0].length){n._hideBeforeAnimation(v[0].length);for(var y=0;y<v[0].length;y++)v[0][y]=n.getNodeElement(v[0][y]);r.anim(v[0],v[1],v[2],n.config.anim.duration,n.config.anim.func,(function(){m||(o&&o(),r.events.publish("redraw",[n]),n._showAfterAnimation(),m=!0)}))}t===r.action.centerNode?r.anim(n.getSvg(),{viewbox:d},{viewbox:n.response.viewBox},n.config.anim.duration,n.config.anim.func,(function(){n.ripple(i.options.rippleId),m||(o&&o(),r.events.publish("redraw",[n]),n._showAfterAnimation(),m=!0)}),(function(){n.xScrollUI.setPosition(),n.yScrollUI.setPosition()})):!d||!n.response||d[0]==n.response.viewBox[0]&&d[1]==n.response.viewBox[1]&&d[2]==n.response.viewBox[2]&&d[3]==n.response.viewBox[3]||t!==r.action.insert&&t!==r.action.expandCollapse&&t!==r.action.update&&t!==r.action.init?0==v[0].length&&(m||(o&&o(),r.events.publish("redraw",[n]),m=!0)):r.anim(n.getSvg(),{viewbox:d},{viewbox:n.response.viewBox},500,r.anim.inOutPow,(function(){n.xScrollUI.setPosition(),n.yScrollUI.setPosition(),m||(o&&o(),r.events.publish("redraw",[n]),m=!0)})),n._initialized||(n._initialized=!0,r.events.publish("init",[n]))}else{var x=e.boundary,b=x.maxX-x.minX,w=x.maxY-x.minY,_=n.ui.svg(b,w,[x.minX,x.minY,b,w],n.config,l,s);o(_)}}),(function(e){r.events.publish("ready",[n,e])}))},r.prototype._setInitialSizeIfNotSet=function(){this.element.style.overflow="hidden",this.element.style.position="relative",0==this.element.offsetHeight&&(this.element.style.height="100%",0==this.element.offsetHeight&&(this.element.style.height="700px")),0==this.element.offsetWidth&&(this.element.style.width="100%",0==this.element.offsetWidth&&(this.element.style.width="700px"))},r.prototype.getViewBox=function(){var e=this.getSvg(),t=null;return e?(t=(t="["+(t=e.getAttribute("viewBox"))+"]").replace(/\ /g,","),t=JSON.parse(t)):null},r.prototype.setViewBox=function(e){this.getSvg().setAttribute("viewBox",e.toString())},r.prototype.width=function(){return this.element.offsetWidth},r.prototype.height=function(){return this.element.offsetHeight},r.prototype.getScale=function(e){return e||(e=this.getViewBox()),r.getScale(e,this.width(),this.height(),this.config.scaleInitial,this.config.scaleMax,this.config.scaleMin)},r.prototype.ripple=function(e,t,i){var o=this.getBGNode(e);if(null!=o){var n=this.getNodeElement(e);if(null!=n){var a=this.getScale(),l=o.w/2,s=o.h/2;if(void 0!==t&&void 0!==i){var d=n.getBoundingClientRect();l=t/a-d.left/a,s=i/a-d.top/a}var c=o.w,p=o.h,h=l<c-l?c-l:l,f=s<p-s?p-s:s,u=(f=f)<(h=h)?h:f,g=document.createElementNS("http://www.w3.org/2000/svg","g"),m=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),v=document.createElementNS("http://www.w3.org/2000/svg","rect"),y=document.createElementNS("http://www.w3.org/2000/svg","circle"),x=r._randomId();m.setAttribute("id",x);var b=r.t(o.templateName,this.getScale());v.setAttribute("x",b.ripple.rect?b.ripple.rect.x:0),v.setAttribute("y",b.ripple.rect?b.ripple.rect.y:0),v.setAttribute("width",b.ripple.rect?b.ripple.rect.width:o.w),v.setAttribute("height",b.ripple.rect?b.ripple.rect.height:o.h),v.setAttribute("rx",b.ripple.radius),v.setAttribute("ry",b.ripple.radius),y.setAttribute("clip-path","url(#"+x+")"),y.setAttribute("cx",l),y.setAttribute("cy",s),y.setAttribute("r",0),y.setAttribute("fill",b.ripple.color),m.appendChild(v),g.appendChild(m),g.appendChild(y),n.appendChild(g),r.anim(y,{r:0,opacity:1},{r:u,opacity:0},500,r.anim.outPow,(function(){n.removeChild(g)}))}}},r.prototype.center=function(e,t,i){var o,n,a=e,l=!0,s=!0;t&&null!=t.parentState&&(o=t.parentState),t&&null!=t.childrenState&&(n=t.childrenState),t&&null!=t.rippleId&&(a=t.rippleId),t&&null!=t.vertical&&(l=t.vertical),t&&null!=t.horizontal&&(s=t.horizontal);var d={parentState:o,childrenState:n,rippleId:a,vertical:l,horizontal:s};this._draw(!1,r.action.centerNode,{id:e,options:d},i)},r.prototype.fit=function(e){this.config.scaleInitial=r.match.boundary,this._draw(!0,r.action.init,void 0,e)},r.prototype.getBGNode=function(e){var t=this.nodes[e];if(null==t)for(var i in this.nodes)for(var o=this.nodes[i].bgnodes,n=0;n<o.length;n++)if(o[n].id==e)return o[n];return t},r.prototype.setLayout=function(e){this.config.layout=e,this._draw(!1,r.action.update)},r.prototype.find=function(e){return this.server.find(e)},r.prototype._hideBeforeAnimation=function(e){if(1!=this._hideBeforeAnimationCompleted&&!(e&&e<r.ANIM_THRESHOLD)){var t=this.element.getElementsByTagName("text");if(t.length>r.TEXT_THRESHOLD)for(var i=0;i<t.length;i++)t[i].style.display="none";var o=this.element.getElementsByTagName("image");if(o.length>r.IMAGES_THRESHOLD)for(i=0;i<o.length;i++)o[i].style.display="none";var n=this.element.querySelectorAll("[link-id]");if(n.length>r.LINKS_THRESHOLD)for(i=0;i<n.length;i++)n[i].style.display="none";var a=this.element.querySelectorAll("[control-expcoll-id]");if(a.length>r.EXPCOLL_THRESHOLD)for(i=0;i<a.length;i++)a[i].style.display="none";this._hideBeforeAnimationCompleted=!0}},r.prototype._showAfterAnimation=function(){for(var e=this.element.getElementsByTagName("text"),t=0;t<e.length;t++)e[t].style.display="";var i=this.element.getElementsByTagName("image");for(t=0;t<i.length;t++)i[t].style.display="";var o=this.element.querySelectorAll("[link-id]");for(t=0;t<o.length;t++)o[t].style.display="";var n=this.element.querySelectorAll("[control-expcoll-id]");for(t=0;t<n.length;t++)n[t].style.display="";this._hideBeforeAnimationCompleted=!1},r.prototype.isChild=function(e,t){var i=this.getBGNode(e).childrenIds;if(-1!=i.indexOf(t))return!0;for(var o=0;o<i.length;o++)this.isChild(i[o],t);return!1},r.prototype.destroy=function(){this._removeEvent(window,"resize"),r.events.removeForEventId(this._event_id),this.element.innerHTML=null},r.prototype._canUpdateLink=function(e,t){return null!=t&&null!=t&&null!=e&&null!=e&&e!=t&&!this.isChild(e,t)},r.prototype.link=function(e,t){if(this._canUpdateLink(e,t)){var i=this.get(e);i.pid=t,this.update(i,!0)}},r.prototype.linkNode=function(e,t){if(this._canUpdateLink(e,t)){var i=this.getBGNode(e),o=this.getBGNode(t);if(i.isGroup&&o.isGroup)for(var n=o.bgnodes[0].id,a=0;a<i.bgnodes.length;a++)(l=this.get(i.bgnodes[a].id)).pid=n,this.update(l,!0);else if(!i.isGroup&&o.isGroup)n=o.bgnodes[0].id,(l=this.get(e)).pid=n,this.update(l,!0);else if(i.isGroup&&!o.isGroup)for(a=0;a<i.bgnodes.length;a++)(l=this.get(i.bgnodes[a].id)).pid=t,this.update(l,!0);else if(!i.isGroup&&!o.isGroup){var l;(l=this.get(e)).pid=t,this.update(l,!0)}i.isChildOfGroup&&(this.removeNodeTag(i.id,i._groupParentNodeId),this._removeGroupIfHasOneNode(i._groupParentNodeId,i.id));var s=this;this._draw(!1,r.action.update,{visId:e},(function(){s.ripple(i.id)}))}},r.prototype.updateNode=function(e,t){var i=this;if(!1===this.update(e,t))return!1;var o=e.pid;return null!=o&&null!=o&&""!=o||(o=e.id),this._draw(!1,r.action.update,{id:o},(function(){i.ripple(e.id)})),!0},r.prototype.update=function(e,t){var i=this.get(e.id);if(!0===t&&!1===r.events.publish("update",[this,i,e]))return!1;for(var o=0;o<this.config.nodes.length;o++)this.config.nodes[o].id==e.id&&(this.config.nodes[o]=e);return!0},r.prototype.removeNode=function(e,t){var i=this;return!1!==this.remove(e,t)&&(this._draw(!1,r.action.update,null,(function(){i.config.sticky&&r._moveToBoundaryArea(i.getSvg(),i.getViewBox(),i.response.boundary)})),!0)},r.prototype.remove=function(e,t){var i=this.getBGNode(e);if(i.isChildOfGroup&&this._removeGroupIfHasOneNode(i._groupParentNodeId,i.id),!0===t&&!1===r.events.publish("remove",[this,e]))return!1;for(var o=null,n=this.config.nodes.length-1;0<=n;n--)if(this.config.nodes[n].id==e){o=this.config.nodes[n].pid,this.config.nodes.splice(n,1);break}var a=this.getByParentId(e);for(n=a.length-1;0<=n;n--)a[n].pid=o,this.update(a[n],t);return!0},r.prototype.addNode=function(e,t){if(!1===this.add(e,t))return!1;var i=r.action.insert;null!=e.pid&&null!=e.pid||(i=r.action.update);var o=this.getBGNode(e.pid),n=e.pid;return o&&o.isChildOfGroup&&(n=o._groupParentNodeId),this._draw(!1,i,{id:n,insertedNodeId:e.id}),!0},r.prototype.add=function(e,t){return null==e.id&&console.error("Call addNode without id"),(!0!==t||!1!==r.events.publish("add",[this,e]))&&(this.config.nodes.push(e),!0)},r.prototype.addTag=function(e,t,i){var o=r.copy(this.config.tags);return o[e]=t,(!0!==i||!1!==r.events.publish("updatetags",[this,o]))&&(this.config.tags=o,!0)},r.prototype.hasTag=function(e){return null!=this.config.tags[e]},r.prototype.removeTag=function(e,t){var i=JSON.parse(JSON.stringify(this.config.tags));return delete i[e],(!0!==t||!1!==r.events.publish("updatetags",[this,i]))&&(this.config.tags=i,!0)},r.prototype._updateTag=function(e,t,i){var o=JSON.parse(JSON.stringify(this.config.tags));if(o[e][t]=i,!1===r.events.publish("updatetags",[this,o]))return!1;this.config.tags=o;var n=this;this._draw(!1,r.action.update,{id:e},(function(){n.ripple(e)}))},r.prototype.addNodeTag=function(e,t,i){var o=this.get(e);Array.isArray(o.tags)||(o.tags=[]),-1==o.tags.indexOf(t)&&(o.tags.push(t),this.update(o,i))},r.prototype.removeNodeTag=function(e,t,i){var o=this.get(e);if(Array.isArray(o.tags)){var n=o.tags.indexOf(t);-1!=n&&(o.tags.splice(n,1),this.update(o,i))}},r.prototype._removeGroupIfHasOneNode=function(e,t){if(r.REMOVE_GROUP_IF_HAS_ONE_NODE){var i=this.getBGNode(e);if(2==i.bgnodes.length){this.removeTag(i.id,!0);for(var o=0;o<i.bgnodes.length;o++){var n=i.bgnodes[o];n.id!=t&&this.removeNodeTag(n.id,e)}}}},r.prototype.groupNode=function(e,t,i,o){var n=this,a=this.group(e,t,i,o);this._draw(!1,r.action.update,{id:a.id},(function(){n.ripple(a.rippleId)}))},r.prototype.group=function(e,t,i,o){if(!0===o&&!1===r.events.publish("group",[this,e,t]))return!1;var n=this.getBGNode(e),a=this.getBGNode(t),l=a.id;if(n.isGroup||a.isGroup||n.isChildOfGroup||a.isChildOfGroup)if(n.isGroup||a.isGroup||!n.isChildOfGroup||a.isChildOfGroup)if(n.isGroup||a.isGroup||n.isChildOfGroup||!a.isChildOfGroup)if(!n.isGroup&&!a.isGroup&&n.isChildOfGroup&&a.isChildOfGroup)this._removeGroupIfHasOneNode(n._groupParentNodeId,n.id),this.removeNodeTag(n.id,n._groupParentNodeId,!0),this.addNodeTag(n.id,a._groupParentNodeId,!0),this.link(n.id,a.pid);else if(!n.isGroup&&a.isGroup&&n.isChildOfGroup&&!a.isChildOfGroup)this._removeGroupIfHasOneNode(n._groupParentNodeId,n.id),this.removeNodeTag(n.id,n._groupParentNodeId,!0),this.addNodeTag(n.id,a.id,!0);else if(n.isGroup||!a.isGroup||n.isChildOfGroup||a.isChildOfGroup){if(n.isGroup&&a.isGroup&&!n.isChildOfGroup&&!a.isChildOfGroup)for(var s=0;s<n.bgnodes.length;s++)this.removeNodeTag(n.bgnodes[s].id,n.id,!0),this.addNodeTag(n.bgnodes[s].id,a.id,!0)}else this.addNodeTag(n.id,a.id,!0);else this.addNodeTag(n.id,a._groupParentNodeId,!0),this.link(n.id,a.pid);else d=null!=i?i:r._randomId(),this.addTag(d,{group:!0,groupName:"",groupState:r.EXPAND,template:"group_grey"},!0),this._removeGroupIfHasOneNode(n._groupParentNodeId,n.id),this.removeNodeTag(n.id,n._groupParentNodeId,!0),this.addNodeTag(n.id,d,!0),this.addNodeTag(a.id,d,!0);else{var d=null!=i?i:r._randomId();this.addTag(d,{group:!0,groupName:"",groupState:r.EXPAND,template:"group_grey"},!0),this.addNodeTag(n.id,d,!0),this.addNodeTag(a.id,d,!0);var c=this._get(a.id).pid;this.link(n.id,c)}return{rippleId:n.id,id:l}},void 0===r&&(r={}),r._ajax=function(e,t,i,o,n){null==o&&(o="arraybuffer");var r=new XMLHttpRequest;r.onload=function(e){r.readyState==XMLHttpRequest.DONE&&200===this.status&&n(e.target.response)},r.onerror=function(e){n({error:e})},r.open(t,e),r.responseType=o,r.setRequestHeader("Content-Type","application/json"),null==i?r.send():r.send(i)},void 0===r&&(r={}),r.anim=function(e,t,o,n,a,l,s){var d,c=1,p=n/10+1;document.getElementsByTagName("g"),Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]),d=setInterval((function(){for(var h=0;h<e.length;h++)for(var f in o[h]){var u=r._arrayContains(["top","left","right","bottom","width","height"],f.toLowerCase())?"px":"";switch(f.toLowerCase()){case"d":var g=a((10*c-10)/n)*(o[h][f][0]-t[h][f][0])+t[h][f][0],m=a((10*c-10)/n)*(o[h][f][1]-t[h][f][1])+t[h][f][1];e[h].setAttribute("d",e[h].getAttribute("d")+" L"+g+" "+m);break;case"r":var v=a((10*c-10)/n)*(o[h][f]-t[h][f])+t[h][f];e[h].setAttribute("r",v);break;case"transform":if(o[h][f]){var y=t[h][f],x=o[h][f],b=[0,0,0,0,0,0];for(i in y)b[i]=a((10*c-10)/n)*(x[i]-y[i])+y[i];e[h].hasAttribute("transform")?e[h].setAttribute("transform","matrix("+b.toString()+")"):e[h].style.transform="matrix("+b.toString()+")"}break;case"viewbox":if(o[h][f]){for(i in y=t[h][f],x=o[h][f],b=[0,0,0,0],y)b[i]=a((10*c-10)/n)*(x[i]-y[i])+y[i];e[h].setAttribute("viewBox",b.toString())}break;case"margin":if(o[h][f]){for(i in y=t[h][f],x=o[h][f],b=[0,0,0,0],y)b[i]=a((10*c-10)/n)*(x[i]-y[i])+y[i];var w="";for(i=0;i<b.length;i++)w+=parseInt(b[i])+"px ";e[h]&&e[h].style&&(e[h].style[f]=w)}break;default:v=a((10*c-10)/n)*(o[h][f]-t[h][f])+t[h][f],e[h]&&e[h].style&&(e[h].style[f]=v+u)}}s&&s(),1+p<(c+=1)&&(clearInterval(d),l&&l(e))}),10)},r.anim.inPow=function(e){return e<0?0:1<e?1:Math.pow(e,2)},r.anim.outPow=function(e){return e<0?0:1<e?1:-1*(Math.pow(e-1,2)+-1)},r.anim.inOutPow=function(e){return e<0?0:1<e?1:(e*=2)<1?r.anim.inPow(e,2)/2:-.5*(Math.pow(e-2,2)+-2)},r.anim.inSin=function(e){return e<0?0:1<e?1:1-Math.cos(e*(Math.PI/2))},r.anim.outSin=function(e){return e<0?0:1<e?1:Math.sin(e*(Math.PI/2))},r.anim.inOutSin=function(e){return e<0?0:1<e?1:-.5*(Math.cos(Math.PI*e)-1)},r.anim.inExp=function(e){return e<0?0:1<e?1:Math.pow(2,10*(e-1))},r.anim.outExp=function(e){return e<0?0:1<e?1:1-Math.pow(2,-10*e)},r.anim.inOutExp=function(e){return e<0?0:1<e?1:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,10*(-2*e+1)))},r.anim.inCirc=function(e){return e<0?0:1<e?1:-(Math.sqrt(1-e*e)-1)},r.anim.outCirc=function(e){return e<0?0:1<e?1:Math.sqrt(1-(e-1)*(e-1))},r.anim.inOutCirc=function(e){return e<0?0:1<e?1:e<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(2*e-2)*(2*e-2))+1)},r.anim.rebound=function(e){return e<0?0:1<e?1:e<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-1.5/2.75)*(e-1.5/2.75)+.75):e<2.5/2.75?1-(7.5625*(e-2.25/2.75)*(e-2.25/2.75)+.9375):1-(7.5625*(e-2.625/2.75)*(e-2.625/2.75)+.984375)},r.anim.inBack=function(e){return e<0?0:1<e?1:e*e*(2.70158*e-1.70158)},r.anim.outBack=function(e){return e<0?0:1<e?1:(e-1)*(e-1)*(2.70158*(e-1)+1.70158)+1},r.anim.inOutBack=function(e){return e<0?0:1<e?1:e<.5?4*e*e*(7.1898*e-2.5949)*.5:.5*((2*e-2)*(2*e-2)*(3.5949*(2*e-2)+2.5949)+2)},r.anim.impulse=function(e){var t=2*e;return t*Math.exp(1-t)},r.anim.expPulse=function(e){return Math.exp(-2*Math.pow(e,2))},void 0===r&&(r={}),r.prototype._attachInitEventHandlers=function(e){this._addEvent(window,"resize",this._resizeHandler)},r.prototype._attachEventHandlers=function(e){e=this.getSvg(),this.config.enableTouch||/Mobi/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent)?(this._addEvent(e,"touchstart",this._globalMouseDownHandler),this._addEvent(e,"touchend",this._globalClickHandler)):(this._addEvent(e,"mousedown",this._globalMouseDownHandler),this._addEvent(e,"click",this._globalClickHandler),this._addEvent(e,"contextmenu",this._globalContextHandler),this._addEvent(e,"dblclick",this._globalDbClickHandler),this.config.mouseScrool==r.action.zoom&&(this._addEvent(e,"DOMMouseScroll",this._mouseScrollHandler),this._addEvent(e,"mousewheel",this._mouseScrollHandler)));var t=this.getExportMenuButton();t&&this._addEvent(t,"click",this._exportMenuClickHandler)},r.prototype._addEvent=function(e,t,i,o){var n,r;function a(e){var t=i.apply(this,arguments);return!1===t&&(e.stopPropagation(),e.preventDefault()),t}o||(o=""),e.getListenerList||(e.getListenerList={}),e.getListenerList[t+o]||(n=this,r=i,i=function(){if(r)return r.apply(n,[this,arguments[0]])},e.addEventListener?e.addEventListener(t,a,!1):e.attachEvent("on"+t,(function(){var t=i.call(e,window.event);return!1===t&&(window.event.returnValue=!1,window.event.cancelBubble=!0),t})),e.getListenerList[t+o]=a)},r.prototype._removeEvent=function(e,t){if(e.getListenerList[t]){var i=e.getListenerList[t];e.removeEventListener(t,i,!1),delete e.getListenerList[t]}},void 0===r&&(r={}),r.VERSION="6.2.55",r.orientation={},r.orientation.top=0,r.orientation.bottom=1,r.orientation.right=2,r.orientation.left=3,r.orientation.top_left=4,r.orientation.bottom_left=5,r.orientation.right_top=6,r.orientation.left_top=7,r.CENTER=8,r.ORIENTATION=9,r.TEXT_THRESHOLD=150,r.IMAGES_THRESHOLD=70,r.LINKS_THRESHOLD=150,r.EXPCOLL_THRESHOLD=40,r.ANIM_THRESHOLD=50,r.ID="id",r.PID="pid",r.TAGS="tags",r.NODES="nodes",r.ELASTIC="elastic",r.MAX_DEPTH=200,r.SCALE_FACTOR=1.44,r.EXPAND=0,r.COLLAPSE=1,r.LAZY_LOADING_FACTOR=500,r.action={},r.action.expandCollapse=0,r.action.groupMaxMin=100,r.action.edit=1,r.action.zoom=2,r.action.scroll=41,r.action.xScroll=3,r.action.yScroll=4,r.action.none=5,r.action.init=6,r.action.update=7,r.action.pan=8,r.action.centerNode=9,r.action.resize=10,r.action.insert=11,r.action.insertfirst=12,r.action.details=13,r.action.exporting=14,r.none=400001,r.scroll={},r.scroll.visible=1,r.scroll.smooth=12,r.scroll.speed=120,r.scroll.safari={smooth:12,speed:250},r.match={},r.match.height=100001,r.match.width=100002,r.match.boundary=100003,r.COLLAPSE_PARENT_NEIGHBORS=1,r.COLLAPSE_SUB_CHILDRENS=2,r.normal=0,r.mixed=1,r.tree=2,r.treeLeftOffset=3,r.treeRightOffset=4,r.nodeOpenTag='<g node-id="{id}" style="opacity: {opacity}" transform="matrix(1,0,0,1,{x},{y})" class="{class}" level="{level}">',r.linkOpenTag='<g link-id="[{id}][{child-id}]" class="{class}" level="{level}">',r.expcollOpenTag='<g control-expcoll-id="{id}" transform="matrix(1,0,0,1,{x},{y})"  style="cursor:pointer;">',r.groupNodesOpenTag='<g transform="matrix(1,0,0,1,{x},{y})">',r.linkFieldsOpenTag='<g transform="matrix(1,0,0,1,{x},{y}) rotate({rotate})">',r.grCloseTag="</g>",r.IT_IS_LONELY_HERE='<g transform="translate(-100, 0)" style="cursor:pointer;"  control-add="control-add"><text fill="#039be5">{link}</text></g>',r.RES={},r.RES.IT_IS_LONELY_HERE_LINK="It's lonely here, add your first node",r.MAXIMIZE='<g style="cursor:pointer;" transform="matrix(1,0,0,1,{x},20)" control-maxmin-id="{id}"><rect x="0" y="0" width="26" height="26" fill="#EEEEEE" stroke="#aeaeae" stroke-width="1" rx="2"></rect><polyline  stroke="#aeaeae" stroke-width="2" points="9,6 17,13 9,20" fill="none"></polyline></g>',r.MINIMIZE='<g style="cursor:pointer;" transform="matrix(1,0,0,1,{x},20)" control-maxmin-id="{id}"><rect x="0" y="0" width="26" height="26" fill="#EEEEEE" stroke="#aeaeae" stroke-width="1" rx="2"></rect><polyline stroke="#aeaeae" stroke-width="2" points="17,6 9,13 17,20" fill="none"></polyline></g>',r.MAX_NODES_MESS="The trial has expired or 200 nodes limit was reached! <br /><a style='color: #039BE5;' target='_blank' href='https://balkangraph.com/OrgChartJS/Docs/Evaluation'>See more</a>",r.OFFLINE_MESS="The evaluation version requires intermet connection! <br /><a style='color: #039BE5;' target='_blank' href='https://balkangraph.com/OrgChartJS/Docs/Evaluation'>See more</a>",r.SEARCH_PLACEHOLDER="Search",r.A4w=595,r.A4h=842,r.A3w=842,r.A3h=1191,r.A2w=1191,r.A2h=1684,r.A1w=1684,r.A1h=2384,r.MIXED_LAYOUT_ALL_NODES=!0,r.CLINK_CURVE=1,r.SEARCH_RESULT_LIMIT=10,r.REMOVE_GROUP_IF_HAS_ONE_NODE=!0,e.exports=r,r.input=function(e,t,i,o,n,a){null==o&&(o=!1);var l=document.createElement("div"),s=document.createElement("div"),d=document.createElement("input"),c=document.createElement("hr"),p=document.createElement("button");if(p.innerHTML="Upload",p.style.position="absolute",p.style.right=0,l.style.margin="14px 14px 7px 14px",l.style.textAlign="left",l.style.position="relative",l.setAttribute("data-field-name",e),c.style.border="1px solid #d7d7d7",c.style.backgroundColor="#d7d7d7",c.style.display="block",c.style.width="100%",s.style.color="#bcbcbc",d.style.border="none",d.style.outline="none",d.style.width="100%",d.setAttribute("val",""),n&&(d.style.width="80%"),d.style.fontSize="16px",d.readOnly=o,null!=t&&null!=t&&(d.value=t),null!=i&&null!=i&&(d.placeholder=i),null!=e&&null!=e&&(s.innerHTML=e),s.setAttribute("lbl",""),d.style.color="#7a7a7a",o||d.addEventListener("focus",(function(){var e=this.parentNode.getElementsByTagName("hr")[0];e.style.border="1px solid #039BE5",r.anim(e,{width:10},{width:l.clientWidth},250,r.anim.inOutSin)})),p.addEventListener("click",(function(){var e=this,t=document.createElement("INPUT");t.setAttribute("type","file"),t.style.display="none",t.onchange=function(){var t=this.files[0];r.events.publish("imageuploaded",[a,t,e.parentNode.querySelector("input")])},document.body.appendChild(t),t.click()})),d.addEventListener("blur",(function(){this.parentNode.getElementsByTagName("hr")[0].style.border="1px solid #d7d7d7"})),l.appendChild(s),l.appendChild(d),n&&l.appendChild(p),l.appendChild(c),r.addValidation){var h={wrapper:l,label:s,input:d,hr:c};r.addValidation(e,t,h)}return l},r._intersects=function(e,t,i){var o=e.x-i.siblingSeparation/4,n=e.y,a=e.x+e.w+i.siblingSeparation/4,l=e.y;switch(i.orientation){case r.orientation.right:case r.orientation.right_top:case r.orientation.left:case r.orientation.left_top:o=e.x,n=e.y-i.siblingSeparation/4,a=e.x,l=e.y+e.h+i.siblingSeparation/4}var s,d,c,p=t.p,h=t.q,f=t.r,u=t.s;return 0!=(s=(a-o)*(u-h)-(f-p)*(l-n))&&(d=((n-l)*(f-o)+(a-o)*(u-n))/s,0<(c=((u-h)*(f-o)+(p-f)*(u-n))/s)&&c<1&&0<d&&d<1)},r._addPoint=function(e,t,i,o,n){switch(i.orientation){case r.orientation.top:case r.orientation.top_left:return r._addPointTop(e,t,i,o,n);case r.orientation.bottom:case r.orientation.bottom_left:return r._addPointBottom(e,t,i,o,n);case r.orientation.left:case r.orientation.left_top:return r._addPointLeft(e,t,i,o,n);case r.orientation.right:case r.orientation.right_top:return r._addPointRight(e,t,i,o,n)}},r._addPointTop=function(e,t,i,o,n){var r,a,l;return"left"==n?r=e.leftNeighbor?e.x+(e.leftNeighbor.x+e.leftNeighbor.w-e.x)/2:e.x-i.siblingSeparation/2:"right"==n&&(r=e.rightNeighbor?e.x+e.w+(e.rightNeighbor.x-(e.x+e.w))/2:e.x+e.w+i.siblingSeparation/2),t.push([r,t[t.length-1][1]]),t.push([r,e.y-i.levelSeparation/3]),a=t[t.length-1][1],l=r,o.p=r,o.q=a,o.r=l,o},r._addPointBottom=function(e,t,i,o,n){var r,a,l;return"left"==n?r=e.leftNeighbor?e.x+(e.leftNeighbor.x+e.leftNeighbor.w-e.x)/2:e.x-i.siblingSeparation/2:"right"==n&&(r=e.rightNeighbor?e.x+e.w+(e.rightNeighbor.x-(e.x+e.w))/2:e.x+e.w+i.siblingSeparation/2),t.push([r,t[t.length-1][1]]),t.push([r,e.y+e.h+i.levelSeparation/3]),a=t[t.length-1][1],l=r,o.p=r,o.q=a,o.r=l,o},r._addPointLeft=function(e,t,i,o,n){var r,a=t[t.length-1][0];return"bottom"==n?r=e.rightNeighbor?e.y+e.h+(e.rightNeighbor.y-(e.y+e.h))/2:e.y+e.h+i.siblingSeparation/2:"top"==n&&(r=e.leftNeighbor?e.y+(e.leftNeighbor.y+e.leftNeighbor.h-e.y)/2:e.y-i.siblingSeparation/2),t.push([t[t.length-1][0],r]),t.push([e.x-i.levelSeparation/3,r]),a=t[t.length-1][0],s=r,o.p=a,o.q=r,o.s=s,o},r._addPointRight=function(e,t,i,o,n){var r,a=t[t.length-1][0];return"bottom"==n?r=e.rightNeighbor?e.y+e.h+(e.rightNeighbor.y-(e.y+e.h))/2:e.y+e.h+i.siblingSeparation/2:"top"==n&&(r=e.leftNeighbor?e.y+(e.leftNeighbor.y+e.leftNeighbor.h-e.y)/2:e.y-i.siblingSeparation/2),t.push([t[t.length-1][0],r]),t.push([e.x+e.w+i.levelSeparation/3,r]),a=t[t.length-1][0],s=r,o.p=a,o.q=r,o.s=s,o},r.editUI=function(){},r.editUI.prototype.init=function(e){this.obj=e,this.fields=null,this.node=null,this._event_id=r._guid()},r.editUI.prototype.on=function(e,t){return r.events.on(e,t,this._event_id),this},r.editUI.prototype.show=function(e,t){if(this.hide(),!1===r.events.publish("show",[this,e]))return!1;this.node=this.obj.getBGNode(e),this.wrapperElement=document.getElementById("bgEditForm"),this.wrapperElement&&this.obj.element.removeChild(this.wrapperElement),this.wrapperElement=document.createElement("div"),this.wrapperElement.className="edit-wrapper";var i=document.createElement("div");i.className="edit-view";var o=document.createElement("div");o.className="details-view";var n="400px";window.matchMedia("(max-width: 1150px)").matches&&(n="100%"),Object.assign(this.wrapperElement.style,{width:n,position:"absolute",top:0,right:"-150px",opacity:0,"border-left":"1px solid #d7d7d7","text-align":"left",height:"100%","background-color":"#ffffff"}),t?this._createDetailsView(this.node,o):this._createEditView(this.node,i)},r.editUI.prototype._createDetailsView=function(e,t){var i=this,o=document.createElement("div");o.className="edit-photo";var n=document.createElement("div"),a=document.createElement("div");a.className="edit-fields";var l=document.createElement("div");l.className="edit-tags",n.innerHTML='<svg style="width: 34px; height: 34px;"><path style="fill:#ffffff;" d="M21.205,5.007c-0.429-0.444-1.143-0.444-1.587,0c-0.429,0.429-0.429,1.143,0,1.571l8.047,8.047H1.111 C0.492,14.626,0,15.118,0,15.737c0,0.619,0.492,1.127,1.111,1.127h26.554l-8.047,8.032c-0.429,0.444-0.429,1.159,0,1.587 c0.444,0.444,1.159,0.444,1.587,0l9.952-9.952c0.444-0.429,0.444-1.143,0-1.571L21.205,5.007z"></path></svg>',Object.assign(n.style,{cursor:"pointer",width:"34px",height:"34px",position:"absolute",top:"7px",right:"7px"}),Object.assign(a.style,{"overflow-x":"hidden","overflow-y":"auto"}),Object.assign(o.style,{"background-color":"#039BE5","min-height":"50px",textAlign:"center",position:"relative"}),Object.assign(l.style,{margin:"12px"}),this.wrapperElement.appendChild(t),t.appendChild(o),t.appendChild(a),a.appendChild(l),o.appendChild(n),r.htmlRipple(o);var s=this.fields,d=this.obj._get(e.id);e.isGroup&&(s=["Name"],d={Name:this.obj.config.tags[e.id].groupName});for(var c=0;c<s.length;c++){var p=d[s[c]];if(e.isGroup&&(p=this.obj.config.tags[e.id]["group"+s[c]]),r._fieldIsImg(this.obj.config,s[c])){var h=document.createElement("img");h.src=p,h.style.width="100px",h.style.margin="10px",h.style.borderRadius="50px",this._addField(o,h,s[c],"details")}else if("tags"==s[c]){if(p)for(var f=0;f<p.length;f++){var u=document.createElement("span");Object.assign(u.style,{"background-color":"#F57C00",color:"#ffffff",margin:"2px",padding:"2px 12px","border-radius":"10px",display:"inline-block",border:"1px solid #FFCA28","user-select":"none"}),u.innerHTML=p[f],this._addField(l,u,p[f],"details-tag")}}else this._addField(a,r.input(s[c],p,null,!0,void 0,i),s[c],"details")}this.obj.element.appendChild(this.wrapperElement),o.addEventListener("click",(function(){i.hide(!1)})),this.obj._hideBeforeAnimation(),r.anim(this.wrapperElement,{right:-150,opacity:0},{right:0,opacity:.9},300,r.anim.inOutSin,(function(){i.obj._showAfterAnimation(),a.style.height=i.obj.element.offsetHeight-o.offsetHeight+"px"}))},r.editUI.prototype._addField=function(e,t,i,o){var n={name:i,field:t,type:o};!1!==r.events.publish("field",[this,n])&&e.appendChild(n.field)},r.editUI.prototype._createEditView=function(e,t){var i=this,o=document.createElement("div");o.className="edit-photo";var n=document.createElement("div"),a=document.createElement("div"),l=document.createElement("div");l.className="edit-fields";var s=document.createElement("div");s.className="edit-assistant-button-content",n.innerHTML='<svg style="width: 34px; height: 34px;"><path style="fill:#ffffff;" d="M21.205,5.007c-0.429-0.444-1.143-0.444-1.587,0c-0.429,0.429-0.429,1.143,0,1.571l8.047,8.047H1.111 C0.492,14.626,0,15.118,0,15.737c0,0.619,0.492,1.127,1.111,1.127h26.554l-8.047,8.032c-0.429,0.444-0.429,1.159,0,1.587 c0.444,0.444,1.159,0.444,1.587,0l9.952-9.952c0.444-0.429,0.444-1.143,0-1.571L21.205,5.007z"></path></svg>',this.wrapperElement.id="bgEditForm",Object.assign(n.style,{cursor:"pointer",width:"34px",height:"34px",position:"absolute",top:"7px",right:"7px"}),Object.assign(l.style,{"overflow-x":"hidden","overflow-y":"auto"}),Object.assign(o.style,{"background-color":"#039BE5","min-height":"50px",textAlign:"center",position:"relative"}),Object.assign(a.style,{margin:"14px 14px 7px",color:"#4285F4",cursor:"pointer"}),Object.assign(s.style,{margin:"14px 14px 7px",color:"rgb(188, 188, 188)"}),a.innerHTML="Add new field";var d=r._arrayContains(this.node.tags,"assistant")?"checked":"";s.setAttribute("data-field-name","isAssistant"),s.innerHTML='<div style="margin-top: 10px;display:inline-block;">Assistant</div><label class="bg-switch"><input val type="checkbox" '+d+'><span class="bg-slider round"></span></label>',this.wrapperElement.appendChild(t),t.appendChild(o),t.appendChild(l),o.appendChild(n),r.htmlRipple(o);var c=this.fields,p=this.obj._get(e.id);e.isGroup&&(c=["Name"],p={Name:this.obj.config.tags[e.id].groupName});for(var h=0;h<c.length;h++){var f=p[c[h]];if(e.isGroup&&(f=this.obj.config.tags[e.id]["group"+c[h]]),"tags"!=c[h])if(r._fieldIsImg(this.obj.config,c[h])){if(f){var u=document.createElement("img");u.src=f,u.style.width="100px",u.style.margin="10px",u.style.borderRadius="50px",o.appendChild(u)}this._addField(l,r.input(c[h],f,null,!1,!0,i),c[h],"edit")}else this._addField(l,r.input(c[h],f,null,!1,void 0,i),c[h],"edit")}e.isGroup||e.isChildOfGroup||0!=e.childrenIds.length||this._addField(l,s,"isAssistant","edit"),e.isGroup||this._addField(l,a,"Add new field","edit"),this.obj.element.appendChild(this.wrapperElement),o.addEventListener("click",(function(){i.hide(!0)})),a.addEventListener("click",(function(){if("Save"==a.innerHTML)r.anim(a,{opacity:1},{opacity:0},200,r.anim.inSin,(function(){a.innerHTML="Add new field",a.style.textAlign="left";var e=document.getElementById("bgNewField"),t=e.getElementsByTagName("input")[0].value;if(l.removeChild(e),t&&!r._arrayContains(i.fields,t)){var o=r.input(t);o.style.opacity=0,l.insertBefore(o,a),r.anim(o,{opacity:0},{opacity:1},200,r.anim.inSin,(function(){o.getElementsByTagName("input")[0].focus()}))}r.anim(a,{opacity:0},{opacity:1},200,r.anim.inSin)}));else{r.anim(a,{opacity:1},{opacity:0},200,r.anim.inSin,(function(){a.innerHTML="Save",a.style.textAlign="right",r.anim(a,{opacity:0},{opacity:1},200,r.anim.inSin)}));var e=r.input(null,null,"Field name");e.style.opacity=0,e.id="bgNewField",l.appendChild(e),r.anim(e,{opacity:0},{opacity:1},200,r.anim.inSin,(function(){e.getElementsByTagName("input")[0].focus()}))}})),this.obj._hideBeforeAnimation(),r.anim(this.wrapperElement,{right:-150,opacity:0},{right:0,opacity:.9},300,r.anim.inOutSin,(function(){i.obj._showAfterAnimation(),l.style.height=i.obj.element.offsetHeight-o.offsetHeight+"px",1<i.wrapperElement.getElementsByTagName("input").length&&i.wrapperElement.getElementsByTagName("input")[0].focus()}))},r.editUI.prototype.hide=function(e){if(this.wrapperElement){if(!1===r.events.publish("hide",[this]))return!1;var t=this.obj.get(this.node.id);if(this.node.isGroup&&(t={Name:this.obj.config.tags[this.node.id].groupName}),e){for(var i=this.wrapperElement.querySelectorAll("[data-field-name]"),o=0;o<i.length;o++){var n=i[o].getAttribute("data-field-name");if(n){var a=i[o].querySelector("[val]").value;if(n===r.TAGS)t.tags=a.split(",");else if("isAssistant"===n){var l=i[o].querySelector("[val]").checked;l&&t.tags?r._arrayContains(this.node.tags,"assistant")||t.tags.push("assistant"):l&&!t.tags?t.tags=["assistant"]:!l&&t.tags&&-1!=this.node.tags.indexOf("assistant")&&t.tags.splice(t.tags.indexOf("assistant"),1)}else null!=t[n]?t[n]=a:""!=a&&(t[n]=a)}}var s=this;this.obj._hideBeforeAnimation(),r.anim(s.wrapperElement,{right:0,opacity:1},{right:-150,opacity:0},300,r.anim.inOutSin,(function(){s.obj._showAfterAnimation(),s.node.isGroup?s.obj._updateTag(s.node.id,"groupName",t.Name):s.obj.updateNode(t,!0),s.obj.element.removeChild(s.wrapperElement),s.wrapperElement=null}))}else this.obj.element.removeChild(this.wrapperElement),this.wrapperElement=null}},r.prototype.getSvg=function(){var e=this.element.getElementsByTagName("svg");return e&&e.length?e[0]:null},r.prototype.getPointerElement=function(){return this.element.querySelector("g[data-pointer]")},r.prototype.getNodeElement=function(e){return this.element.querySelector("g[node-id='"+e+"']")},r.prototype.getExportMenuButton=function(){return this.element.querySelector("[control-export-menu]")},r.menuUI=function(){},r.menuUI.prototype.init=function(e,t){this.obj=e,this.wrapper=null,this.menu=t,this._event_id=r._guid()},r.menuUI.prototype.showStickIn=function(e,t,i,o){this._show(e,null,t,i,o)},r.menuUI.prototype.show=function(e,t,i,o,n){this._show(e,t,i,o,n)},r.menuUI.prototype._show=function(e,t,i,o,n){var a=this;this.hide();var l="";n||(n=this.menu);var s={firstNodeId:i,secondNodeId:o,menu:n};if(!1===r.events.publish("show",[this,s]))return!1;for(var d in n=s.menu){var c=n[d].icon,p=n[d].text;void 0===c&&(c=r.icon[d](24,24,"#7A7A7A")),"function"==typeof p&&(p=p()),"function"==typeof c&&(c=c()),l+='<div data-item="'+d+'" style="border-bottom: 1px solid #D7D7D7; padding: 7px 10px;color: #7A7A7A;">'+c+"<span>&nbsp;&nbsp;"+p+"</span></div>"}if(""!=l){if(this.wrapper=document.createElement("div"),Object.assign(this.wrapper.style,{opacity:0,"background-color":"#FFFEFF","box-shadow":"#DCDCDC 0px 1px 2px 0px",display:"inline-block",border:"1px solid #D7D7D7;border-radius:5px","z-index":1e3,position:"absolute","text-align":"left","user-select":"none"}),this.wrapper.className="chart-menu",this.wrapper.style.left="-99999px",this.wrapper.style.top="-99999px",this.wrapper.innerHTML=l,this.obj.element.appendChild(this.wrapper),null==t){var h=r._menuPosition(e,this.wrapper,this.obj.getSvg());e=h.x,t=h.y}var f=e+45;this.wrapper.style.left=f+"px",this.wrapper.style.top=t+"px",this.wrapper.style.left=f-this.wrapper.offsetWidth+"px";var u=e-this.wrapper.offsetWidth;r.anim(this.wrapper,{opacity:0,left:f-this.wrapper.offsetWidth},{opacity:1,left:u},300,r.anim.inOutPow);for(var g=this.wrapper.getElementsByTagName("div"),m=0;m<g.length;m++)(d=g[m]).addEventListener("mouseover",(function(){this.style.backgroundColor="#F0F0F0"})),d.addEventListener("mouseleave",(function(){this.style.backgroundColor="#FFFFFF"})),d.addEventListener("click",(function(e){var t,l=this.getAttribute("data-item");if(void 0===n[l].onClick)if("add"===l){var s={id:r._randomId(),pid:i};a.obj.addNode(s,!0)}else if("edit"===l){var d=a.obj.getBGNode(i);a.obj.editUI.show(d.id)}else"details"===l?(d=a.obj.getBGNode(i),a.obj.editUI.show(d.id,!0)):"remove"===l?a.obj.removeNode(i,!0):"svg"===l?a.obj.exportSVG({filename:"OrgChart.svg",expandChildren:!1,nodeId:i}):"pdf"===l?a.obj.exportPDF({filename:"OrgChart.pdf",expandChildren:!1,nodeId:i}):"png"===l?a.obj.exportPNG({filename:"OrgChart.png",expandChildren:!1,nodeId:i}):"csv"===l?a.obj.exportCSV():"xml"===l?a.obj.exportXML():"addInGroup"===l?a.obj.groupNode(i,o):"addAsChild"===l&&a.obj.linkNode(i,o);else t=n[l].onClick.call(a.obj,i,o);0!=t&&a.hide()}))}},r.menuUI.prototype.hide=function(){null!=this.wrapper&&(this.obj.element.removeChild(this.wrapper),this.wrapper=null)},r.menuUI.prototype.on=function(e,t){return r.events.on(e,t,this._event_id),this},void 0===r&&(r={}),r.idb={version:1,dbName:"balkangraph",tableName:"orgchart-js",keyPath:"id"},r.idb.db=null,r.idb._open=function(e){if((0<navigator.userAgent.toLowerCase().indexOf("safari")||0<navigator.userAgent.toLowerCase().indexOf("firefox"))&&window.location!==window.parent.location)e&&e(!1);else{if(!window.indexedDB)return console.error("Your browser doesn't support a stable version of IndexedDB."),void(e&&e(!1));if(null==r.idb.db){var t=indexedDB.open(r.idb.dbName,r.idb.version);t.onerror=function(t){console.error("Cannot open database!"),e&&e(!1)},t.onsuccess=function(t){r.idb.db=t.target.result,e&&e(!0)},t.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains(r.idb.tableName)&&t.deleteObjectStore(r.idb.tableName),t.createObjectStore(r.idb.tableName,{keyPath:r.idb.keyPath})}}else e&&e(!0)}},r.idb.read=function(e,t){r.idb._open((function(i){if(i){var o=r.idb.db.transaction([r.idb.tableName]).objectStore(r.idb.tableName).get(e);o.onerror=function(e){console.error("Unable to retrieve data from database!"),t&&t(!1)},o.onsuccess=function(e){o.result?t&&t(!0,o.result):t&&t(null)}}else t&&t(!1)}))},r.idb.write=function(e,t){r.idb.read(e.id,(function(i){if(null==i){var o=r.idb.db.transaction([r.idb.tableName],"readwrite").objectStore(r.idb.tableName).add(e);o.onerror=function(e){console.error("Unable to add data to database!"),t&&t(!1)},o.onsuccess=function(e){t&&t(!0)}}else t&&t(i)}))},r.toolbarUI=function(){},r.toolbarUI.expandAllIcon='<svg style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="4" markerHeight="4" orient="auto-start-reverse"><path d="M 0 0 L 10 5 L 0 10 z" fill="#757575" /></marker><line x1="11" y1="11" x2="6" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="11" x2="26" y2="6" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="21" y1="21" x2="26" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><line x1="11" y1="21" x2="6" y2="26" stroke="#757575" stroke-width="2" marker-end="url(#arrow)" /><rect x="12" y="12" width="8" height="8" fill="#757575"></rect></svg>',r.toolbarUI.fitIcon='<svg  style="margin-bottom:7px;box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M4,11 L4,4 L11,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,11 L28,4 L21,4"></path><path stroke-width="3" fill="none" stroke="#757575" d="M28,21 L28,28 L21,28"></path><path stroke-width="3" fill="none" stroke="#757575" d="M4,21 L4,28 L11,28"></path><circle cx="16" cy="16" r="5" fill="#757575"></circle></svg>',r.toolbarUI.zoomInIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-top: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line><line x1="16" y1="8" x2="16" y2="24" stroke-width="3" stroke="#757575"></line></g><line x1="4" y1="32" x2="28" y2="32" stroke-width="1" stroke="#cacaca"></line></svg>',r.toolbarUI.zoomOutIcon='<svg style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); margin-bottom:7px; border-left: 1px solid #cacaca; border-right: 1px solid #cacaca; border-bottom: 1px solid #cacaca; background-color: #f9f9f9;display: block; cursor: pointer;" width="32px" height="32px" ><g><rect fill="#f9f9f9" x="0" y="0" width="32" height="32" ></rect><line x1="8" y1="16" x2="24" y2="16" stroke-width="3" stroke="#757575"></line></g></svg>',r.toolbarUI.layoutIcon='<svg data-tlbr="layout" style="box-shadow: 0px 1px 4px rgba(0,0,0,0.3); border: 1px solid #cacaca;background-color: #f9f9f9;display: block;cursor: pointer;" width="32px" height="32px"><path stroke-width="3" fill="none" stroke="#757575" d="M8,24 L16,14 L24,24"></path><path stroke-width="3" fill="none" stroke="#757575" d="M8,16 L16,8 L24,16"></path></svg>',r.toolbarUI.prototype.init=function(e,t){if(t){this.obj=e,this.toolbar=t,this._visible=!1,this.div=document.createElement("div"),this.div.classList.add("bg-toolbar-container"),Object.assign(this.div.style,{position:"absolute",padding:"3px",right:this.obj.config.padding+"px",bottom:this.obj.config.padding+"px"}),t.expandAll&&(this.div.innerHTML+='<div data-tlbr="expand">'+r.toolbarUI.expandAllIcon+"</div>"),t.fit&&(this.div.innerHTML+='<div data-tlbr="fit">'+r.toolbarUI.fitIcon+"</div>"),t.zoom&&(this.div.innerHTML+='<div data-tlbr="plus">'+r.toolbarUI.zoomInIcon+"</div>",this.div.innerHTML+='<div data-tlbr="minus">'+r.toolbarUI.zoomOutIcon+"</div>"),t.layout&&(this.div.innerHTML+='<div data-tlbr="layout">'+r.toolbarUI.layoutIcon+"</div>",this.layouts=document.createElement("div"),this.layouts.innerHTML='<svg data-layout="normal" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="88" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="32" x2="32" y1="35" y2="41" stroke-width="1"></line><line stroke="#000000" x1="88" x2="88" y1="35" y2="41" stroke-width="1"></line></svg><svg data-layout="treeRightOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="40" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="35" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="35" x2="35" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="35" x2="40" y1="54" y2="54" stroke-width="1"></line></svg><svg data-layout="treeLeftOffset" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="30" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="35" stroke-width="1"></line><line stroke="#000000" x1="60" x2="85" y1="35" y2="35" stroke-width="1"></line><line stroke="#000000" x1="85" x2="85" y1="35" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="86" y2="86" stroke-width="1"></line><line stroke="#000000" x1="80" x2="85" y1="54" y2="54" stroke-width="1"></line></svg><svg data-layout="mixed" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="35" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="41" stroke-width="1"></line><line stroke="#000000" x1="60" x2="60" y1="68" y2="73" stroke-width="1"></line></svg><svg data-layout="tree" style="cursor: pointer;" width="110" height="100"><rect fill="#039BE5" x="35" y="0" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="7" y="73" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="41" width="50" height="27"></rect><rect fill="#F57C00" x="63" y="73" width="50" height="27"></rect><line stroke="#000000" x1="60" x2="60" y1="27" y2="86" stroke-width="1"></line><line stroke="#000000" x1="57" x2="63" y1="54" y2="54" stroke-width="1"></line><line stroke="#000000" x1="57" x2="63" y1="86" y2="86" stroke-width="1"></line></svg>',this.obj.element.appendChild(this.layouts),Object.assign(this.layouts.style,{position:"absolute",width:"100%",left:"0",bottom:"-145px","box-shadow":"0px 1px 4px rgba(0,0,0,0.3)","background-color":"#f9f9f9",height:"123px","padding-top":"20px","border-top":"1px solid #cacaca"})),this.obj.element.appendChild(this.div),this.layoutBtn=this.div.querySelector('[data-tlbr="layout"]');var i=this.div.querySelector('[data-tlbr="plus"]'),o=this.div.querySelector('[data-tlbr="minus"]'),n=this.div.querySelector('[data-tlbr="fit"]'),a=this.div.querySelector('[data-tlbr="expand"]'),l=this;i&&i.addEventListener("click",(function(){l.obj.zoom(!0,null,!0)})),o&&o.addEventListener("click",(function(){l.obj.zoom(!1,null,!0)})),n&&n.addEventListener("click",(function(){l.obj.fit()})),a&&a.addEventListener("click",(function(){l.obj.expand(null,"all")})),this.layoutBtn&&this.layoutBtn.addEventListener("click",(function(){l._visible?l.hideLayout():l.showLayout()})),this.layouts&&this.layouts.addEventListener("click",(function(e){for(var t=e.target;t;){if(t.hasAttribute&&t.hasAttribute("data-layout")){t=t.getAttribute("data-layout"),l.obj.setLayout(r[t]);break}t=t.parentNode}}))}},r.toolbarUI.prototype.showLayout=function(){this._visible=!0,this.layoutBtn.style.transform="rotate(180deg) translateX(0px) translateY(0px)",r.anim(this.div,{bottom:this.obj.config.padding},{bottom:this.obj.config.padding+145},this.obj.config.anim.duration,this.obj.config.anim.func),r.anim(this.layouts,{bottom:-145},{bottom:0},this.obj.config.anim.duration,this.obj.config.anim.func)},r.toolbarUI.prototype.hideLayout=function(){this._visible=!1,this.layoutBtn.style.transform="rotate(0deg) translateX(0px) translateY(0px)",r.anim(this.div,{bottom:this.obj.config.padding+145},{bottom:this.obj.config.padding},this.obj.config.anim.duration,this.obj.config.anim.func),r.anim(this.layouts,{bottom:0},{bottom:-145},this.obj.config.anim.duration,this.obj.config.anim.func)},r.notifierUI=function(){},r.notifierUI.prototype.init=function(e){this.obj=e},r.notifierUI.prototype.show=function(e,t){if(null!=e){1==e&&(e=r.MAX_NODES_MESS,t="#FFCA28"),2==e&&(e=r.OFFLINE_MESS,t="#FFCA28");var i=document.createElement("div");i.innerHTML=e,Object.assign(i.style,{position:"absolute","background-color":t,color:"#ffffff",padding:"15px","border-radius":"40px",opacity:0,overflow:"hidden","white-space":"nowrap","text-align":"center"}),this.obj.element.appendChild(i);var o=this.obj.width()/2-i.offsetWidth/2,n=this.obj.height()/2-i.offsetHeight/2;i.style.left=o+"px",i.style.top=n+"px";var a=i.offsetWidth;i.style.width="20px",r.anim(i,{opacity:0,width:10},{opacity:1,width:a},this.obj.config.anim.duration,this.obj.config.anim.func)}},r.icon={},r.icon.png=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'" d="M146.747,276.708c0-13.998-9.711-22.352-26.887-22.352c-6.99,0-11.726,0.675-14.204,1.355v44.927 c2.932,0.676,6.539,0.896,11.52,0.896C135.449,301.546,146.747,292.28,146.747,276.708z"/><path fill="'+i+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M234.344,335.86v45.831h-31.601V229.524h40.184 l31.611,55.759c9.025,16.031,18.064,34.983,24.825,52.154h0.675c-2.257-20.103-2.933-40.643-2.933-63.44v-44.473h31.614v152.167 h-36.117l-32.516-58.703c-9.049-16.253-18.971-35.892-26.438-53.727l-0.665,0.222C233.906,289.58,234.344,311.027,234.344,335.86z M71.556,381.691V231.56c10.613-1.804,25.516-3.159,46.506-3.159c21.215,0,36.353,4.061,46.509,12.192 c9.698,7.673,16.255,20.313,16.255,35.219c0,14.897-4.959,27.549-13.999,36.123c-11.738,11.063-29.123,16.031-49.441,16.031 c-4.522,0-8.593-0.231-11.736-0.675v54.411H71.556V381.691z M453.601,523.353H97.2V419.302h356.4V523.353z M485.652,374.688 c-10.61,3.607-30.713,8.585-50.805,8.585c-27.759,0-47.872-7.003-61.857-20.545c-13.995-13.1-21.684-32.97-21.452-55.318 c0.222-50.569,37.03-79.463,86.917-79.463c19.644,0,34.783,3.829,42.219,7.446l-7.214,27.543c-8.369-3.617-18.752-6.55-35.458-6.55 c-28.656,0-50.341,16.256-50.341,49.22c0,31.382,19.649,49.892,47.872,49.892c7.895,0,14.218-0.901,16.934-2.257v-31.835h-23.493 v-26.869h56.679V374.688z"/></svg>'},r.icon.pdf=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'" d="M160.381,282.225c0-14.832-10.299-23.684-28.474-23.684c-7.414,0-12.437,0.715-15.071,1.432V307.6 c3.114,0.707,6.942,0.949,12.192,0.949C148.419,308.549,160.381,298.74,160.381,282.225z"/><path fill="'+i+'" d="M272.875,259.019c-8.145,0-13.397,0.717-16.519,1.435v105.523c3.116,0.729,8.142,0.729,12.69,0.729 c33.017,0.231,54.554-17.946,54.554-56.474C323.842,276.719,304.215,259.019,272.875,259.019z"/><path fill="'+i+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M362.359,309.023c0,30.876-11.243,52.165-26.82,65.333 c-16.971,14.117-42.82,20.814-74.396,20.814c-18.9,0-32.297-1.197-41.401-2.389V234.365c13.399-2.149,30.878-3.346,49.304-3.346 c30.612,0,50.478,5.508,66.039,17.226C351.828,260.69,362.359,280.547,362.359,309.023z M80.7,393.499V234.365 c11.241-1.904,27.042-3.346,49.296-3.346c22.491,0,38.527,4.308,49.291,12.928c10.292,8.131,17.215,21.534,17.215,37.328 c0,15.799-5.25,29.198-14.829,38.285c-12.442,11.728-30.865,16.996-52.407,16.996c-4.778,0-9.1-0.243-12.435-0.723v57.67H80.7 V393.499z M453.601,523.353H97.2V419.302h356.4V523.353z M484.898,262.127h-61.989v36.851h57.913v29.674h-57.913v64.848h-36.593 V232.216h98.582V262.127z"/></svg>'},r.icon.svg=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'" d="M488.426,197.019H475.2v-63.816c0-0.398-0.063-0.799-0.116-1.202c-0.021-2.534-0.827-5.023-2.562-6.995L366.325,3.694 c-0.032-0.031-0.063-0.042-0.085-0.076c-0.633-0.707-1.371-1.295-2.151-1.804c-0.231-0.155-0.464-0.285-0.706-0.419 c-0.676-0.369-1.393-0.675-2.131-0.896c-0.2-0.056-0.38-0.138-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.873v160.545 c0,17.043,13.824,30.87,30.873,30.87h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87v-160.54C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.513c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M338.871,225.672L284.545,386.96h-42.591 l-51.69-161.288h39.967l19.617,68.196c5.508,19.143,10.531,37.567,14.36,57.67h0.717c4.061-19.385,9.089-38.527,14.592-56.953 l20.585-68.918h38.77V225.672z M68.458,379.54l7.415-30.153c9.811,5.021,24.888,10.051,40.439,10.051 c16.751,0,25.607-6.935,25.607-17.465c0-10.052-7.662-15.795-27.05-22.734c-26.8-9.328-44.263-24.168-44.263-47.611 c0-27.524,22.971-48.579,61.014-48.579c18.188,0,31.591,3.823,41.159,8.131l-8.126,29.437c-6.465-3.116-17.945-7.657-33.745-7.657 c-15.791,0-23.454,7.183-23.454,15.552c0,10.296,9.089,14.842,29.917,22.731c28.468,10.536,41.871,25.365,41.871,48.094 c0,27.042-20.812,50.013-65.09,50.013C95.731,389.349,77.538,384.571,68.458,379.54z M453.601,523.353H97.2V419.302h356.4V523.353z M488.911,379.54c-11.243,3.823-32.537,9.103-53.831,9.103c-29.437,0-50.73-7.426-65.57-21.779 c-14.839-13.875-22.971-34.942-22.738-58.625c0.253-53.604,39.255-84.235,92.137-84.235c20.81,0,36.852,4.073,44.74,7.896 l-7.657,29.202c-8.859-3.829-19.849-6.95-37.567-6.95c-30.396,0-53.357,17.233-53.357,52.173c0,33.265,20.81,52.882,50.73,52.882 c8.375,0,15.072-0.96,17.94-2.395v-33.745h-24.875v-28.471h60.049V379.54L488.911,379.54z" /></svg>'},r.icon.csv=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 548.29 548.291" ><path fill="'+i+'" d="M486.2,196.121h-13.164V132.59c0-0.399-0.064-0.795-0.116-1.2c-0.021-2.52-0.824-5-2.551-6.96L364.656,3.677 c-0.031-0.034-0.064-0.044-0.085-0.075c-0.629-0.707-1.364-1.292-2.141-1.796c-0.231-0.157-0.462-0.286-0.704-0.419 c-0.672-0.365-1.386-0.672-2.121-0.893c-0.199-0.052-0.377-0.134-0.576-0.188C358.229,0.118,357.4,0,356.562,0H96.757 C84.893,0,75.256,9.649,75.256,21.502v174.613H62.093c-16.972,0-30.733,13.756-30.733,30.73v159.81 c0,16.966,13.761,30.736,30.733,30.736h13.163V526.79c0,11.854,9.637,21.501,21.501,21.501h354.777 c11.853,0,21.502-9.647,21.502-21.501V417.392H486.2c16.966,0,30.729-13.764,30.729-30.731v-159.81 C516.93,209.872,503.166,196.121,486.2,196.121z M96.757,21.502h249.053v110.006c0,5.94,4.818,10.751,10.751,10.751h94.973v53.861 H96.757V21.502z M258.618,313.18c-26.68-9.291-44.063-24.053-44.063-47.389c0-27.404,22.861-48.368,60.733-48.368 c18.107,0,31.447,3.811,40.968,8.107l-8.09,29.3c-6.43-3.107-17.862-7.632-33.59-7.632c-15.717,0-23.339,7.149-23.339,15.485 c0,10.247,9.047,14.769,29.78,22.632c28.341,10.479,41.681,25.239,41.681,47.874c0,26.909-20.721,49.786-64.792,49.786 c-18.338,0-36.449-4.776-45.497-9.77l7.38-30.016c9.772,5.014,24.775,10.006,40.264,10.006c16.671,0,25.488-6.908,25.488-17.396 C285.536,325.789,277.909,320.078,258.618,313.18z M69.474,302.692c0-54.781,39.074-85.269,87.654-85.269 c18.822,0,33.113,3.811,39.549,7.149l-7.392,28.816c-7.38-3.084-17.632-5.939-30.491-5.939c-28.822,0-51.206,17.375-51.206,53.099 c0,32.158,19.051,52.4,51.456,52.4c10.947,0,23.097-2.378,30.241-5.238l5.483,28.346c-6.672,3.34-21.674,6.919-41.208,6.919 C98.06,382.976,69.474,348.424,69.474,302.692z M451.534,520.962H96.757v-103.57h354.777V520.962z M427.518,380.583h-42.399 l-51.45-160.536h39.787l19.526,67.894c5.479,19.046,10.479,37.386,14.299,57.397h0.709c4.048-19.298,9.045-38.352,14.526-56.693 l20.487-68.598h38.599L427.518,380.583z" /></svg>'},r.icon.excel=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 512 512"><path fill="#ECEFF1" d="M496,432.011H272c-8.832,0-16-7.168-16-16s0-311.168,0-320s7.168-16,16-16h224 c8.832,0,16,7.168,16,16v320C512,424.843,504.832,432.011,496,432.011z" /><path fill="'+i+'" d="M336,176.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,176.011,336,176.011z" /><path fill="'+i+'" d="M336,240.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,240.011,336,240.011z" /><path fill="'+i+'" d="M336,304.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,304.011,336,304.011z" /><path fill="'+i+'" d="M336,368.011h-64c-8.832,0-16-7.168-16-16s7.168-16,16-16h64c8.832,0,16,7.168,16,16 S344.832,368.011,336,368.011z" /><path fill="'+i+'" d="M432,176.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,176.011,432,176.011z" /><path fill="'+i+'" d="M432,240.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,240.011,432,240.011z" /><path fill="'+i+'" d="M432,304.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,304.011,432,304.011z" /><path fill="'+i+'" d="M432,368.011h-32c-8.832,0-16-7.168-16-16s7.168-16,16-16h32c8.832,0,16,7.168,16,16 S440.832,368.011,432,368.011z" /><path fill="'+i+'"  d="M282.208,19.691c-3.648-3.04-8.544-4.352-13.152-3.392l-256,48C5.472,65.707,0,72.299,0,80.011v352 c0,7.68,5.472,14.304,13.056,15.712l256,48c0.96,0.192,1.952,0.288,2.944,0.288c3.712,0,7.328-1.28,10.208-3.68 c3.68-3.04,5.792-7.584,5.792-12.32v-448C288,27.243,285.888,22.731,282.208,19.691z" /><path fill="#FAFAFA" d="M220.032,309.483l-50.592-57.824l51.168-65.792c5.44-6.976,4.16-17.024-2.784-22.464 c-6.944-5.44-16.992-4.16-22.464,2.784l-47.392,60.928l-39.936-45.632c-5.856-6.72-15.968-7.328-22.56-1.504 c-6.656,5.824-7.328,15.936-1.504,22.56l44,50.304L83.36,310.187c-5.44,6.976-4.16,17.024,2.784,22.464 c2.944,2.272,6.432,3.36,9.856,3.36c4.768,0,9.472-2.112,12.64-6.176l40.8-52.48l46.528,53.152 c3.168,3.648,7.584,5.504,12.032,5.504c3.744,0,7.488-1.312,10.528-3.968C225.184,326.219,225.856,316.107,220.032,309.483z" /></svg>'},r.icon.edit=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 528.899 528.899"><path fill="'+i+'" d="M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981 c-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611 C532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069 L27.473,390.597L0.3,512.69z" /></svg>'},r.icon.details=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 512 512"><path fill="'+i+'" d="M447.933,103.629c-0.034-3.076-1.224-6.09-3.485-8.352L352.683,3.511c-0.004-0.004-0.007-0.005-0.011-0.008 C350.505,1.338,347.511,0,344.206,0H89.278C75.361,0,64.04,11.32,64.04,25.237v461.525c0,13.916,11.32,25.237,25.237,25.237 h333.444c13.916,0,25.237-11.32,25.237-25.237V103.753C447.96,103.709,447.937,103.672,447.933,103.629z M356.194,40.931 l50.834,50.834h-49.572c-0.695,0-1.262-0.567-1.262-1.262V40.931z M423.983,486.763c0,0.695-0.566,1.261-1.261,1.261H89.278 c-0.695,0-1.261-0.566-1.261-1.261V25.237c0-0.695,0.566-1.261,1.261-1.261h242.94v66.527c0,13.916,11.322,25.239,25.239,25.239 h66.527V486.763z"/><path fill="'+i+'" d="M362.088,164.014H149.912c-6.62,0-11.988,5.367-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,169.381,368.707,164.014,362.088,164.014z"/><path fill="'+i+'" d="M362.088,236.353H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.62,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.368,11.988-11.988C374.076,241.721,368.707,236.353,362.088,236.353z"/><path fill="'+i+'" d="M362.088,308.691H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988h212.175 c6.62,0,11.988-5.367,11.988-11.988C374.076,314.06,368.707,308.691,362.088,308.691z"/><path fill="'+i+'" d="M256,381.031H149.912c-6.62,0-11.988,5.368-11.988,11.988c0,6.621,5.368,11.988,11.988,11.988H256 c6.62,0,11.988-5.367,11.988-11.988C267.988,386.398,262.62,381.031,256,381.031z"/></svg>'},r.icon.remove=function(e,t,i){return'<svg width="'+e+'" height="'+t+'"  viewBox="0 0 900.5 900.5"><path fill="'+i+'" d="M176.415,880.5c0,11.046,8.954,20,20,20h507.67c11.046,0,20-8.954,20-20V232.487h-547.67V880.5L176.415,880.5z M562.75,342.766h75v436.029h-75V342.766z M412.75,342.766h75v436.029h-75V342.766z M262.75,342.766h75v436.029h-75V342.766z"/><path fill="'+i+'" d="M618.825,91.911V20c0-11.046-8.954-20-20-20h-297.15c-11.046,0-20,8.954-20,20v71.911v12.5v12.5H141.874 c-11.046,0-20,8.954-20,20v50.576c0,11.045,8.954,20,20,20h34.541h547.67h34.541c11.046,0,20-8.955,20-20v-50.576 c0-11.046-8.954-20-20-20H618.825v-12.5V91.911z M543.825,112.799h-187.15v-8.389v-12.5V75h187.15v16.911v12.5V112.799z"/></svg>'},r.icon.add=function(e,t,i){return'<svg width="'+e+'" height="'+t+'"   viewBox="0 0 922 922"><path fill="'+i+'" d="M922,453V81c0-11.046-8.954-20-20-20H410c-11.045,0-20,8.954-20,20v149h318c24.812,0,45,20.187,45,45v198h149 C913.046,473.001,922,464.046,922,453z" /><path fill="'+i+'" d="M557,667.001h151c11.046,0,20-8.954,20-20v-174v-198c0-11.046-8.954-20-20-20H390H216c-11.045,0-20,8.954-20,20v149h194 h122c24.812,0,45,20.187,45,45v4V667.001z" /><path fill="'+i+'" d="M0,469v372c0,11.046,8.955,20,20,20h492c11.046,0,20-8.954,20-20V692v-12.501V667V473v-4c0-11.046-8.954-20-20-20H390H196 h-12.5H171H20C8.955,449,0,457.955,0,469z" /></svg>'},r.icon.search=function(e,t){return'<svg width="'+e+'" height="'+t+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 485.213 485.213"><path fill="#757575" d="M471.882,407.567L360.567,296.243c-16.586,25.795-38.536,47.734-64.331,64.321l111.324,111.324 c17.772,17.768,46.587,17.768,64.321,0C489.654,454.149,489.654,425.334,471.882,407.567z" /><path fill="#757575" d="M363.909,181.955C363.909,81.473,282.44,0,181.956,0C81.474,0,0.001,81.473,0.001,181.955s81.473,181.951,181.955,181.951 C282.44,363.906,363.909,282.437,363.909,181.955z M181.956,318.416c-75.252,0-136.465-61.208-136.465-136.46 c0-75.252,61.213-136.465,136.465-136.465c75.25,0,136.468,61.213,136.468,136.465 C318.424,257.208,257.206,318.416,181.956,318.416z" /><path fill="#757575" d="M75.817,181.955h30.322c0-41.803,34.014-75.814,75.816-75.814V75.816C123.438,75.816,75.817,123.437,75.817,181.955z" /></svg>'},r.icon.addInGroup=function(e,t,i){return'<svg width="'+e+'" height="'+t+'"   viewBox="0 0 922 922"><path fill="'+i+'" d="M922,453V81c0-11.046-8.954-20-20-20H410c-11.045,0-20,8.954-20,20v149h318c24.812,0,45,20.187,45,45v198h149 C913.046,473.001,922,464.046,922,453z" /><path fill="'+i+'" d="M557,667.001h151c11.046,0,20-8.954,20-20v-174v-198c0-11.046-8.954-20-20-20H390H216c-11.045,0-20,8.954-20,20v149h194 h122c24.812,0,45,20.187,45,45v4V667.001z" /><path fill="'+i+'" d="M0,469v372c0,11.046,8.955,20,20,20h492c11.046,0,20-8.954,20-20V692v-12.501V667V473v-4c0-11.046-8.954-20-20-20H390H196 h-12.5H171H20C8.955,449,0,457.955,0,469z" /></svg>'},r.icon.addAsChild=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 922 922"><path fill="'+i+'" d="M922,453V81c0-11.046-8.954-20-20-20H410c-11.045,0-20,8.954-20,20v149h318c24.812,0,45,20.187,45,45v198h149 C913.046,473.001,922,464.046,922,453z" /><path fill="'+i+'" d="M557,667.001h151c11.046,0,20-8.954,20-20v-174v-198c0-11.046-8.954-20-20-20H390H216c-11.045,0-20,8.954-20,20v149h194 h122c24.812,0,45,20.187,45,45v4V667.001z" /><path fill="'+i+'" d="M0,469v372c0,11.046,8.955,20,20,20h492c11.046,0,20-8.954,20-20V692v-12.501V667V473v-4c0-11.046-8.954-20-20-20H390H196 h-12.5H171H20C8.955,449,0,457.955,0,469z" /></svg>'},r.icon.xml=function(e,t,i){return'<svg width="'+e+'" height="'+t+'" viewBox="0 0 550.801 550.801"><path fill="'+i+'"  d="M488.426,197.019H475.2v-63.816c0-0.401-0.063-0.799-0.116-1.205c-0.021-2.534-0.827-5.023-2.562-6.992L366.325,3.691 c-0.032-0.031-0.063-0.042-0.085-0.073c-0.633-0.707-1.371-1.298-2.151-1.804c-0.231-0.158-0.464-0.287-0.706-0.422 c-0.676-0.366-1.393-0.675-2.131-0.896c-0.2-0.053-0.38-0.135-0.58-0.19C359.87,0.119,359.037,0,358.193,0H97.2 c-11.918,0-21.6,9.693-21.6,21.601v175.413H62.377c-17.049,0-30.873,13.818-30.873,30.87v160.542 c0,17.044,13.824,30.876,30.873,30.876h13.224V529.2c0,11.907,9.682,21.601,21.6,21.601h356.4c11.907,0,21.6-9.693,21.6-21.601 V419.302h13.226c17.044,0,30.871-13.827,30.871-30.87V227.89C519.297,210.838,505.47,197.019,488.426,197.019z M97.2,21.605 h250.193v110.51c0,5.967,4.841,10.8,10.8,10.8h95.407v54.108H97.2V21.605z M369.531,374.53h-32.058l-2.156-55.519 c-0.644-17.434-1.298-38.518-1.298-59.611h-0.633c-4.514,18.516-10.547,39.166-16.137,56.162l-17.645,56.601h-25.618 l-15.494-56.157c-4.725-16.996-9.671-37.658-13.123-56.6h-0.43c-0.854,19.585-1.508,41.961-2.586,60.038l-2.576,55.086h-30.343 l9.26-145.035h43.677l14.207,48.421c4.517,16.774,9.041,34.847,12.258,51.843h0.654c4.081-16.77,9.038-35.923,13.774-52.064 l15.493-48.199h42.82L369.531,374.53z M69.992,374.53l41.955-73.385l-40.444-71.65h37.655l12.688,26.465 c4.316,8.828,7.533,15.928,10.99,24.092h0.422c3.438-9.242,6.23-15.694,9.893-24.092l12.274-26.465h37.434l-40.89,70.796 l43.044,74.239h-37.866l-13.134-26.257c-5.376-10.108-8.817-17.639-12.909-26.04h-0.433c-3.009,8.401-6.674,15.932-11.19,26.04 l-12.042,26.257H69.992z M453.601,523.353H97.2V419.302h356.4V523.353z M485.325,374.53h-90.608V229.495h32.933v117.497h57.682 v27.538H485.325z"/></svg>'},r.prototype.exportPDF=function(e,t){e=this._defaultExportOptions(e,"pdf"),this._export(e,t)},r.prototype.exportPNG=function(e,t){e=this._defaultExportOptions(e,"png"),this._export(e,t)},r.prototype.exportSVG=function(e,t){e=this._defaultExportOptions(e,"svg"),this._export(e,t)},r.prototype._defaultExportOptions=function(e,t){if(null==e&&(e={}),"svg"==t?(e.ext="svg",e.mime="image/svg+xml"):"pdf"==t?(e.mime="application/pdf",e.ext="pdf"):"png"==t&&(e.mime="image/png",e.ext="png"),null==e.margin&&(e.margin=[50,40,50,40]),null==e.landscape&&(e.landscape=!1),null==e.filename&&(e.filename="OrgChart."+e.ext),null==e.scale&&(e.scale="fit"),null==e.format&&(e.format="fit"),null==e.header&&(e.header=""),null==e.footer&&(e.footer=""),null==e.openInNewTab&&(e.openInNewTab=!1),null!=e.nodeId){var i=this.getBGNode(e.nodeId);i.isChildOfGroup&&(e.nodeId=i._groupParentNodeId)}return e},r.prototype._export=function(e,t){var i=this,o={id:e.nodeId,expandChildren:e.expandChildren};this._draw(!1,r.action.exporting,o,(function(o){var n=document.createElement("div");if(n.innerHTML=o,"svg"==e.ext)if(t)t(e,n.innerHTML);else{var a={content:n.innerHTML,options:e},l=r.events.publish("exportstart",[i,a]);if(!1===l)return!1;if(r._downloadFile(e.mime,a.content,a.options.filename,a.options.openInNewTab),!1===(l=r.events.publish("exportend",[i,a])))return!1}else i._pages(e,n.querySelector("svg"),(function(o){var a={content:n.innerHTML,options:e,pages:o};if(!1===r.events.publish("exportstart",[i,a]))return!1;t||r.loading.show(i),t?t(i,a,n.querySelector("svg")):(a=JSON.stringify(a),r._ajax(i.config.exportUrl+"/v3","POST",a,"arraybuffer",(function(t){if(!1===r.events.publish("exportend",[i,t]))return!1;r.loading.hide(i),r._downloadFile(e.mime,t,e.filename,e.openInNewTab)})))}))}))},r.prototype.exportCSV=function(e){e||(e="OrgChart.csv");var t={ext:"csv",filename:e,nodes:JSON.parse(JSON.stringify(this.config.nodes))};if(!1===r.events.publish("exportstart",[this,t]))return!1;var i=r._json2csv(t.nodes),o={ext:t.ext,filename:t.filename,nodes:t.nodes,content:i};if(!1===r.events.publish("exportend",[this,o]))return!1;r._downloadFile("text/csv;charset=utf-8;","\ufeff"+o.content,o.filename,o.openInNewTab)},r.prototype.exportXML=function(e){e||(e="OrgChart.xml");var t={ext:"xml",filename:e,nodes:JSON.parse(JSON.stringify(this.config.nodes))};if(!1===r.events.publish("exportstart",[this,t]))return!1;var i=r._json2xml(t.nodes),o={ext:t.ext,filename:t.filename,nodes:t.nodes,content:i};if(!1===r.events.publish("exportend",[this,o]))return!1;r._downloadFile("application/xml",o.content,o.filename,o.openInNewTab)},r.prototype._pages=function(e,t,i){"fit2Levels"==e.format?this._pagesFit2Levels(e,i):"A42Levels"==e.format||"A32Levels"==e.format||"A22Levels"==e.format||"A12Levels"==e.format?this._pagesA2Levels(e,i):"A4"==e.format&&"fit"!=e.scale||"A3"==e.format&&"fit"!=e.scale||"A2"==e.format&&"fit"!=e.scale||"A1"==e.format&&"fit"!=e.scale?i(this._pagesA100(e,t,e.scale)):"A4"==e.format&&"fit"==e.scale||"A3"==e.format&&"fit"==e.scale||"A2"==e.format&&"fit"==e.scale||"A1"==e.format&&"fit"==e.scale?i(this._pagesAfit(e,t)):"fit"==e.format&&i(this._pagesFit(e,t))},r.prototype._pagesA2Levels=function(e,t){var i=this,o=this.config.collapse,n=this.config.roots;this.config.collapse={level:2};var a={id:e.nodeId,expandChildren:e.expandChildren},l=[],s=[];for(var d in this.nodes)this.destroy,(0!=(p=this.nodes[d]).childrenIds.length||0==p.childrenIds.length&&null==p.pid)&&(p.isAssistant||"split"==p.templateName||s.push(p.id));for(var c=0;c<s.length;c++){d=s[c];var p=this.nodes[d];this.config.roots=[p.id],function(d){i._draw(!1,r.action.exporting,a,(function(r){var a=document.createElement("div");a.innerHTML=r,function(r,a){for(var d=r.querySelector("svg"),c=i._pagesAfit(e,d),p=0;p<c.length;p++){var h=c[p];h.html=r.innerHTML,l.push(h)}s.length-1==a&&(i.config.collapse=o,i.config.roots=n,t(l))}(a,d)}))}(c)}},r.prototype._pagesFit2Levels=function(e,t){var i=this,o=this.config.collapse,n=this.config.roots;this.config.collapse={level:2};var a={id:e.nodeId,expandChildren:e.expandChildren},l=[],s=[];for(var d in this.nodes){var c=this.nodes[d];(0!=c.childrenIds.length||0==c.childrenIds.length&&null==c.pid)&&(c.isAssistant||"split"==c.templateName||s.push(c.id))}for(var p=0;p<s.length;p++)d=s[p],this.config.roots=[d],function(d){i._draw(!1,r.action.exporting,a,(function(r){var a=document.createElement("div");a.innerHTML=r,function(r,a){for(var d=r.querySelector("svg"),c=i._pagesFit(e,d),p=0;p<c.length;p++){var h=c[p];h.html=r.innerHTML,l.push(h)}s.length-1==a&&(i.config.collapse=o,i.config.roots=n,t(l))}(a,d)}))}(p)},r.prototype._pagesFit=function(e,t){var i=t.getAttribute("width"),o=t.getAttribute("height"),n=r.pdfPrevUI._getViewBox(t),a={w:parseFloat(i),h:parseFloat(o)};return[{vb:n,size:{w:a.w+(e.margin[1]+e.margin[3]),h:a.h+(e.margin[0]+e.margin[2])},innerSize:a}]},r.prototype._pagesAfit=function(e,t){var i=t.getAttribute("width"),o=t.getAttribute("height"),n=0,a=0;switch(e.format){case"A4":case"A42Levels":n=r.A4w,a=r.A4h;break;case"A3":case"A32Levels":n=r.A3w,a=r.A3h;case"A2":case"A22Levels":n=r.A2w,a=r.A2h;case"A1":case"A12Levels":n=r.A1w,a=r.A1h}var l=r.pdfPrevUI._getViewBox(t),s={w:e.landscape?a-(e.margin[1]+e.margin[3]):n-(e.margin[1]+e.margin[3]),h:e.landscape?n-(e.margin[0]+e.margin[2]):a-(e.margin[0]+e.margin[2])},d={w:e.landscape?a:n,h:e.landscape?n:a},c=i/s.w,p=o/s.h,h=p<c?c:p,f=l[0],u=l[1]/h,g=l[2],m=l[3]/h;t.setAttribute("width",s.w),t.setAttribute("height",s.h),t.setAttribute("preserveAspectRatio","xMidYMin meet");for(var v=s.h,y=f,x=u,b=[];x<m;){var w=[y,x*h,g,m];w=w.join(),b.push({vb:w,innerSize:s,size:d}),x+=s.h,o<(v+=s.h)&&(v=o)}return b},r.prototype._pagesA100=function(e,t,i){var o=r.pdfPrevUI._getViewBox(t),n=0,a=0;switch(e.format){case"A4":case"A42Levels":n=r.A4w,a=r.A4h;break;case"A3":case"A32Levels":n=r.A3w,a=r.A3h;case"A2":case"A22Levels":n=r.A2w,a=r.A2h;case"A1":case"A12Levels":n=r.A1w,a=r.A1h}var l=o[0],s=o[1],d=o[2],c=o[3],p={w:e.landscape?a-(e.margin[1]+e.margin[3]):n-(e.margin[1]+e.margin[3]),h:e.landscape?n-(e.margin[0]+e.margin[2]):a-(e.margin[0]+e.margin[2])},h={w:e.landscape?a:n,h:e.landscape?n:a};t.setAttribute("preserveAspectRatio","xMinYMin slice"),t.setAttribute("width",p.w),t.setAttribute("height",p.h);for(var f=l,u=s,g=p.w*(100/i),m=p.h*(100/i),v=[];f<d;){for(;u<c;){var y=[f,u,f+g,m];y=y.join(),v.push({vb:y,innerSize:p,size:h}),u+=m}f+=g,u=s}return v},void 0===r&&(r={}),r.events=(n={},{on:function(e,t,i){Array.isArray(n[e])||(n[e]=[]),n[e].push({listener:t,event_id:i})},removeAll:function(e){Array.isArray(n[e])||(n[e]=[]),n[e]=[]},removeForEventId:function(e){for(var t in n)if(Array.isArray(n[t]))for(var i=n[t].length-1;0<=i;i--)n[t][i].event_id==e&&n[t].splice(i,1)},publish:function(e,t){if(n[e]){for(var i=[],o=0;o<n[e].length;o++){var r=n[e][o];null!=r.event_id&&r.event_id!=t[0]._event_id||i.push(r.listener)}if(0<i.length){var a=!0;for(o=0;o<i.length;o++)1==t.length?a=i[o](t[0])&&a:2==t.length?a=i[o](t[0],t[1])&&a:3==t.length?a=i[o](t[0],t[1],t[2])&&a:4==t.length?a=i[o](t[0],t[1],t[2],t[3])&&a:5==t.length&&(a=i[o](t[0],t[1],t[2],t[3],t[4])&&a);return a}}}}),r.prototype.importCSV=function(){var e=this,t=document.createElement("INPUT");t.setAttribute("type","file"),t.setAttribute("accept",".csv"),t.style.display="none",t.onchange=function(t){var i=t.target,o=new FileReader;o.onload=function(){for(var t=o.result,i=r._csvToArray(t,","),n=[],a=1;a<i.length;a++){for(var l={},s=0;s<i[a].length;s++){var d=i[0][s],c=i[a][s];if("tags"==d&&""!=c)c=c.split(",");else if("tags"==d&&""==c)continue;l[d]=c}""!=l.id.trim()&&n.push(l)}0!=r.events.publish("import",[e,n])&&(e.config.nodes=n,e.draw())},o.readAsText(i.files[0])},t.click()},r.prototype.importXML=function(){var e=this,t=document.createElement("INPUT");t.setAttribute("type","file"),t.setAttribute("accept",".xml"),t.style.display="none",t.onchange=function(t){var i=t.target,o=new FileReader;o.onload=function(){var t=o.result,i=r._xml2json(t);0!=r.events.publish("import",[e,i])&&(e.config.nodes=i,e.draw())},o.readAsText(i.files[0])},t.click()},r.prototype.expand=function(e,t,i){var o={id:e,ids:t,state:r.EXPAND};this._draw(!1,r.action.expandCollapse,o,i)},r.prototype.collapse=function(e,t,i){var o={id:e,ids:t,state:r.COLLAPSE};this._draw(!1,r.action.expandCollapse,o,i)},r.prototype.expandCollapseToLevel=function(e,t,i,o){this.config.collapse=t,null==i&&(i={}),this.config.expand=i;var n={id:e,method:"expandCollapseToLevel"};this._draw(!1,r.action.expandCollapse,n,o)},r.prototype.maximize=function(e,t){var i={id:e,state:r.EXPAND};this._draw(!1,r.action.groupMaxMin,i,t)},r.prototype.minimize=function(e,t){var i={id:e,state:r.COLLAPSE};this._draw(!1,r.action.groupMaxMin,i,t)},r.prototype._expCollHandler=function(e){this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.dragDropMenuUI.hide(),this.menuUI.hide();var t=this.getBGNode(e);if(t.collapsedChildrenIds.length){if(!1===r.events.publish("expcollclick",[this,r.EXPAND,e,t.collapsedChildrenIds]))return!1;this.expand(e,t.collapsedChildrenIds,!1)}else{if(!1===r.events.publish("expcollclick",[this,r.COLLAPSE,e,t.childrenIds]))return!1;this.collapse(e,t.childrenIds,!1)}},r.prototype._maxMinHandler=function(e){this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.dragDropMenuUI.hide(),this.menuUI.hide();var t=this.getBGNode(e);if(t.groupState==r.EXPAND){if(!1===r.events.publish("expcollclick",[this,r.COLLAPSE,e]))return!1;this.minimize(e)}else if(t.groupState==r.COLLAPSE){if(!1===r.events.publish("expcollclick",[this,r.EXPAND,e]))return!1;this.maximize(e)}},String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"g"),t)},String.prototype.splice=function(e,t,i){return this.slice(0,e)+i+this.slice(e+Math.abs(t))},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),o=1;o<arguments.length;o++){var n=arguments[o];if(null!=n)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},writable:!0,configurable:!0}),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),r.prototype._globalMouseDownHandler=function(e,t){var i={move:"mousemove",up:"mouseup",leave:"mouseleave"};if(-1!=t.type.indexOf("touch")&&(1==t.touches.length?this._touch={x:t.touches[0].clientX,y:t.touches[0].clientY}:this._touch=null,i={move:"touchmove",up:"touchend",touchstart:"touchstart"}),e==t.target)return t.stopPropagation(),t.preventDefault(),void this._mouseDownHandler(e,t,i);if(this.config.nodeMouseClick==r.action.pan){for(var o=t.target;o!=e&&!o.hasAttribute("control-expcoll-id");)o=o.parentNode;if(!o.hasAttribute("control-expcoll-id"))return t.stopPropagation(),t.preventDefault(),void this._mouseDownHandler(e,t,i)}for(var n=t.target;n!=e;){if(n.hasAttribute("node-id"))return t.stopPropagation(),t.preventDefault(),void this._nodeMouseDownHandler(n,t,i);n=n.parentNode}},r.prototype._globalClickHandler=function(e,t){if(-1!=t.type.indexOf("touch")&&this._touch&&1==t.changedTouches.length){if(t.changedTouches.length){var i=t.changedTouches[0].clientX,o=t.changedTouches[0].clientY,n=r.t(this.config.template,this.getScale()).size,a=this.getScale(),l=Math.abs(i-this._touch.x)/a,s=Math.abs(o-this._touch.y)/a;if(this._touch=null,l>n[0]/10)return;if(s>n[1]/10)return}}else if(-1!=t.type.indexOf("touch")&&null==this._touch)return;for(var d=t.target;d!=e;){if(d.hasAttribute("control-expcoll-id")){var c=d.getAttribute("control-expcoll-id");return void this._expCollHandler(c)}if(d.hasAttribute("control-maxmin-id"))return c=d.getAttribute("control-maxmin-id"),void this._maxMinHandler(c);if(d.hasAttribute("node-id"))return c=d.getAttribute("node-id"),void this._nodeClickHandler(c,t);if(d.hasAttribute("control-node-menu-id"))return c=d.getAttribute("control-node-menu-id"),void this._nodeMenuClickHandler(c,d,t);if(d.hasAttribute("control-add"))return void this._lonelyButtonHandler();d=d.parentNode}},r.prototype._globalContextHandler=function(e,t){for(var i=t.target;i!=e;){if(i.hasAttribute("node-id")){var o=i.getAttribute("node-id");return void this._nodeContextHandler(o,t)}i=i.parentNode}},r.prototype._nodeContextHandler=function(e,t){t.preventDefault(),this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.dragDropMenuUI.hide(),this.menuUI.hide();var i=this.get(e),o=null;if(null!=i&&Array.isArray(i.tags))for(var n=0;n<i.tags.length;n++){var r=i.tags[n];this.config.tags[r]&&this.config.tags[r].nodeContextMenu&&(o=this.config.tags[r].nodeContextMenu)}this.nodeContextMenuUI.show(t.pageX,t.pageY,e,null,o)},r.prototype._globalDbClickHandler=function(e,t){for(var i=t.target;i!=e;){if(i.hasAttribute("node-id")){var o=i.getAttribute("node-id");return void this._nodeDbClickHandler(o,t)}i=i.parentNode}},r.prototype._mouseScrollHandler=function(e,t){var i=this,o=!1,n=this.config.zoom.speed,a=this.config.zoom.smooth,l=0,s=this.getScale(),d=r._centerPointInPercent(i.getSvg(),t.pageX,t.pageY),c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,20)};t.preventDefault();var p=t.delta||t.wheelDelta;void 0===p&&(p=-t.detail),p=Math.max(-1,Math.min(1,p)),l+=-p*n,o||function e(){o=!0;var t=(l-s)/a;0<t?t++:t--,s+=t,i.zoom(1-t/12/50,d),parseInt(s)==parseInt(l)?o=!1:c(e)}()},r.prototype._nodeMouseDownHandler=function(e,t,i){if(this.config.enableDragDrop){var o=r._getClientXY(t),n=e.getAttribute("node-id"),a=this.getBGNode(n);if(!1!==r.events.publish("drag",[this,n])){var l=null,s=null;this._gragStartedId=n,document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none";var d=this,c=this.getSvg(),p={x:o.x,y:o.y},h=r._getTransform(e),f=h[4],u=h[5],g=d.getScale(),m=e.cloneNode(!0);if(c.insertBefore(m,c.firstChild),m.style.opacity=.7,a.isChildOfGroup){var v=this.getNodeElement(a._groupParentNodeId),y=r._getTransform(v);f+=y[4],u+=y[5],h[4]=f,h[5]=u,m.setAttribute("transform","matrix("+h.toString()+")")}var x=function(e,t){if(null!=e){var i=d.getBGNode(e);i.isChildOfGroup&&(d.getNodeElement(i._groupParentNodeId).style.opacity=1),t.style.opacity=1}},b=function(e){var t=r._getClientXY(e),i=document.elementFromPoint(t.x,t.y);if(x(l,s),s=l=null,d.config.enableDragDrop)for(;null!=i&&i!=c;){if(i.hasAttribute("node-id")){var o=i.getAttribute("node-id");if(d._gragStartedId&&o!=d._gragStartedId){l=o,s=i;break}}i=i.parentNode}if(null!=l){var n=d.getBGNode(l);n.isChildOfGroup&&(d.getNodeElement(n._groupParentNodeId).style.opacity=.8),s.style.opacity=.5}var a=(t.x-p.x)/g,v=(t.y-p.y)/g;h[4]=f+a,h[5]=u+v,m.setAttribute("transform","matrix("+h.toString()+")")},w=function(e){if(c.removeEventListener(i.move,b),c.removeEventListener(i.up,w),i.leave&&c.removeEventListener(i.leave,w),a.id==l||a.isChildOfGroup&&a._groupParentNodeId==l||null==l)return x(l,s),c.removeChild(m),void(d._gragStartedId=null);var t=d.getBGNode(l);if(t.isChildOfGroup&&a.isChildOfGroup&&t._groupParentNodeId==a._groupParentNodeId)return x(l,s),c.removeChild(m),void(d._gragStartedId=null);if(!1===r.events.publish("drop",[d,a.id,t.id]))return x(l,s),c.removeChild(m),void(d._gragStartedId=null);if(null==d.config.dragDropMenu||a.isGroup&&!t.isGroup)d._canUpdateLink(a.id,l)?d.linkNode(a.id,l):(c.removeChild(m),x(l,s));else if(d._canUpdateLink(a.id,l)){var o=r._getOffsetXY(d.element,e),n=null;if(Array.isArray(a.tags))for(var p=0;p<a.tags.length;p++){var h=a.tags[p];d.config.tags[h]&&d.config.tags[h].dragDropMenu&&(n=d.config.tags[h].dragDropMenu)}d.dragDropMenuUI.show(o.x,o.y,a.id,l,n)}else c.removeChild(m),x(l,s);d._gragStartedId=null};c.addEventListener(i.move,b),c.addEventListener(i.up,w),i.leave&&c.addEventListener(i.leave,w)}}},r.prototype._resizeHandler=function(e,t){var i=this.getViewBox(),o=this.getSvg(),n=o.getAttribute("width"),a=o.getAttribute("height"),l=n/i[2],s=a/i[3],d=s<l?s:l;o.setAttribute("width",this.width()),o.setAttribute("height",this.height()),i[2]=this.width()/d,i[3]=this.height()/d,this.setViewBox(i),this.xScrollUI.create(this.width()),this.yScrollUI.create(this.height()),this._draw(!1,r.action.resize)},r.prototype._nodeDbClickHandler=function(e,t){if(!1===r.events.publish("dbclick",[this,this.get(e)]))return!1;this._commonClickHandler(e,t,this.config.nodeMouseDbClick)},r.prototype._nodeClickHandler=function(e,t){if(!1===r.events.publish("click",[this,this.getBGNode(e)]))return!1;this._commonClickHandler(e,t,this.config.nodeMouseClick)},r.prototype._commonClickHandler=function(e,t,i){this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.dragDropMenuUI.hide(),this.menuUI.hide();var o=this.getBGNode(e);if(i==r.action.expandCollapse){if(o.collapsedChildrenIds.length){if(!1===r.events.publish("expcollclick",[this,r.EXPAND,e,o.collapsedChildrenIds]))return!1;this.expand(e,o.collapsedChildrenIds,!1)}else{if(!1===r.events.publish("expcollclick",[this,r.COLLAPSE,e,o.childrenIds]))return!1;this.collapse(e,o.childrenIds,!1)}this.ripple(o.id,t.clientX,t.clientY)}i==r.action.edit&&(this.editUI.show(o.id),this.ripple(o.id,t.clientX,t.clientY)),i==r.action.details&&(this.editUI.show(o.id,!0),this.ripple(o.id,t.clientX,t.clientY))},r.prototype._menuHandlerMouseDownHandler=function(e,t){t.stopPropagation(),t.preventDefault()},r.prototype._nodeMenuClickHandler=function(e,t,i){this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.dragDropMenuUI.hide(),this.menuUI.hide();var o=this.getBGNode(e),n=null;if(Array.isArray(o.tags))for(var r=0;r<o.tags.length;r++){var a=o.tags[r];this.config.tags[a]&&this.config.tags[a].nodeMenu&&(n=this.config.tags[a].nodeMenu)}this.nodeMenuUI.showStickIn(t,e,null,n)},r.prototype._exportMenuClickHandler=function(e,t){t.stopPropagation(),t.preventDefault(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.dragDropMenuUI.hide(),this.menuUI.show(e.offsetLeft,e.offsetTop)},r.prototype._lonelyButtonHandler=function(){var e=new r.node(r._randomId(),null,[],this.config.template);!1!==this.addNode(e,!0)&&this.center(e.id)},r.prototype._move=function(e,t,i){i[0]=t,i[1]=e,this.setViewBox(i),this.xScrollUI.setPosition(),this.yScrollUI.setPosition()},void 0===r&&(r={}),r.node=function(e,t,i,o){this.templateName=o,this.id=e,this.pid=t,this.x=null,this.y=null,this.level=null,this.leftNeighbor=null,this.rightNeighbor=null,this._prelim=0,this._modifier=0,this.children=[],this.parent=null,this.isAssistant=!1,this.tags=i,this.collapsedChildrenIds=[],this.childrenIds=[];var n=r.t(this.templateName);this.w=n&&n.size?n.size[0]:0,this.h=n&&n.size?n.size[1]:0,this.groupState=r.EXPAND,this.isChildOfGroup=!1,this.isGroup=!1,this._groupParentNodeId=null,this._groupSettings=null,this.bgnodes=[]},r.prototype._mouseDownHandler=function(e,t,i){var o=this;document.body.style.mozUserSelect=document.body.style.webkitUserSelect=document.body.style.userSelect="none",this.editUI.hide(),this.searchUI.hide(),this.nodeMenuUI.hide(),this.nodeContextMenuUI.hide(),this.dragDropMenuUI.hide(),this.menuUI.hide();var n=this.getViewBox(),a=this.getScale(),l=r._getClientTouchesXY(t,0),s=r._getClientTouchesXY(t,1),d={diffX:0,diffY:0,x0:l.x,y0:l.y,type:"pan",viewBoxLeft:n[0],viewBoxTop:n[1]};t.touches&&1<t.touches.length&&(d.type="pinch",d.dist=Math.sqrt((l.x-s.x)*(l.x-s.x)+(l.y-s.y)*(l.y-s.y)));var c=this.getPointerElement();if("pan"==d.type){this._hideBeforeAnimation();var p=r._getOffsetXY(this.element,t),h=p.x/a+n[0]-16/a,f=p.y/a+n[1]-16/a;c.style.display="inherit",c.setAttribute("transform","matrix(0,0,0,0,"+h+","+f+")"),r.anim(c,{transform:[0,0,0,0,h,f],opacity:0},{transform:[1/a,0,0,1/a,h,f],opacity:1},300,r.anim.outBack)}var u=function(e){var t=r._getClientTouchesXY(e,0);if(d&&"pan"==d.type){o._hideBeforeAnimation(),d.diffX=t.x-d.x0,d.diffY=t.y-d.y0;var i=-d.diffY/a+d.viewBoxTop,l=-d.diffX/a+d.viewBoxLeft;o._move(i,l,n)}else if(d&&"pinch"==d.type){var s=r._getClientTouchesXY(e,1),c=Math.sqrt((t.x-s.x)*(t.x-s.x)+(t.y-s.y)*(t.y-s.y)),p=1+(c-d.dist)/(d.dist/100)/100;d.dist=c;var h=r._pinchMiddlePointInPercent(o.element,o.width(),o.height(),e);o.zoom(p,h)}},g=function(){"pan"==d.type&&o.config.sticky?r._moveToBoundaryArea(e,o.getViewBox(),o.response.boundary,(function(){o._draw(!0,r.action.pan)})):"pan"!=d.type||o.config.sticky||o._draw(!0,r.action.pan),d=null,c.style.display="none",e.removeEventListener(i.move,u),e.removeEventListener(i.up,g),i.leave&&e.removeEventListener(i.leave,g),i.touchstart&&e.removeEventListener(i.touchstart,g)};e.addEventListener(i.move,u),e.addEventListener(i.up,g),i.leave&&e.addEventListener(i.leave,g),i.touchstart&&e.addEventListener(i.touchstart,g)},void 0===r&&(r={}),void 0===r.remote&&(r.remote={}),r.LIMIT_NODES=!0,r.remote._fromResDTO=function(e,t,i,o){var n=t[e.id];if(e.x=n.p[0],e.y=n.p[1],e.level=n.p[2],null!=n.l){var a=r.remote._find(o,n.l);e.leftNeighbor=a}if(null!=n.r){var l=r.remote._find(o,n.r);e.rightNeighbor=l}for(var s=0;s<e.children.length;s++)r.remote._fromResDTO(e.children[s],t,i,o)},r.remote._find=function(e,t){var i;return e.some((function e(o){return o.id===t?(i=o,!0):o.children.some(e)})),i},r.remote._toReqDTO=function(e,t,i){var o={p:[e.id,null!=e.parent?e.parent.id:null,e.w,e.h]};0<e.children.length&&(o.c=r.remote._convertToIdArray(e.children)),null!=e.layout&&0!=e.layout&&(o.l=e.layout),e.isAssistant&&(o.a=1),e.templateName!=i&&(o.t=e.templateName),t.push(o);for(var n=0;n<e.children.length;n++)r.remote._toReqDTO(e.children[n],t,i)},r.remote._convertToIdArray=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].id);return t},r.remote._walk=function(e,t,i){for(var o=[],n=[],a=[t.orientation,t.levelSeparation,t.mixedHierarchyNodesSeparation,t.subtreeSeparation,t.siblingSeparation,t.template],l=0;l<e.length;l++)n.push(e[l].id),r.remote._toReqDTO(e[l],o,t.template);var s={n:o,c:a,r:n,v:"6.0.0"};r.LIMIT_NODES||(s.l=!0),null!=r.remote._fromReqDTO?r.remote._fromReqDTO(s.n,s.r,s.c,(function(t){for(var o=0;o<e.length;o++)r.remote._fromResDTO(e[o],t,0,e);i()})):(s=JSON.stringify(s),r.idb.read(s,(function(t,o){t?r.remote._proceed(e,o.res,i):r.remote._findRegion((function(t){r._ajax(t,"post",s,"json",(function(t){t.error?i(2):(r.remote._proceed(e,t,i),r.idb.write({id:s,res:t}))}))}))})))},r.remote._proceed=function(e,t,i){if("string"==typeof t&&(t=JSON.parse(t)),t.limit&&1==t.limit)i(t.limit);else{for(var o=0;o<e.length;o++)r.remote._fromResDTO(e[o],t,0,e);i()}},r.remote.getItem=function(e){return r._browser().msie||r._browser().edge?r.remote[e]:localStorage.getItem(e)},r.remote.setItem=function(e,t){r._browser().msie||r._browser().edge?r.remote[e]=t:localStorage.setItem(e,t)},r.remote._findRegion=function(e){var t=r.remote.getItem("funcUrl");if(t)e(t);else{for(var i=["au-e","au-se","brs","ca","ca-e","easia","eus-2","eus","fr","ind","jp-e","jp-w","kr","n-eu","se-asia","s-ind","uk-s","uk-w","us","us-n-c","us-s-c","w-c-us","w-eu","w-ind","w-us-2","wus"],o=[],n=0;n<i.length;n++)o.push(new XMLHttpRequest);for(n=0;n<i.length;n++)!function(){var t="https://"+i[n]+"-balkangraph.azurewebsites.net/api/OrgChartJS",a=o[n];a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){r.remote.setItem("funcUrl",t),e(t);for(var i=0;i<o.length;i++)o[i].abort()}},a.open("GET",t,!0),a.send()}()}},r.searchUI=function(){},r.searchUI.prototype.init=function(e){this.obj=e},r.searchUI.prototype.hide=function(){var e=this.obj.element.querySelector('[data-id="search"]');if(e){var t=e.querySelector('[data-id="cell-1"]'),i=this.obj.element.getElementsByTagName("input")[0],o=this.obj.element.querySelector('[data-id="container"]');i.value="",o.innerHTML="","none"!=t.style.display&&"none"!=e.style.display&&r.anim(t,{opacity:t.style.opacity},{opacity:0},200,r.anim.inOutSin,(function(){t.style.display="none",r.anim(e,{width:300,opacity:1},{width:50,opacity:0},300,r.anim.inBack,(function(){e.style.display="none"}))}))}},r.searchUI.prototype.show=function(e){var t=this.obj.element.querySelector('[data-id="search"]'),i=t.querySelector('[data-id="cell-1"]');i.style.display="none",t.style.width="50px",t.style.display="block",t.style.opacity=0,r.anim(t,{width:50,opacity:0},{width:300,opacity:1},300,r.anim.outBack,(function(){i.style.display="inherit",i.style.opacity=0,r.anim(i,{opacity:0},{opacity:1},200,r.anim.inOutSin),e&&e()}))},r.searchUI.prototype.addSearchControl=function(){var e=this,t=document.createElement("div");t.innerHTML=r.searchUI.createSearchIcon(this.obj.config.padding),t.innerHTML+=r.searchUI.createInputField(this.obj.config.padding),this.obj.element.appendChild(t);var i=this.obj.element.querySelector('[data-id="search-icon"]'),o=this.obj.element.querySelector('[data-id="search"]'),n=this.obj.element.getElementsByTagName("input")[0];i.addEventListener("mouseover",(function(){e.show()})),o.addEventListener("mouseleave",(function(){document.activeElement!=n&&e.hide()})),o.addEventListener("click",(function(){n.focus()})),n.addEventListener("keyup",(function(t){40==t.keyCode?a():38==t.keyCode?l():13==t.keyCode?s():27==t.keyCode?e.hide():e._serverSearch(this.value)}));var a=function(){var e=o.querySelectorAll("[data-search-item-id]"),t=o.querySelector('[data-selected="yes"]');null==t&&0<e.length?(e[0].setAttribute("data-selected","yes"),e[0].style.backgroundColor="#F0F0F0"):0<e.length&&t.nextSibling&&(t.setAttribute("data-selected","no"),t.style.backgroundColor="inherit",t.nextSibling.setAttribute("data-selected","yes"),t.nextSibling.style.backgroundColor="#F0F0F0")},l=function(){var e=o.querySelectorAll("[data-search-item-id]"),t=o.querySelector('[data-selected="yes"]');null==t&&0<e.length?(e[e.length-1].setAttribute("data-selected","yes"),e[e.length-1].style.backgroundColor="#F0F0F0"):0<e.length&&t.previousSibling&&(t.setAttribute("data-selected","no"),t.style.backgroundColor="inherit",t.previousSibling.setAttribute("data-selected","yes"),t.previousSibling.style.backgroundColor="#F0F0F0")},s=function(){var t=o.querySelector('[data-selected="yes"]').getAttribute("data-search-item-id"),i=r.events.publish("searchclick",[e.obj,t]);null!=i&&1!=i||e.obj.center(t)}},r.searchUI.prototype.find=function(e){var t=this;this.show((function(){var i=t.obj.element.getElementsByTagName("input")[0];i.value=e,t._serverSearch(e),i.focus()}))},r.searchUI.prototype._serverSearch=function(e){for(var t=this,i=this.obj.element.querySelector('[data-id="container"]'),o=this.obj.element.querySelector('[data-id="search"]'),n=this.obj.server.find(e),a="",l=0;l<n.length;l++){var s=n[l],d="";s.img&&(d='<img style="padding: 2px 0px  2px 7px;width:32px;height:32px;" src="'+s.img+'" / >'),a+=r.searchUI.createItem(d,s)}i.innerHTML=a;var c=o.querySelectorAll("[data-search-item-id]");for(l=0;l<c.length;l++)c[l].addEventListener("click",(function(){var e=r.events.publish("searchclick",[t.obj,this.getAttribute("data-search-item-id")]);null!=e&&1!=e||t.obj.center(this.getAttribute("data-search-item-id"))})),c[l].addEventListener("mouseover",(function(){this.setAttribute("data-selected","yes"),this.style.backgroundColor="#F0F0F0"})),c[l].addEventListener("mouseleave",(function(){this.style.backgroundColor="inherit",this.setAttribute("data-selected","no")}))},r.searchUI.createInputField=function(e){return'<div data-id="search" style="display:none;border-radius: 20px 20px;padding:5px; box-shadow: #808080 0px 1px 2px 0px; font-family:Roboto-Regular, Helvetica;color:#7a7a7a;font-size:14px;border:1px solid #d7d7d7;width:300px;position:absolute;top:'+e+"px;left:"+e+'px;background-color:#ffffff;"><div><div style="float:left;">'+r.icon.search(32,32)+'</div><div data-id="cell-1" style="float:right; width:83%"><input placeholder="'+r.SEARCH_PLACEHOLDER+'" style="font-size:14px;font-family:Roboto-Regular, Helvetica;color:#7a7a7a;width:100%;border:none;outline:none; padding-top:10px;" type="text" /></div><div style="clear:both;"></div></div><div data-id="container"></div></div>'},r.searchUI.createItem=function(e,t){return'<div data-search-item-id="'+t.id+'" style="border-top:1px solid #d7d7d7; padding: 7px 0 7px 0;cursor:pointer;"><div style="float:left;">'+e+'</div><div style="float:right; width:83%"><div style="overflow:hidden; white-space: nowrap;text-overflow:ellipsis;text-align:left;">'+t.textId+'</div><div style="overflow:hidden; white-space: nowrap;text-overflow:ellipsis;text-align:left;">'+t.textInNode+'</div></div><div style="clear:both;"></div></div>'},r.searchUI.createSearchIcon=function(e){return'<div data-id="search-icon" style="padding:5px; position:absolute;top:'+e+"px;left:"+e+'px;border:1px solid transparent;"><div><div style="float:left;">'+r.icon.search(32,32)+"</div></div></div>"},void 0===r&&(r={}),r.server=function(e){this.config=e,this.visibleNodes=null,this.viewBox=null,this.action=null,this.actionParams=null,this.groupChildren={},this.nodes={},this.oldNodes={},this.maxX=null,this.maxY=null,this.minX=null,this.minY=null,this.root=null},r.server.prototype.read=function(e,t,i,o,n,a,l,s){var d=this;this.viewBox=o,this.action=n,this.actionParams=a;var c=this.maxX,p=this.maxY,h=this.minX,f=this.minY,u=this.root,g=this.nodes,m=this.groupChildren;if(e){var v=r.server._getResponse(t,i,this.visibleNodes,this.config,c,p,h,f,this.viewBox,u,this.action,this.actionParams,g,m,this.oldNodes);n!=r.action.exporting&&(this.maxX=c,this.maxY=p,this.minX=h,this.minY=f,this.root=u,this.nodes=g,this.groupChildren=m,this.visibleNodes=v.visibleNodes),l(v)}else this.oldNodes=g||null,this._read((function(e){c=e.maxX,p=e.maxY,h=e.minX,f=e.minY,u=e.roots[0],g=e.nodes,m=e.groupChildren;var o=r.server._getResponse(t,i,d.visibleNodes,d.config,c,p,h,f,d.viewBox,u,d.action,d.actionParams,g,m,d.oldNodes);o.notif=e.limit,n!=r.action.exporting&&(d.maxX=c,d.maxY=p,d.minX=h,d.minY=f,d.root=u,d.nodes=g,d.groupChildren=m,d.visibleNodes=o.visibleNodes),l(o)}),s)},r.server.prototype._read=function(e,t){var i=this,o=r.server._createNodes(this.config,this.action,this.actionParams,this.oldNodes);t(o);var n=o.nodes,a=o.roots,l=r.remote;null==l&&(l=r.local),l._walk(a,this.config,(function(t){r.server._doNotChangePositionOfClickedNodeIfAny(a,n,i.action,i.actionParams,i.oldNodes,i.config.orientation);var l={minX:null,minY:null,maxX:null,maxY:null};for(var s in n){var d=n[s];r.server._setMinMaxXY(d,l)}e({minX:l.minX,minY:l.minY,maxX:l.maxX,maxY:l.maxY,nodes:n,roots:a,groupChildren:o.groupChildren,limit:t})}))},r.server.prototype.find=function(e){var t=this;if(null==e||null==e||""==e)return[];e=r.accentFold(e);for(var i,o,n,a=function(e){for(var i in t.config.nodeBinding)if(t.config.nodeBinding[i]==e)return!0;return!1},l=[],s=[],d=0;d<this.config.nodes.length;d++){var c=this.config.nodes[d];for(var p in c){var h=c[p];0<this.config.searchFields.length&&-1==this.config.searchFields.indexOf(p)||h&&-1!=r.accentFold(h).indexOf(e)&&!r._fieldIsImg(this.config,p)&&l.push({id:c.id,propertyName:p,isId:p==r.ID,isNodeParam:a(p),weight:r.accentFold(h).indexOf(e),data:c})}}for(l.sort((function(e,t){return 1==e.isId&&0==t.isId?-1:1==t.isId&&0==e.isId?1:1==e.isNodeParam&&0==t.isNodeParam?-1:1==t.isNodeParam&&0==e.isNodeParam?1:e.weight<t.weight?-1:e.weight>t.weight?1:0})),d=0;d<l.length&&d!=r.SEARCH_RESULT_LIMIT;d++){for(var f=!1,u=0;u<s.length;u++)if(s[u].id==l[d].id){f=!0;break}if(!f){var g="",m="",v="",y="",x=Object.getOwnPropertyNames(l[d].data);for(0<this.config.searchFields.length&&(x=this.config.searchFields),u=0;u<x.length;u++)p=x[u],h=l[d].data[p],p===l[d].propertyName&&(i=h,o=e,n=r.accentFold(i).indexOf(o),h=i.toString().splice(n+o.length,0,"</mark>").splice(n,0,"<mark>")),p!=r.TAGS&&(p==r.ID?m=m+h+", ":r._fieldIsImg(this.config,p)?y=h:a(p)&&!r._fieldIsImg(this.config,p)?g=g+h+", ":r._fieldIsImg(this.config,p)||(v=v+h+", "));m=m.slice(0,m.length-2),g=g.slice(0,g.length-2),v=v.slice(0,v.length-2);var b=r._getTemplate(l[d].tags,this.config.tags,this.config.template);s.push({id:l[d].id,node:new r.node(l[d],null,[],b),textId:m,textInNode:g,text:v,img:y})}}return s},void 0===r&&(r={}),r.server._createNodes=function(e,t,i,o){for(var n=e.nodes,a={},l=[],s=[],d=[],c={},p=!1,h=0;h<n.length;h++){var f=n[h],u=Array.isArray(f.tags)?f.tags.slice(0):[],g=r._getGroup(u,e.tags),m=r._getTemplate(u,e.tags,e.template);if((b=new r.node(f.id,f.pid,u,m)).isAssistant=-1!=u.indexOf("assistant"),b.isAssistant&&-1==d.indexOf(b.pid)&&r.server._isNotNullEmptyUndefined(b.pid)&&d.push(b.pid),null!=g){if(!a[g.name]){l.push(g.name);var v=new r.node(g.name,f.pid,[g.name],g.tag.template);v.isGroup=!0,null!=e.orderBy&&(v.order=r.server._getOrderFieldValue(f,e.orderBy)),a[g.name]=v}b.isChildOfGroup=!0,b._groupParentNodeId=g.name,a[g.name].bgnodes.push(b),1==b.isAssistant&&(a[g.name].isAssistant=!0),c[b.id]=g.name,p=!0}else null!=e.orderBy&&(b.order=r.server._getOrderFieldValue(f,e.orderBy)),a[f.id]=b,l.push(f.id)}if(null!=e.orderBy&&l.sort((function(t,i){var o=a[t].order,n=a[i].order;return"number"==typeof o||"number"==typeof n?(null==o&&(o=-1),null==n&&(n=-1),e.orderBy.desc?n-o:o-n):"string"==typeof o||"string"==typeof n?(null==o&&(o=""),null==n&&(n=""),e.orderBy.desc?n.localeCompare(o):o.localeCompare(n)):void 0})),p)for(h=0;h<l.length;h++)c[(b=a[l[h]]).pid]&&b.id!=c[b.pid]&&(b.pid=c[b.pid]);var y=[];for(h=0;h<l.length;h++){var x=l[h],b=a[x],w=o?o[x]:null;r.server._isNotNullEmptyUndefined(b.pid)?(U=a[b.pid])?((b.parent=U).children.push(b),U.childrenIds.push(b.id)):(b.pid=null,b.parent=null,b.isAssistant=!1,s.push(b)):(b.isAssistant=!1,s.push(b)),t==r.action.exporting&&null!=i.id&&(s=[a[i.id]]),w?(b.state=w.state,b.state==r.COLLAPSE&&y.push(b.id),r.server._setNodeGroupState(b,w.groupState,e.orientation)):r.server._setNodeGroupState(b,r.EXPAND,e.orientation),r.server._initStates(b,a,t,e,i,y),r.server._initGroupStates(b,a,t,e,i)}if(null!=e.roots)for(s=[],h=0;h<e.roots.length;h++){var _=a[e.roots[h]];if(_){if(_.parent)for(var k=(U=_.parent).children.length-1;0<=k;k--)(F=U.children[k])==_&&(F.parent=null,U.children.splice(k,1),U.childrenIds.splice(k,1));_.isAssistant=!1,s.push(_)}}for(h=0;h<d.length;h++){if(null==(U=a[d[h]]))for(var x in a){var C=a[x].bgnodes;for(k=0;k<C.length;k++)if(C[k].id==d[h]){U=a[x];break}if(U)break}if(U){var A=new r.node(U.id+"_split_0",U.id,[],"split");(a[A.id]=A).isAssistant=!0,(w=o[A.id])&&(a[A.id].state=w.state,a[A.id].state==r.COLLAPSE&&y.push(A.id)),r.server._initStates(A,a,t,e,i,y);var S=[];for(k=U.children.length-1;0<=k;k--)(F=U.children[k]).isAssistant?(F.parent=null,U.children.splice(k,1),U.childrenIds.splice(k,1),S.splice(0,0,F.id)):(F.pid=A.id,(F.parent=A).children.unshift(F),A.childrenIds.unshift(F.id),U.children.splice(k,1));if(S.length%2){var I=a[S[S.length-1]],N=[I.w,I.h],M="transperant_"+I.templateName;r.templates[M]={linkAdjuster:{},link:"",node:"",nodeMenuButton:"",size:N},(J=new r.node(U.id+"_transperant",I.pid,[],M)).isAssistant=!0,a[J.id]=J,S.splice(S.length-1,0,J.id)}var E=1;for(k=S.length-1;0<=k;k--)k%2&&k!=S.length-1?((Z=new r.node(U.id+"_split_"+E,null,[],"split")).isAssistant=!0,a[Z.id]=Z,S.splice(k,0,Z.id),E++):k%2&&S.splice(k,0,A.id);for(k=0;k<S.length;k+=3){var L=null;L=0==k?U:a[S[k-2]];var B=a[S[k]],T=a[S[k+1]],O=a[S[k+2]];B.parent=L,B.pid=L.id,T.parent=L,T.pid=L.id,O.parent=L,O.pid=L.id,L.children.push(B),L.children.push(T),L.children.push(O),L.childrenIds.push(B.id),L.childrenIds.push(T.id),L.childrenIds.push(O.id);for(var P=L;"split"==P.templateName&&(P=P.parent);)P.childrenIds.push(B.id),P.childrenIds.push(T.id),P.childrenIds.push(O.id)}}}if(t==r.action.centerNode){var H=a[i.id];H||(H=a[c[i.id]],r.server._setNodeGroupState(H,r.EXPAND,e.orientation)),H.state=r.EXPAND,-1!=(G=y.indexOf(H.id))&&y.splice(G,1);for(var U=r.server._getRealParent(H),z=H.id;null!=U;){if(-1!=(G=y.indexOf(U.id))&&y.splice(G,1),U.state=r.EXPAND,i.options.parentState===r.COLLAPSE_PARENT_NEIGHBORS)for(h=0;h<U.childrenIds.length;h++){var F=a[U.childrenIds[h]];r.server._isSplit(F)||F.isAssistant||F.id==z||(-1==(G=y.indexOf(U.childrenIds[h]))&&y.push(U.childrenIds[h]),F.state=r.COLLAPSE)}if(U.state==r.EXPAND)for(var j=0;j<U.childrenIds.length;j++){var D=a[U.childrenIds[j]];(r.server._isSplit(D)||D.isAssistant)&&(-1!=(G=y.indexOf(D.id))&&y.splice(G,1),D.state=r.EXPAND)}z=U.id,U=r.server._getRealParent(U)}if(i.options.childrenState===r.COLLAPSE_SUB_CHILDRENS)for(h=0;h<H.childrenIds.length;h++)if(-1!=(G=y.indexOf(H.childrenIds[h]))&&y.splice(G,1),(F=a[H.childrenIds[h]]).state=r.EXPAND,!F.isAssistant&&!r.server._isSplit(F))for(k=0;k<F.childrenIds.length;k++){var G,X=a[F.childrenIds[k]];-1==(G=y.indexOf(F.childrenIds[k]))&&y.push(F.childrenIds[k]),X.state=r.COLLAPSE}}for(t==r.action.exporting&&1==i.expandChildren&&b&&(y=[]),h=0;h<y.length;h++)if(U=(b=a[y[h]]).parent)for(k=U.children.length-1;0<=k;k--)if(U.children[k]==b)if(-1==U.collapsedChildrenIds.indexOf(b.id)&&U.collapsedChildrenIds.push(b.id),U.children.splice(k,1),"split"==b.templateName||"split"==U.templateName){if(L=b.parent){for(;"split"==L.templateName;)L=L.parent;for(var R=L.childrenIds.length-1;0<=R;R--){var Y=L.childrenIds[R];-1==L.collapsedChildrenIds.indexOf(Y)&&L.collapsedChildrenIds.push(Y)}}}else b.parent=null;if(e.layout==r.mixed)for(h=0;h<l.length;h++)if(0==(b=a[l[h]]).childrenIds.length&&!b.isAssistant&&"split"!=b.templateName&&(U=b.parent)){if(!r.server._mixedLayoutAllNodes(U))continue;for(k=U.children.length-1;0<=k;k--)if((F=U.children[k])!=b&&0==F.childrenIds.length&&!F.isAssistant&&"split"!=F.templateName){F.parent=b,F.pid=b.id,F.layout=r.mixed,U.children.splice(k,1);var q=b.children.length;b.children[q]=F,b.layout=r.mixed}}if(e.layout==r.tree||e.layout==r.treeRightOffset||e.layout==r.treeLeftOffset){var V=[];for(h=0;h<l.length;h++)0!=(b=a[l[h]]).childrenIds.length||b.isAssistant||"split"==b.templateName||(U=b.parent)&&-1==V.indexOf(U.id)&&V.push(U.id);for(h=0;h<V.length;h++){U=a[V[h]],A=new r.node(U.id+"_split_0",U.id,[],"split"),(a[A.id]=A).layout=r.tree;var W=[];for(k=U.children.length-1;0<=k;k--)if(r.server._mixedLayoutAllNodes(U)&&0==(F=U.children[k]).childrenIds.length&&!F.isAssistant&&"split"!=F.templateName&&(F.parent&&"split"!=F.parent.templateName||F.parent.isAssistant)){var J;if((F=U.children[k]).parent=null,F.layout=r.tree,U.children.splice(k,1),U.childrenIds.splice(k,1),e.layout==r.treeRightOffset&&W.splice(0,0,F.id),e.layout==r.treeLeftOffset||e.layout==r.treeRightOffset)M="transperant_"+F.templateName,r.templates[M]={linkAdjuster:{},link:"",node:"",nodeMenuButton:"",size:[0,0]},(J=new r.node(F.id+"_transperant",null,[],M)).layout=r.tree,a[J.id]=J,W.splice(0,0,J.id);e.layout!=r.treeRightOffset&&W.splice(0,0,F.id)}for(E=1,k=W.length-1;0<=k;k--){var Z;k%2&&k!=W.length-1?((Z=new r.node(U.id+"_split_"+E,null,[],"split")).layout=r.tree,a[Z.id]=Z,W.splice(k,0,Z.id),E++):k%2&&W.splice(k,0,A.id)}for(k=0;k<W.length;k+=3)L=null,0==k&&(L=U),B=a[W[k]],T=a[W[k+1]],O=a[W[k+2]],0!=k&&(L=a[W[k-3]]),0==k||T||(L=a[W[k-2]]),B.parent=L,B.pid=L.id,L.children.push(B),U.childrenIds.push(B.id),T&&(0!=k&&(L=a[W[k-2]]),T.parent=L,T.pid=L.id,L.children.push(T),U.childrenIds.push(T.id)),O&&(0!=k&&(L=a[W[k-1]]),O.parent=L,O.pid=L.id,L.children.push(O),U.childrenIds.push(O.id))}}return{nodes:a,roots:s,groupChildren:c}},r.server._mixedLayoutAllNodes=function(e){if(r.MIXED_LAYOUT_ALL_NODES)return!0;for(var t=e.children.length-1;0<=t;t--){var i=e.children[t];if(0<i.childrenIds.length||i.isAssistant||"split"==i.templateName)return!1}return!0},r.server._getOrderFieldValue=function(e,t){var i=t;return t.field&&(i=t.field),e[i]},r.server._isSplit=function(e){return!!e&&"split"==e.templateName},r.server._getRealParent=function(e){if(!e)return null;if(!e.parent)return null;if("split"!=e.parent.templateName)return e.parent;for(var t=e.parent;t&&"split"==t.templateName;)t=t.parent;return t},r.server._initStates=function(e,t,i,o,n,a){if(i==r.action.init&&e){if(e.tags)for(var l=0;l<e.tags.length;l++){var s=e.tags[l];o.tags&&o.tags[s]&&null!=o.tags[s].state&&(o.tags[s].state==r.COLLAPSE&&a.push(e.id),e.state=o.tags[s].state)}r.server._expandCollapseToLevel(e,t,i,o,n,a)}else if(i==r.action.expandCollapse&&"expandCollapseToLevel"==n.method)-1!=(d=a.indexOf(e.id))&&a.splice(d,1),e.state=r.EXPAND,r.server._expandCollapseToLevel(e,t,i,o,n,a);else if(i==r.action.expandCollapse&&(-1!=n.ids.indexOf(e.id)||"all"==n.ids)){if(n.state==r.COLLAPSE)a.push(e.id);else if(n.state==r.EXPAND){var d;-1!=(d=a.indexOf(e.id))&&a.splice(d,1)}e.state=n.state}},r.server._expandCollapseToLevel=function(e,t,i,o,n,a){if(o.collapse.level){var l=0;if(!o.roots||-1==o.roots.indexOf(e.id)){for(var s=t[e.pid];r.server._isSplit(s);)s=t[s.pid];for(;null!=s&&l<=o.collapse.level;){if(s&&o.roots&&-1!=o.roots.indexOf(s.id)){l++;break}s=t[s.pid],l++}}if(l>=o.collapse.level){var d=!1;if(Array.isArray(o.expand.nodes))if(o.expand.allChildren){for(s=t[e.pid];null!=s;){if(-1!=o.expand.nodes.indexOf(s.id)){d=!0;break}s=t[s.pid]}d||(d=-1!=o.expand.nodes.indexOf(e.id))}else d=-1!=o.expand.nodes.indexOf(e.id);!d&&o.collapse.allChildren?(a.push(e.id),e.state=r.COLLAPSE):d||o.collapse.allChildren||l!=o.collapse.level||(a.push(e.id),e.state=r.COLLAPSE)}}},r.server._initGroupStates=function(e,t,i,o,n){if(i==r.action.exporting&&1==n.expandChildren&&e)r.server._setNodeGroupState(e,r.EXPAND,o.orientation);else{if(i==r.action.init&&e&&e.isGroup){var a=o.tags[e.id].groupState;r.server._setNodeGroupState(e,a,o.orientation)}i==r.action.groupMaxMin&&r.server._setNodeGroupState(t[n.id],n.state,o.orientation)}},r.server._initNodeSize=function(e,t,i){var o=r.t(t),n=o.size[0],a=o.size[1];if(e.isGroup&&e.groupState==r.EXPAND){var l=e.bgnodes.length,s=0,d=null,c=a=n=0,p=0;switch(i){case r.orientation.top:case r.orientation.bottom:case r.orientation.top_left:case r.orientation.bottom_left:if(o.columns)d=l/(s=o.columns),d=Math.ceil(d);else{for(;null==d||s<d;)d=l/++s;2==s&&1.5==d&&(s=3,d=1),d=Math.ceil(d)}for(var h=0;h<e.bgnodes.length;h++)c=Math.max(e.bgnodes[h].w,c),p=Math.max(e.bgnodes[h].h,p);n=c*s+o.groupNodesSeparation*s+o.groupNodesSeparation+o.groupPadding[1]+o.groupPadding[3],a=p*d+o.groupNodesSeparation*d+o.groupNodesSeparation+o.groupPadding[0]+o.groupPadding[2];break;case r.orientation.right:case r.orientation.left:case r.orientation.right_top:case r.orientation.left_top:if(o.columns)s=l/(d=o.columns),s=Math.ceil(s);else{for(s=null,d=0;null==s||d<s;)s=l/++d;2==d&&1.5==s&&(d=3,s=1),s=Math.ceil(s)}for(h=0;h<e.bgnodes.length;h++)c=Math.max(e.bgnodes[h].w,c),p=Math.max(e.bgnodes[h].h,p);n=c*s+o.groupNodesSeparation*s+o.groupNodesSeparation+o.groupPadding[1]+o.groupPadding[3],a=p*d+o.groupNodesSeparation*d+o.groupNodesSeparation+o.groupPadding[0]+o.groupPadding[2]}e._groupSettings={_rows:d,_columns:s,_cellWidth:c,_cellHeight:p},r.server._setGroupNodes(e,i)}e.w=n,e.h=a},r.server._setNodeGroupState=function(e,t,i){e.groupState=t,r.server._initNodeSize(e,e.templateName,i)},r.server._getNodeWidth=function(e,t){switch(t.orientation){case r.orientation.top:case r.orientation.top_left:case r.orientation.bottom:case r.orientation.bottom_left:return e.w;case r.orientation.right:case r.orientation.right_top:case r.orientation.left:case r.orientation.left_top:return e.h}return 0},r.server._isVisible=function(e,t,i,o){if(null!=e.x&&null!=e.y){if(t.lazyLoading&&o!==r.action.exporting){function n(e,t){var i=e.x,o=e.y,n=e.w,a=e.h,l=t[0]-r.LAZY_LOADING_FACTOR,s=t[2]+r.LAZY_LOADING_FACTOR+t[0],d=t[1]-r.LAZY_LOADING_FACTOR,c=t[3]+r.LAZY_LOADING_FACTOR+t[1],p=l<i+n&&i<s;return p&&(p=d<o+a&&o<c),p}if(n(e,i))return!0;for(var a=0;a<e.children.length;a++)if(n(e.children[a],i))return!0;return!1}return!0}},r.server.getAllFields=function(e){var t=[r.TAGS];for(var i in e.nodeBinding)t.push(e.nodeBinding[i]);for(i=0;i<e.nodes.length;i++)for(var o in e.nodes[i])o!==r.ID&&o!==r.TAGS&&o!==r.NODES&&o!==r.PID&&(e.nodeBinding[o]||r._arrayContains(t,o)||t.push(o));return t},r.server._doNotChangePositionOfClickedNodeIfAny=function(e,t,i,o,n,a){if(i==r.action.expandCollapse||i==r.action.groupMaxMin||i==r.action.centerNode||i==r.action.update||i==r.action.insert){if(i==r.action.update&&(!o||null==o.id)){if(!e||!e.length)return;o={id:e[0].id}}if(null!=o.id){var l=o.id;i==r.action.groupMaxMin&&t[l].pid&&(l=t[l].pid);var s=t[l];if(!s)for(var d in t)for(var c=t[d].bgnodes,p=0;p<c.length;p++)if(c[p].id==l){s=t[d];break}var h=n[l];if(!h)for(var d in n)for(c=n[d].bgnodes,p=0;p<c.length;p++)if(c[p].id==l){h=n[d];break}if(h){var f=h.x-s.x,u=h.y-s.y;for(var l in t)switch(a){case r.orientation.top:case r.orientation.top_left:case r.orientation.bottom:case r.orientation.bottom_left:t[l].x+=f;break;case r.orientation.right:case r.orientation.right_top:case r.orientation.left:case r.orientation.left_top:t[l].y+=u}}}}},r.server._getMostDeepChild=function(e){if(e){var t=e;return function e(i){i.level>t.level&&(t=i);for(var o=0;o<i.children.length;o++)e(i.children[o])}(e),t}},r.server._setGroupNodes=function(e,t){if(e.isGroup&&e.groupState==r.EXPAND)for(var i=r.t(e.templateName),o=0,n=0,a=0;a<e.bgnodes.length;a++){var l=e.bgnodes[a];l.x=e._groupSettings._cellWidth/2-l.w/2+i.groupNodesSeparation+(e._groupSettings._cellWidth*o+i.groupNodesSeparation*o),l.y=e._groupSettings._cellHeight/2-l.h/2+i.groupNodesSeparation+(e._groupSettings._cellHeight*n+i.groupNodesSeparation*n),o>=e._groupSettings._columns-1?(o=0,n++):o++}},r.server._getResponse=function(e,t,i,o,n,a,l,s,d,c,p,h,f,u,g){var m={},v={top:null,left:null,bottom:null,right:null,minX:null,maxX:null,minY:null,maxY:null},y=[[],[],[]],x=n-l+2*o.padding,b=a-s+2*o.padding,w=r.getScale(d,e,t,o.scaleInitial,o.scaleMax,o.scaleMin,x,b);if(v.top=s-o.padding,v.left=l-o.padding,v.bottom=a+o.padding-t/w,v.right=n+o.padding-e/w,v.maxX=n,v.minX=l,v.maxY=a,v.minY=s,null==d&&o.align==r.CENTER){var _=Math.ceil(e/w),k=Math.ceil(t/w),C=0,A=0;if(_-2*o.padding>=n-l)switch(C=(n+l)/2-_/2,o.orientation){case r.orientation.right:case r.orientation.right_top:C=(l-n)/2-_/2}else switch(C=c.x-_/2+r.server._getNodeWidth(c,o)/2,o.orientation){case r.orientation.right:case r.orientation.right_top:(C=-(_/2-(l-n)/2))<o.padding-_&&(C=o.padding-_);break;case r.orientation.left:case r.orientation.bottom_left:case r.orientation.top_left:case r.orientation.left_top:(C=-(_/2-(n-l)/2))>-o.padding&&(C=-o.padding)}if(k-2*o.padding>=a-s)switch(A=(a+s)/2-k/2,o.orientation){case r.orientation.bottom:case r.orientation.bottom_left:A=(s-a)/2-k/2}else switch((A=-(k/2-(a-s)/2))>-o.padding&&(A=-o.padding),o.orientation){case r.orientation.bottom:case r.orientation.bottom_left:(A=-(k/2-(s-a)/2))<o.padding-k&&(A=o.padding-k);break;case r.orientation.left:case r.orientation.right:A=c.y-k/2+r.server._getNodeWidth(c,o)/2}d=[C,A,_,k]}else if(null==d&&o.align==r.ORIENTATION){switch(_=Math.ceil(e/w),k=Math.ceil(t/w),C=0,A=0,o.orientation){case r.orientation.top:C=c.x-_/2+r.server._getNodeWidth(c,o)/2,A=-o.padding;break;case r.orientation.bottom:C=c.x-_/2+r.server._getNodeWidth(c,o)/2,A=o.padding-k;break;case r.orientation.left:C=-o.padding,A=c.y-k/2+r.server._getNodeWidth(c,o)/2;break;case r.orientation.right:C=o.padding-_,A=c.y-k/2+r.server._getNodeWidth(c,o)/2;break;case r.orientation.top_left:C=-o.padding,A=-o.padding;break;case r.orientation.right_top:C=o.padding-_,A=-o.padding;break;case r.orientation.left_top:C=-o.padding,A=-o.padding;break;case r.orientation.bottom_left:C=-o.padding,A=o.padding-k}d=[C,A,_,k]}if(p==r.action.centerNode&&((O=f[h.id])||(O=f[u[h.id]]),1==h.options.horizontal&&(d[0]=O.x+O.w/2-d[2]/2),1==h.options.vertical&&(d[1]=O.y+O.h/2-d[3]/2),o.sticky&&(d[0]<v.left&&d[0]<v.right&&(d[0]=v.left>v.right?v.right:v.left),d[0]>v.right&&d[0]>v.left&&(d[0]=v.left>v.right?v.left:v.right),d[1]<v.top&&d[1]<v.bottom&&(d[1]=v.top>v.bottom?v.bottom:v.top),d[1]>v.bottom&&d[1]>v.top&&(d[1]=v.top>v.bottom?v.top:v.bottom))),p==r.action.insert||p==r.action.expandCollapse||p==r.action.update||p==r.action.centerNode){var S=null;if(p==r.action.insert&&h&&null!=h.insertedNodeId&&null!=h.insertedNodeId)(S=f[h.insertedNodeId])||(S=f[u[h.insertedNodeId]]);else if(p==r.action.update&&h&&null!=h.visId&&null!=h.visId)(S=f[h.visId])||(S=f[u[h.visId]]);else if(p==r.action.expandCollapse&&h&&null!=h.id&&null!=h.id)(S=f[h.id])||(S=f[u[h.id]]),S=r.server._getMostDeepChild(S,f);else if(p==r.action.centerNode){switch(o.orientation){case r.orientation.top:case r.orientation.top_left:case r.orientation.bottom:case r.orientation.bottom_left:h.options.vertical||(S=f[h.id]);break;case r.orientation.right:case r.orientation.right_top:case r.orientation.left:case r.orientation.left_top:h.options.horizontal||(S=f[h.id])}S&&(S||(S=f[u[h.id]]),S=r.server._getMostDeepChild(S,f))}if(S)switch(o.orientation){case r.orientation.top:case r.orientation.top_left:var I=S.y+S.h-d[3]+o.padding;d[1]<I&&(d[1]=I);break;case r.orientation.bottom:case r.orientation.bottom_left:I=S.y-o.padding,d[1]>I&&(d[1]=I);break;case r.orientation.right:case r.orientation.right_top:I=S.x-o.padding,d[0]>I&&(d[0]=I);break;case r.orientation.left:case r.orientation.left_top:I=S.x+S.w-d[2]+o.padding,d[0]<I&&(d[0]=I)}}for(var N in f){var M=f[N];if(r.server._isVisible(M,o,d,p)){m[M.id]=M;var E=null;if(p==r.action.expandCollapse&&g&&g[M.id]&&"expandCollapseToLevel"==h.method){if(E={x:(P=g[M.id]).x,y:P.y},P){E={x:P.x,y:P.y};for(var L=M,B=null;null!=L;)g[L.id]&&g[L.id].state==r.COLLAPSE&&(B=L),L=L.parent;B&&B.parent&&(E={x:B.parent.x,y:B.parent.y})}if(T=f[h.id]){for(L=M.parent;null!=L;)L=L.parent;L&&(E={x:T.x+T.w/2-M.w/2,y:T.y+T.h/2-M.h/2})}}else if(p==r.action.expandCollapse&&g&&g[M.id]){var T;if(E={x:(P=g[M.id]).x,y:P.y},"all"==h.ids&&P){for(E={x:P.x,y:P.y},L=M,B=null;null!=L;)g[L.id]&&g[L.id].state==r.COLLAPSE&&(B=L),L=L.parent;B&&B.parent&&(E={x:B.parent.x,y:B.parent.y})}if(T=f[h.id]){for(L=M.parent;null!=L&&-1==h.ids.indexOf(M.id)&&-1==h.ids.indexOf(L.id);)L=L.parent;L&&(E={x:T.x+T.w/2-M.w/2,y:T.y+T.h/2-M.h/2})}}else if(p==r.action.centerNode&&g&&g[M.id]){var O;null!=(P=g[M.id]).x&&null!=P.y&&(E={x:P.x,y:P.y}),(O=f[h.id])&&O==M&&(L=M.parent)&&L.id==h.id&&(E={x:O.x+O.w/2-M.w/2,y:O.y+O.h/2-M.h/2})}else if(p==r.action.groupMaxMin&&g&&g[M.id])E={x:(P=g[M.id]).x,y:P.y};else if(p==r.action.insert&&h&&h.insertedNodeId==M.id)E={x:M.parent.x,y:M.parent.y};else if((p==r.action.update||p==r.action.insert)&&g&&g[M.id]){var P;E={x:(P=g[M.id]).x,y:P.y}}else p!==r.action.exporting&&i&&!i[M.id]&&(y[0].push(M.id),y[1].push({opacity:0}),y[2].push({opacity:1}));null!=E&&null!=E.x&&null!=E.y&&(E.x==M.x&&E.y==M.y||(y[0].push(M.id),y[1].push({transform:[1,0,0,1,E.x,E.y]}),y[2].push({transform:[1,0,0,1,M.x,M.y]})))}}return{animations:y,boundary:v,viewBox:d,visibleNodes:m,nodes:f,allFields:r.server.getAllFields(o)}},r.server._setMinMaxXY=function(e,t){(null==t.minX||null!=e.x&&e.x<t.minX)&&(t.minX=e.x),(null==t.minY||null!=e.y&&e.y<t.minY)&&(t.minY=e.y),(null==t.maxX||null!=e.x&&e.x+e.w>t.maxX)&&(t.maxX=e.x+e.w),(null==t.maxY||null!=e.y&&e.y+e.h>t.maxY)&&(t.maxY=e.y+e.h)},r.server._isNotNullEmptyUndefined=function(e){return null!=e&&null!=e&&""!==e},void 0===r&&(r={}),r.templates={},r.templates.base={defs:"",size:[250,120],expandCollapseSize:30,linkAdjuster:{fromX:0,fromY:0,toX:0,toY:0},ripple:{radius:0,color:"#e6e6e6",rect:null},assistanseLink:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="2px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} {xd},{yd} L{xe},{ye}"/>',svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',link:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} L{xd},{yd}"/>',pointer:'<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#C1C1C1" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',node:'<rect x="0" y="0" height="120" width="250" fill="none" stroke-width="1" stroke="#aeaeae"></rect>',plus:'<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#aeaeae"></line>',minus:'<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line>',nodeMenuButton:'<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',exportMenuButton:'<div style="position:absolute;right:{p}px;top:{p}px; width:40px;height:50px;cursor:pointer;" control-export-menu=""><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"></div>',img_0:'<clipPath id="{randId}"><circle cx="60" cy="60" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="20" y="20"  width="80" height="80"></image>',link_field_0:'<text class="field_0" text-anchor="middle" fill="#aeaeae" width="290" x="0" y="0" style="font-size:10px;">{val}</text>'},r.templates.ana={defs:"",size:[250,120],linkAdjuster:{fromX:0,fromY:0,toX:0,toY:0},ripple:{radius:0,color:"#e6e6e6",rect:null},expandCollapseSize:30,svg:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  style="display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',link:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} L{xd},{yd}" />',assistanseLink:'<path stroke-linejoin="round" stroke="#aeaeae" stroke-width="2px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} {xd},{yd} L{xe},{ye}"/>',pointer:'<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#C1C1C1" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',node:'<rect x="0" y="0" height="120" width="250" fill="#039BE5" stroke-width="1" stroke="#aeaeae" rx="5" ry="5"></rect>',plus:'<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#aeaeae"></line>',minus:'<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#aeaeae" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#aeaeae"></line>',nodeMenuButton:'<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',exportMenuButton:'<div style="position:absolute;right:{p}px;top:{p}px; width:40px;height:50px;cursor:pointer;" control-export-menu=""><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"><hr style="background-color: #7A7A7A; height: 3px; border: none;"></div>',img_0:'<clipPath id="{randId}"><circle cx="50" cy="30" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="-10"  width="80" height="80"></image>',link_field_0:'<text text-anchor="middle" fill="#aeaeae" width="290" x="0" y="0" style="font-size:10px;">{val}</text>',field_0:'<text width="230" class="field_0"  style="font-size: 18px;" fill="#ffffff" x="125" y="95" text-anchor="middle">{val}</text>',field_1:'<text width="130" text-overflow="multiline" class="field_1"  style="font-size: 14px;" fill="#ffffff" x="230" y="30" text-anchor="end">{val}</text>'},r.templates.split=Object.assign({},r.templates.ana),r.templates.split.size=[10,10],r.templates.split.node='<circle cx="5" cy="5" r="5" fill="none" stroke-width="1" stroke="#aeaeae"></circle>',r.templates.group_orange=Object.assign({},r.templates.base),r.templates.group_orange.size=[250,120],r.templates.group_orange.node='<rect rx="5" x="0" y="0" height="{h}" width="{w}" fill="#ffe6cc" stroke-width="1" stroke="#F57C00"></rect>',r.templates.group_orange.groupPadding=[50,10,10,10],r.templates.group_orange.groupNodesSeparation=10,r.templates.group_orange.groupName='<text width="{elastic_width}" class="groupName"  style="font-size: 24px;" fill="#F57C00" x="20" y="40">{val}</text>',r.templates.group_yellow=Object.assign({},r.templates.group_orange),r.templates.group_yellow.node='<rect rx="5" x="0" y="0" height="{h}" width="{w}" fill="#ffefbe" stroke-width="1" stroke="#FFCA28"></rect>',r.templates.group_yellow.groupName='<text width="{elastic_width}" class="groupName"  style="font-size: 24px;" fill="#FFCA28" x="20" y="40">{val}</text>',r.templates.group_grey=Object.assign({},r.templates.group_orange),r.templates.group_grey.node='<rect rx="5" x="0" y="0" height="{h}" width="{w}" fill="#eeeeee" stroke-width="1" stroke="#aeaeae"></rect>',r.templates.group_grey.groupName='<text width="{elastic_width}"  class="groupName"  style="font-size: 24px;" fill="#aeaeae" x="20" y="40">{val}</text>',r.templates.group_grey_one_column=Object.assign({},r.templates.group_grey),r.templates.group_grey_one_column.columns=1,r.templates.ula=Object.assign({},r.templates.ana),r.templates.ula.field_0='<text width="145" class="field_0" style="font-size: 18px;" fill="#039BE5" x="100" y="55">{val}</text>',r.templates.ula.field_1='<text width="145" text-overflow="multiline" class="field_1" style="font-size: 14px;" fill="#afafaf" x="100" y="76">{val}</text>',r.templates.ula.node='<rect x="0" y="0" height="120" width="250" fill="#ffffff" stroke-width="1" stroke="#aeaeae"></rect><line x1="0" y1="0" x2="250" y2="0" stroke-width="2" stroke="#039BE5"></line>',r.templates.ula.img_0='<clipPath id="{randId}"><circle cx="50" cy="60" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="20" width="80" height="80" ></image>',r.templates.ula.menu='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,12)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#ffffff" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#039BE5"></circle><circle cx="7" cy="0" r="2" fill="#039BE5"></circle><circle cx="14" cy="0" r="2" fill="#039BE5"></circle></g>',r.templates.ula.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="7" cy="0" r="2" fill="#AEAEAE"></circle><circle cx="14" cy="0" r="2" fill="#AEAEAE"></circle></g>',r.templates.olivia=Object.assign({},r.templates.ana),r.templates.olivia.field_0='<text width="145" class="field_0" style="font-size: 18px;" fill="#757575" x="100" y="55">{val}</text>',r.templates.olivia.field_1='<text width="145" class="field_1" style="font-size: 14px;" fill="#757575" x="100" y="76">{val}</text>',r.templates.olivia.defs='<linearGradient id="{randId}" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#FDFDFD;stop-opacity:1" /><stop offset="100%" style="stop-color:#C0C0C0;stop-opacity:1" /></linearGradient>',r.templates.olivia.node='<rect fill="url(#{randId})" x="0" y="0" height="120" width="250" stroke-width="1" stroke="#aeaeae" rx="5" ry="5"></rect>',r.templates.olivia.img_0='<clipPath id="{randId}"><circle cx="50" cy="60" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="20" width="80" height="80" ></image>',r.templates.belinda=Object.assign({},r.templates.ana),r.templates.belinda.size=[180,180],r.templates.belinda.ripple={radius:90,color:"#e6e6e6",rect:null},r.templates.belinda.node='<circle cx="90" cy="90" r="90" fill="#039BE5" stroke-width="1" stroke="#aeaeae"></circle>',r.templates.belinda.img_0='<clipPath id="{randId}"><circle cx="90" cy="45" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="50" y="5" width="80" height="80" ></image>',r.templates.belinda.field_0='<text width="170" class="field_0" style="font-size: 18px;" text-anchor="middle" fill="#ffffff"  x="90" y="105">{val}</text>',r.templates.belinda.field_1='<text width="160" class="field_1" style="font-size: 14px;" text-anchor="middle" fill="#ffffff"  x="90" y="125">{val}</text>',r.templates.belinda.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}"/>',r.templates.belinda.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,79,5)" control-node-menu-id="{id}"><rect x="0" y="0" fill="#000000" fill-opacity="0" width="22" height="22"></rect><line stroke-width="2" stroke="#000" x1="0" y1="3" x2="22" y2="3"></line><line stroke-width="2" stroke="#000" x1="0" y1="9" x2="22" y2="9"></line><line stroke-width="2" stroke="#000" x1="0" y1="15" x2="22" y2="15"></line></g>',r.templates.rony=Object.assign({},r.templates.ana),r.templates.rony.svg='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="background-color:#E8E8E8;display:block;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',r.templates.rony.defs='<filter id="{randId}" x="0" y="0" width="200%" height="200%"><feOffset result="offOut" in="SourceAlpha" dx="5" dy="5"></feOffset><feGaussianBlur result="blurOut" in="offOut" stdDeviation="5"></feGaussianBlur><feBlend in="SourceGraphic" in2="blurOut" mode="normal"></feBlend></filter>',r.templates.rony.size=[180,250],r.templates.rony.ripple={color:"#F57C00",radius:5,rect:null},r.templates.rony.img_0='<clipPath id="{randId}"><circle cx="90" cy="160" r="60"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="30" y="100"  width="120" height="120"></image>',r.templates.rony.node='<rect filter="url(#{randId})" x="0" y="0" height="250" width="180" fill="#ffffff" stroke-width="0" rx="5" ry="5"></rect>',r.templates.rony.field_0='<text width="165" class="field_0" style="font-size: 18px;" fill="#039BE5" x="90" y="40" text-anchor="middle">{val}</text>',r.templates.rony.field_1='<text width="165" class="field_1" style="font-size: 14px;" fill="#F57C00" x="90" y="60" text-anchor="middle">{val}</text>',r.templates.rony.field_2='<text width="165" style="font-size: 14px;" fill="#FFCA28" x="90" y="80" text-anchor="middle">{val}</text>',r.templates.rony.link='<path stroke="#039BE5" stroke-width="1px" fill="none" d="M{xa},{ya} {xb},{yb} {xc},{yc} L{xd},{yd}"/>',r.templates.rony.plus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#039BE5" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#039BE5"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#039BE5"></line>',r.templates.rony.minus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#039BE5" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#039BE5"></line>',r.templates.rony.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,155,235)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#F57C00"></circle><circle cx="7" cy="0" r="2" fill="#F57C00"></circle><circle cx="14" cy="0" r="2" fill="#F57C00"></circle></g>',r.templates.mery=Object.assign({},r.templates.ana),r.templates.mery.ripple={color:"#e6e6e6",radius:50,rect:null},r.templates.mery.node='<rect x="0" y="0" height="120" width="250" fill="#ffffff" stroke-width="1" stroke="#686868" rx="50" ry="50"></rect><rect x="0" y="45" height="30" width="250" fill="#039BE5" stroke-width="1"></rect>',r.templates.mery.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}" />',r.templates.mery.img_0='<clipPath id="{randId}"><circle cx="125" cy="60" r="24"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="95" y="33"  width="60" height="60"></image>',r.templates.mery.field_0='<text width="220" class="field_0" style="font-size: 18px;" fill="#039BE5" x="125" y="30" text-anchor="middle">{val}</text>',r.templates.mery.field_1='<text width="220" class="field_1" style="font-size: 14px;" fill="#039BE5" x="125" y="100" text-anchor="middle">{val}</text>',r.templates.mery.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,60)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',r.templates.polina=Object.assign({},r.templates.ana),r.templates.polina.size=[300,80],r.templates.polina.ripple={color:"#e6e6e6",radius:40,rect:null},r.templates.polina.node='<rect x="0" y="0" height="80" width="300" fill="#039BE5" stroke-width="1" stroke="#686868" rx="40" ry="40"></rect>',r.templates.polina.img_0='<clipPath id="{randId}"><circle  cx="40" cy="40" r="35"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="0" y="0"  width="80" height="80"></image>',r.templates.polina.field_0='<text width="210" class="field_0" style="font-size: 18px;" fill="#ffffff" x="80" y="30" text-anchor="start">{val}</text>',r.templates.polina.field_1='<text width="210" class="field_1" style="font-size: 14px;" fill="#ffffff" x="80" y="55" text-anchor="start">{val}</text>',r.templates.polina.link='<path stroke="#686868" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}" />',r.templates.polina.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,285,33)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="0" cy="7" r="2" fill="#ffffff"></circle><circle cx="0" cy="14" r="2" fill="#ffffff"></circle></g>',r.templates.mila=Object.assign({},r.templates.ana),r.templates.mila.node='<rect x="0" y="0" height="120" width="250" fill="#039BE5" stroke-width="1" stroke="#aeaeae"></rect><rect x="-5" y="70" height="30" width="260" fill="#ffffff" stroke-width="1" stroke="#039BE5"></rect><line x1="-5" x2="0" y1="100" y2="105" stroke-width="1" stroke="#039BE5"/><line x1="255" x2="250" y1="100" y2="105" stroke-width="1" stroke="#039BE5"/>',r.templates.mila.img_0='<image preserveAspectRatio="xMidYMid slice" xlink:href="{val}" x="20" y="5"  width="64" height="64"></image>',r.templates.mila.field_0='<text width="240" class="field_0" style="font-size: 18px;" fill="#039BE5" x="125" y="92" text-anchor="middle">{val}</text>',r.templates.mila.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,110)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',r.templates.diva=Object.assign({},r.templates.ana),r.templates.diva.size=[200,170],r.templates.diva.node='<rect x="0" y="80" height="90" width="200" fill="#039BE5"></rect><circle cx="100" cy="50" fill="#ffffff" r="50" stroke="#039BE5" stroke-width="2"></circle>',r.templates.diva.img_0='<clipPath id="{randId}"><circle cx="100" cy="50" r="45"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="50" y="0"  width="100" height="100"></image>',r.templates.diva.field_0='<text width="185" class="field_0" style="font-size: 18px;" fill="#ffffff" x="100" y="125" text-anchor="middle">{val}</text>',r.templates.diva.field_1='<text width="185" class="field_1" style="font-size: 14px;" fill="#ffffff" x="100" y="145" text-anchor="middle">{val}</text>',r.templates.diva.pointer='<g data-pointer="pointer" transform="matrix(0,0,0,0,100,100)"><radialGradient id="pointerGradient"><stop stop-color="#ffffff" offset="0" /><stop stop-color="#039BE5" offset="1" /></radialGradient><circle cx="16" cy="16" r="16" stroke-width="1" stroke="#acacac" fill="url(#pointerGradient)"></circle></g>',r.templates.diva.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,175,155)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',r.templates.luba=Object.assign({},r.templates.ana),r.templates.luba.svg='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:block;background-color: #2E2E2E;" width="{w}" height="{h}" viewBox="{viewBox}">{content}</svg>',r.templates.luba.defs='<linearGradient id="{randId}" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#646464;stop-opacity:1" /><stop offset="100%" style="stop-color:#363636;stop-opacity:1" /></linearGradient>',r.templates.luba.node='<rect fill="url(#{randId})" x="0" y="0" height="120" width="250" stroke-width="1" stroke="#aeaeae" rx="5" ry="5"></rect>',r.templates.luba.img_0='<clipPath id="{randId}"><circle cx="50" cy="25" r="40"></circle></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="10" y="-15"  width="80" height="80"></image>',r.templates.luba.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,225,105)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#aeaeae"></circle><circle cx="7" cy="0" r="2" fill="#aeaeae"></circle><circle cx="14" cy="0" r="2" fill="#aeaeae"></circle></g>',r.templates.luba.field_0='<text width="235" class="field_0" style="font-size: 18px;" fill="#aeaeae" x="125" y="90" text-anchor="middle">{val}</text>',r.templates.luba.field_1='<text width="140" class="field_1" style="font-size: 14px;" fill="#aeaeae" x="240" y="30" text-anchor="end">{val}</text>',r.templates.luba.plus='<rect x="0" y="0" width="36" height="36" rx="12" ry="12" fill="#2E2E2E" stroke="#aeaeae" stroke-width="1"></rect><line x1="4" y1="18" x2="32" y2="18" stroke-width="1" stroke="#aeaeae"></line><line x1="18" y1="4" x2="18" y2="32" stroke-width="1" stroke="#aeaeae"></line>',r.templates.luba.minus='<rect x="0" y="0" width="36" height="36" rx="12" ry="12" fill="#2E2E2E" stroke="#aeaeae" stroke-width="1"></rect><line x1="4" y1="18" x2="32" y2="18" stroke-width="1" stroke="#aeaeae"></line>',r.templates.luba.expandCollapseSize=36,r.templates.derek=Object.assign({},r.templates.ana),r.templates.derek.link='<path stroke="#aeaeae" stroke-width="1px" fill="none" d="M{xa},{ya} C{xb},{yb} {xc},{yc} {xd},{yd}"/>',r.templates.derek.field_0='<text width="235" class="field_0"  style="font-size: 24px;" fill="#aeaeae" x="125" y="90" text-anchor="middle">{val}</text>',r.templates.derek.field_1='<text width="130" class="field_1"  style="font-size: 16px;" fill="#aeaeae" x="230" y="30" text-anchor="end">{val}</text>',r.templates.derek.node='<rect x="0" y="0" height="120" width="250" fill="#ffffff" stroke-width="0" stroke="none" rx="5" ry="5"></rect><path d="M1.0464172536455116 0.43190469224125483 C53.84241668202045 -0.788936709486018, 103.41786516460891 -0.7020837047025514, 252.36637077877316 2.5880308844586395 M2.9051048929845287 1.416953777798454 C94.33574460557007 1.0012759229446266, 189.39715875173388 0.6456731199982935, 252.78978918302985 2.4201778360648074 M253.62699063660838 2.9193391477217157 C249.73034548542307 47.55931231380586, 252.87525930998083 91.26715478378368, 253.10179184315842 121.7440626272514 M251.37132919216776 1.8733470844542213 C252.2809675089866 32.73212950193807, 251.34402714677282 62.11470833534073, 251.87050951184997 121.58550827952904 M253.33945599552268 122.05611967964798 C171.36076589155192 123.47737863766969, 88.83808249906167 125.27259840604118, 3.1999393565128846 121.26868651191393 M252.26165120810887 122.5938901158243 C192.76996487394138 123.44664377223289, 131.37122563794998 122.94880221756583, 1.2373006891045732 121.88999197324904 M2.223863211672736 121.04511533445009 C1.4438124377596486 86.38398979211773, 2.8540468486809294 55.805566409478374, 3.8890451480896644 1.7483404843613926 M2.244347335490432 122.60147677858153 C2.100672267495622 92.31058899219087, 1.6261027388218166 64.160806803772, 1.6325734600065367 1.1945909353588222" stroke="#aeaeae" ></path>',r.templates.derek.defs=' <filter id="grayscale"><feColorMatrix type="matrix" values="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"/></filter>',r.templates.derek.img_0='<clipPath id="{randId}"><circle cx="60" cy="30" r="36"></circle></clipPath><path d="M59.27394950148486 -8.301766751084706 C67.69473471187919 -8.865443566034696, 80.29031463018414 -4.859224005049532, 87.18598909426663 0.33238763875740673 C94.08166355834912 5.523999282564345, 98.98110545022442 14.745947814116153, 100.64799628597981 22.847903111756924 C102.31488712173521 30.949858409397695, 101.71467046207992 41.576461864335656, 97.187334108799 48.944119424602036 C92.65999775551809 56.311776984868416, 82.03610997730354 64.08326918912249, 73.48397816629435 67.05384847335519 C64.93184635528516 70.02442775758789, 54.01035575000908 69.7708463163516, 45.874543242743854 66.76759512999827 C37.738730735478626 63.76434394364495, 29.04872278114092 56.18846598822666, 24.669103122702957 49.034341355235284 C20.289483464264993 41.88021672224391, 18.158053754175985 31.830144088547545, 19.596825292116065 23.84284733205002 C21.035596830056146 15.855550575552495, 25.795252700735308 6.49424361294595, 33.30173235034344 1.1105608162501355 C40.80821199995158 -4.273121980445679, 58.92971347412665 -7.0427741956040295, 64.63570318976488 -8.459249448124865 C70.34169290540312 -9.8757247006457, 67.62192977382313 -7.857597534262704, 67.53767064417285 -7.388290698874876 M62.748378255307365 -8.335850348284236 C71.26603403676657 -8.411982637093757, 83.3134559967999 -3.2332675886967737, 89.65944437868365 2.387927626929269 C96.00543276056739 8.00912284255531, 99.8018539626104 17.389209313563462, 100.82430854660979 25.39132094547202 C101.84676313060918 33.39343257738058, 100.69202080288338 43.23907526327184, 95.79417188267999 50.40059741838061 C90.8963229624766 57.56211957348938, 80.19607375493683 65.6933432424228, 71.43721502538948 68.36045387612462 C62.678356295842114 71.02756450982645, 51.31858275833087 70.03148525422704, 43.241019505395826 66.40326122059156 C35.16345625246078 62.775037186956084, 26.840434236544123 54.120081952867466, 22.971835507779204 46.59110967431175 C19.103236779014285 39.06213739575604, 17.94937086132579 28.992694575765086, 20.029427132806305 21.22942754925726 C22.10948340428682 13.466160522749433, 28.239699334668693 5.033316212766326, 35.452173136662296 0.011507515264803203 C42.6646469386559 -5.010301182236719, 59.029629541347575 -7.774813789367088, 63.30426994476793 -8.901424635751876 C67.57891034818829 -10.028035482136666, 61.20261013623477 -7.6019933587127815, 61.10001555718443 -6.748157563043929" style="stroke: #aeaeae; stroke-width: 2; fill: none;"></path><image filter="url(#grayscale)" preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="20" y="-10"  width="80" height="80"></image>',r.templates.derek.minus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke-width="0"></circle><path d="M17.23891044927774 1.1814294501322902 C20.29160626452551 1.030769196657948, 23.947970993006972 3.1719335544839753, 26.394853759110717 5.588671983418923 C28.84173652521446 8.005410412353871, 31.246576051221126 12.511831935158815, 31.920207045900206 15.681860023741976 C32.593838040579286 18.85188811232514, 32.286699675240925 21.948848714186923, 30.436639727185195 24.60884051491789 C28.586579779129462 27.268832315648858, 24.05246578668338 30.675892912089505, 20.819847357565806 31.64181082812777 C17.58722892844823 32.60772874416604, 13.992479948405318 31.588687222722193, 11.040929152479746 30.404348011147484 C8.089378356554175 29.220008799572774, 4.476346434761303 27.363985211380037, 3.110542582012373 24.535775558679525 C1.7447387292634435 21.707565905979013, 2.0125141957866703 16.770753327135857, 2.8461060359861694 13.435090094944405 C3.6796978761856685 10.099426862752953, 4.99838568665378 6.33816589513267, 8.112093623209367 4.521796165530812 C11.225801559764953 2.7054264359289544, 18.764666760207586 2.8505106971937155, 21.528353655319687 2.5368717173332556 C24.29204055043179 2.2232327374727956, 24.87088035867136 2.534909813412478, 24.69421499388197 2.6399622863680516 M17.281640595209783 0.19007885243722633 C20.364244435145494 -0.11577004716725742, 25.135133405402318 3.2303746945812075, 27.855952721223584 5.7353294427454955 C30.57677203704485 8.240284190909783, 33.34617538156587 11.802005102645245, 33.606556490137386 15.219807341422953 C33.8669375987089 18.637609580200664, 31.337125602828454 23.632355493641384, 29.418239372652685 26.24214287541175 C27.499353142476917 28.85193025718212, 25.044077583504755 30.13224182494988, 22.093239109082777 30.87853163204516 C19.1424006346608 31.62482143914044, 14.787723024669972 31.933646092018286, 11.713208526120809 30.719881717983426 C8.638694027571646 29.506117343948567, 5.1333408130933655 26.55826769548724, 3.6461521177877945 23.595945387835997 C2.1589634224822234 20.633623080184755, 1.9785010696309286 16.25773192692332, 2.7900763542873843 12.945947872075987 C3.60165163894384 9.634163817228652, 5.999109831161897 5.87039683716568, 8.51560382572653 3.7252410587519886 C11.032097820291161 1.5800852803382974, 16.377503419445155 0.40900388408914673, 17.88904032167518 0.0750132015938405 C19.400577223905202 -0.2589774809014657, 17.448582822593046 1.2406055078364167, 17.584825239106664 1.7212969637801514" style="stroke: rgb(174, 174, 174); stroke-width: 1; fill: none;"></path><path d="M8.571186416504453 17.64803469305822 C12.085276840999553 15.452815349785006, 19.337130848197884 16.101685575250833, 26.855223350440756 18.889299472836626 M7.857231507904164 16.840024354210055 C15.011849298914942 18.06824852479784, 22.352469730756894 17.800410681835732, 26.732355140012178 16.88515873797708" style="stroke: #aeaeae; stroke-width: 1; fill: none;"></path>',r.templates.derek.plus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke-width="0"></circle><path d="M12.257463787262992 2.40166003616363 C15.548960627027807 1.1768586505919105, 20.323768339136134 1.874732142276981, 23.661947633240565 3.0864861053786417 C27.000126927344997 4.298240068480302, 30.703811226452725 6.729324000523814, 32.286539551889575 9.672183814773595 C33.86926787732643 12.615043629023376, 33.788018167397944 17.557781915741554, 33.158317585861674 20.743644990877332 C32.528617004325405 23.92950806601311, 31.137543762406274 26.899980401737224, 28.508336062671955 28.787362265588257 C25.879128362937635 30.67474412943929, 21.064677192956335 31.99302804642975, 17.383071387455747 32.06793617398354 C13.701465581955157 32.14284430153733, 9.342085269075854 31.17242931287016, 6.418701229668416 29.236811030911003 C3.4953171902609785 27.301192748951845, 0.29124975331190645 23.792422306170057, -0.15723284898887968 20.454226482228595 C-0.6057154512896659 17.116030658287134, 1.5769138742615705 12.178626667602387, 3.7278056158636996 9.207636087262241 C5.878697357465828 6.236645506922095, 10.970632450860041 3.8471017540469195, 12.748117600623896 2.6282830001877198 C14.525602750387751 1.4094642463285199, 14.289563699001825 1.9470094191022314, 14.392716514446832 1.894723564107041 M22.43549828180672 1.2256088400576157 C25.69018250895055 1.7704365119039576, 29.24546322166512 4.979269460398017, 31.051492912414023 8.188373611713667 C32.85752260316293 11.397477763029316, 33.67207918890526 17.17514768034262, 33.27167642630015 20.480233747951512 C32.871273663695035 23.785319815560406, 31.41050911947538 25.966765564166938, 28.649076336783356 28.01889001736704 C25.887643554091333 30.07101447056714, 20.094058835586818 32.38500719321419, 16.70307973014802 32.79298046715211 C13.31210062470922 33.20095374109003, 10.940906263905317 32.367748192606626, 8.303201704150565 30.46672966099454 C5.665497144395813 28.565711129382457, 2.097338248187536 24.641108687248686, 0.8768523716195098 21.386869277479594 C-0.34363350494851663 18.132629867710502, -0.763694313917872 14.0433435213021, 0.980286444742406 10.941293202379995 C2.7242672034026842 7.83924288345789, 7.945090366802328 4.317959037402062, 11.340736923581177 2.774567363946959 C14.736383480360027 1.231175690491856, 19.39979547907987 1.5862021443476335, 21.354165785415507 1.6809431616493775 C23.308536091751144 1.7756841789511215, 22.887857886273373 3.132249638930103, 23.06695876159499 3.343013467757423" style="stroke: rgb(174, 174, 174); stroke-width: 1; fill: none;"></path><path d="M7.0048103933165935 18.109075284628886 C12.152504846776358 18.486044066779655, 15.926735549928488 18.85477711845977, 26.641287664541796 15.553207106118496 M6.796084928139555 16.174781745374535 C14.085050058006614 16.53898319893461, 19.579209483395115 16.725914747038104, 27.441803598385356 17.277875712554966" style="stroke: #aeaeae; stroke-width: 1; fill: none;"></path><path d="M16.293755471804 6.234638030793387 C17.448668211406996 11.453666045700338, 16.27043554943843 18.842895411477887, 16.90423703847114 28.952046969222806 M17.809777051185264 7.011866752183222 C17.599122858612276 13.07833796918755, 16.995204905243295 18.587342115968614, 17.888568853882067 26.844926419317094" style="stroke: #aeaeae; stroke-width: 1; fill: none;"></path>',r.templates.derek.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,210,80)" control-node-menu-id="{id}"><rect x="-4" y="-4" fill="#000000" fill-opacity="0" width="30" height="30"></rect><path d="M28.28024041166867 10.015533059199505 C16.45705393905741 10.81309700412131, 9.85276157405196 9.87162723980281, 3.5441213169168515 7.075531655648353 M27.551825308513525 8.923800642512257 C18.159502224784205 9.337153563754718, 7.451197502628936 9.284728719203128, 1.8548423867425456 8.753004894810802 M27.907104120536573 17.662200828300364 C18.343063985797404 18.998694042201137, 6.69417200021006 18.568117962359516, 2.7668346274558218 17.84920936843539 M26.99365966559525 17.444217688828093 C18.288291344549645 16.258053076066645, 10.047008592341617 16.913684103209345, 2.1772395910449567 17.55258716848472 M25.754130110044443 24.79648729629354 C19.716463597004157 24.059273917380096, 12.571903015673474 24.723484329803995, 1.2709092686545498 25.961416660790483 M26.031268385778997 24.853114475295413 C16.16958752624931 25.047162545233455, 7.4039608372111765 23.9169859615211, 1.4736400026930716 24.342985647697336" style="stroke: rgb(174, 174, 174); stroke-width: 1; fill: none;"></path></g>',r.templates.isla=Object.assign({},r.templates.ana),r.templates.isla.defs='<filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="isla-shadow"><feOffset dx="0" dy="4" in="SourceAlpha" result="shadowOffsetOuter1" /><feGaussianBlur stdDeviation="10" in="shadowOffsetOuter1" result="shadowBlurOuter1" /><feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.2 0" in="shadowBlurOuter1" type="matrix" result="shadowMatrixOuter1" /><feMerge><feMergeNode in="shadowMatrixOuter1" /><feMergeNode in="SourceGraphic" /></feMerge></filter>',r.templates.isla.size=[180,120],r.templates.isla.node='<rect filter="url(#isla-shadow)" x="0" y="20" rx="5" ry="5" height="100" width="180" fill="#FFF" stroke-width="1" stroke="#039BE5" ></rect><rect x="25" y="75" rx="10" ry="10" height="20" width="130" fill="#039BE5" stroke-width="3" stroke="#039BE5"></rect><rect fill="#ffffff" stroke="#039BE5" stroke-width="1" x="70" y="0" rx="13" ry="13" width="40" height="40"></rect><circle stroke="#FFCA28" stroke-width="3" fill="none" cx="90" cy="12" r="8"></circle><path d="M75,34 C75,17 105,17 105,34" stroke="#FFCA28" stroke-width="3" fill="none"></path>',r.templates.isla.field_0='<text width="120" style="font-size: 12px;" fill="#fff" x="90" y="90" text-anchor="middle">{val}</text>',r.templates.isla.field_1='<text width="160" style="font-size: 13px;" fill="#039BE5" x="90" y="64" text-anchor="middle">{val}</text>',r.templates.isla.img_0='<clipPath id="{randId}"><rect filter="url(#isla-shadow)" fill="#ffffff" stroke="#039BE5" stroke-width="1" x="70" y="0" rx="13" ry="13" width="40" height="40"></rect></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="70" y="0"  width="40" height="40"></image>',r.templates.isla.minus='<circle cx="15" cy="15" r="15" fill="#F57C00" stroke="#F57C00" stroke-width="1"></circle><line x1="8" y1="15" x2="22" y2="15" stroke-width="1" stroke="#ffffff"></line>',r.templates.isla.plus='<circle cx="15" cy="15" r="15" fill="#ffffff" stroke="#039BE5" stroke-width="1"></circle><line x1="4" y1="15" x2="26" y2="15" stroke-width="1" stroke="#039BE5"></line><line x1="15" y1="4" x2="15" y2="26" stroke-width="1" stroke="#039BE5"></line>',r.templates.isla.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,83,45)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#F57C00"></circle><circle cx="7" cy="0" r="2" fill="#F57C00"></circle><circle cx="14" cy="0" r="2" fill="#F57C00"></circle></g>',r.templates.isla.ripple={radius:0,color:"#F57C00",rect:{x:0,y:20,width:180,height:100}},r.templates.deborah=Object.assign({},r.templates.polina),r.templates.deborah.size=[150,150],r.templates.deborah.node='<rect x="0" y="0" height="150" width="150" fill="#039BE5" stroke-width="1" stroke="#686868" rx="15" ry="15"></rect>',r.templates.deborah.img_0='<clipPath id="{randId}"><rect fill="#ffffff" stroke="#039BE5" stroke-width="1" x="5" y="5" rx="15" ry="15" width="140" height="140"></rect></clipPath><image preserveAspectRatio="xMidYMid slice" clip-path="url(#{randId})" xlink:href="{val}" x="5" y="5"  width="140" height="140"></image><rect x="3" y="5" height="30" width="144" fill="#039BE5" opacity="0.5" rx="3" ry="3"></rect><rect x="3" y="115" height="30" width="144" fill="#039BE5" opacity="0.5" rx="3" ry="3"></rect>',r.templates.deborah.field_0='<text width="125" text-overflow="ellipsis" style="font-size: 18px;" fill="#ffffff" x="15" y="25" text-anchor="start">{val}</text>',r.templates.deborah.field_1='<text width="105" text-overflow="ellipsis" style="font-size: 11px;" fill="#ffffff" x="15" y="135" text-anchor="start">{val}</text>',r.templates.deborah.nodeMenuButton='<g style="cursor:pointer;" transform="matrix(1,0,0,1,125,130)" control-node-menu-id="{id}"><rect x="-4" y="-10" fill="#000000" fill-opacity="0" width="22" height="22"></rect><circle cx="0" cy="0" r="2" fill="#ffffff"></circle><circle cx="7" cy="0" r="2" fill="#ffffff"></circle><circle cx="14" cy="0" r="2" fill="#ffffff"></circle></g>',r.ui={_defsIds:{},defs:function(e){var t="";for(var i in r.templates){var o=r.templates[i];o.defs?(r.ui._defsIds[i]=r._randomId(),t+=o.defs.replace("{randId}",r.ui._defsIds[i])):t+=o.defs}return"<defs>"+t+e+"</defs>"},css:function(){return'<style>.bg-ripple-container {position: absolute; top: 0; right: 0; bottom: 0; left: 0; } .bg-ripple-container span {transform: scale(0);border-radius:100%;position:absolute;opacity:0.75;background-color:#fff;animation: bg-ripple 1000ms; }@-moz-keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}@-webkit-keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}@-o-keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}@keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}.bg-switch {position:relative;display:inline-block;width:60px;height:24px;float:right;}.bg-switch input {opacity:0;width:0;height:0;}.bg-slider {position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color: #ccc;-webkit-transition:.4s;transition: .4s;}.bg-slider:before {position:absolute;content:"";height:16px;width:16px;left:4px;bottom:4px;background-color:white;-webkit-transition:.4s;transition:.4s;}input:checked + .bg-slider {background-color:#2196F3;}input:focus + .bg-slider {box-shadow:0 0 1px #2196F3;}input:checked + .bg-slider:before {-webkit-transform:translateX(34px);-ms-transform:translateX(34px);transform:translateX(34px);}.bg-slider.round {border-radius:24px;}.bg-slider.round:before {border-radius:50%;}svg text:hover {cursor:default;}</style>'},lonely:function(e){return e.nodes&&e.nodes.length?"":r.IT_IS_LONELY_HERE.replace("{link}",r.RES.IT_IS_LONELY_HERE_LINK)},pointer:function(e,t,i){return t===r.action.exporting?"":r.t(e.template,i).pointer},node:function(e,t,i,o,n,a,l,s,d,c){var p=r.t(e.templateName,d),h=p.node.replaceAll("{w}",e.w).replaceAll("{h}",e.h);if(p.defs&&(h=h.replace("{randId}",r.ui._defsIds[e.templateName])),null==l&&(l=o.nodeBinding),e.isGroup){var f=o.tags[e.id].groupName;if(f){var u=p.groupName.replace("{elastic_width}",e.w-(p.groupPadding[3]+p.groupPadding[1]+45));f=r.wrapText(f,u),h+=u.replace("{val}",f).replaceAll("{randId}",r._randomId()).replaceAll("{randId2}",r._randomId())}}else for(var g in l){var m=l[g];if(t){var v=t[m];"function"==typeof m&&(v=m(c,e)),null!=v&&null!=v&&null!=p[g]&&(h+=(r._lblIsImg(o,g)||"string"!=typeof v||(v=r.wrapText(v,p[g])),p[g].replace("{val}",v)).replaceAll("{randId}",r._randomId()).replaceAll("{randId2}",r._randomId()))}}var y=r._getPosition(i,e,n,a),x="node";Array.isArray(e.tags)&&e.tags.length&&(x+=" "+e.tags.join(" ")),e.layout&&(x+=" tree-layout");var b=r.nodeOpenTag.replace("{id}",e.id).replace("{class}",x).replace("{level}",e.level).replace("{x}",y.x).replace("{y}",y.y),w=r._getOpacity(i,e);b=b.replace("{opacity}",w),e.isGroup||null==o.nodeMenu||"split"==e.templateName||s===r.action.exporting||(h+=p.nodeMenuButton.replace("{id}",e.id));var _=r.ui._renderGroupedNodes(e,p,o,i,l,n,a,s,d,c);return e.isGroup&&s!=r.action.exporting&&(e.groupState==r.EXPAND?h+=r.MINIMIZE.replace("{x}",e.w-45).replace("{id}",e.id):h+=r.MAXIMIZE.replace("{x}",e.w-45).replace("{id}",e.id)),b+h+_+r.grCloseTag},_renderGroupedNodes:function(e,t,i,o,n,a,l,s,d,c){var p="";if(e.isGroup&&e.groupState==r.EXPAND){t.groupPadding||console.error("groupPadding is not defined in template "+e.templateName);for(var h=0;h<e.bgnodes.length;h++){for(var f=e.bgnodes[h],u=null,g=0;g<i.nodes.length;g++)i.nodes[g].id==f.id&&(u=i.nodes[g]);p+=r.ui.node(f,u,o,i,a,l,n,s,d,c)}p=r.groupNodesOpenTag.replace("{x}",t.groupPadding[3]).replace("{y}",t.groupPadding[0])+p+r.grCloseTag}return p},expandCollapse:function(e,t,i,o){if(i===r.action.exporting)return"";if(0==e.childrenIds.length)return"";if(e.isAssistant)return"";if("split"==e.templateName)return"";var n="",a=0,l=0,s=r.t(e.templateName,o);switch(t.orientation){case r.orientation.top:case r.orientation.top_left:a=e.x+e.w/2,l=e.y+e.h;break;case r.orientation.bottom:case r.orientation.bottom_left:a=e.x+e.w/2,l=e.y;break;case r.orientation.right:case r.orientation.right_top:a=e.x,l=e.y+e.h/2;break;case r.orientation.left:case r.orientation.left_top:a=e.x+e.w,l=e.y+e.h/2}return a-=s.expandCollapseSize/2,l-=s.expandCollapseSize/2,e.collapsedChildrenIds.length?(n+=r.expcollOpenTag.replace("{id}",e.id).replace("{x}",a).replace("{y}",l),n+=s.plus):(n+=r.expcollOpenTag.replace("{id}",e.id).replace("{x}",a).replace("{y}",l),n+=s.minus),n+r.grCloseTag},link:function(e,t,i,o){var n=r.t(e.templateName,o),a=[],l=i.levelSeparation/2;e.layout!=r.mixed&&e.layout!=r.tree||(l=i.mixedHierarchyNodesSeparation/2);for(var s=0;s<e.children.length;s++){var d=e.children[s],c={xa:0,ya:0,xb:0,yb:0,xc:0,yc:0,xd:0,yd:0,x:0,y:0,rotate:0},p=(n=r.t(d.templateName,o)).link;if((d.isAssistant||2==d.layout)&&d.rightNeighbor&&"split"==d.rightNeighbor.templateName)switch(i.orientation){case r.orientation.top:case r.orientation.top_left:c=r.ui._linkRightToLeft(d.rightNeighbor,d,n,l);break;case r.orientation.bottom:case r.orientation.bottom_left:c=r.ui._linkRightToLeft(d.rightNeighbor,d,n,l);break;case r.orientation.right:case r.orientation.right_top:c=r.ui._linkBottomToTop(d.rightNeighbor,d,n,l);break;case r.orientation.left:case r.orientation.left_top:c=r.ui._linkBottomToTop(d.rightNeighbor,d,n,l)}else if((d.isAssistant||2==d.layout)&&d.leftNeighbor&&"split"==d.leftNeighbor.templateName)switch(i.orientation){case r.orientation.top:case r.orientation.top_left:c=r.ui._linkLeftToRight(d.leftNeighbor,d,n,l);break;case r.orientation.bottom:case r.orientation.bottom_left:c=r.ui._linkLeftToRight(d.leftNeighbor,d,n,l);break;case r.orientation.right:case r.orientation.right_top:c=r.ui._linkTopToBottom(d.leftNeighbor,d,n,l);break;case r.orientation.left:case r.orientation.left_top:c=r.ui._linkTopToBottom(d.leftNeighbor,d,n,l)}else switch(i.orientation){case r.orientation.top:case r.orientation.top_left:c=r.ui._linkTopToBottom(e,d,n,l);break;case r.orientation.bottom:case r.orientation.bottom_left:c=r.ui._linkBottomToTop(e,d,n,l);break;case r.orientation.right:case r.orientation.right_top:c=r.ui._linkRightToLeft(e,d,n,l);break;case r.orientation.left:case r.orientation.left_top:c=r.ui._linkLeftToRight(e,d,n,l)}p=p.replace("{xa}",c.xa).replace("{ya}",c.ya).replace("{xb}",c.xb).replace("{yb}",c.yb).replace("{xc}",c.xc).replace("{yc}",c.yc).replace("{xd}",c.xd).replace("{yd}",c.yd),a.push(r.linkOpenTag.replace("{id}",e.id).replace("{class}","link "+d.tags.join(" ")).replace("{level}",e.level).replace("{child-id}",d.id)),a.push(p);var h="";for(var f in i.linkBinding){var u=i.linkBinding[f],g=t._get(d.id);if(g){var m=g[u];null!=m&&null!=m&&null!=n[f]&&(h+=n[f].replace("{val}",m))}}""!=h&&(h=r.linkFieldsOpenTag.replace("{x}",c.x).replace("{y}",c.y).replace("{rotate}",0)+h+r.grCloseTag,a.push(h)),a.push(r.grCloseTag)}return a.join("")},svg:function(e,t,i,o,n,a){return r.t(o.template,a).svg.replace("{w}",e).replace("{h}",t).replace("{viewBox}",i).replace("{content}",n)},exportMenuButton:function(e){return null==e.menu?"":r.t(e.template).exportMenuButton.replaceAll("{p}",e.padding)},_linkTopToBottom:function(e,t,i,o){var n,r,a,l,s,d,c,p;return n=e.x+e.w/2+i.linkAdjuster.toX,r=e.y+e.h+i.linkAdjuster.toY,s=l=t.x+t.w/2+i.linkAdjuster.fromX,d=t.y+i.linkAdjuster.fromY,{xa:a=n,ya:r,xb:a,yb:p=e.rightNeighbor&&e.rightNeighbor.isAssistant&&"split"==t.templateName?e.rightNeighbor.y+e.rightNeighbor.h+o:"split"!=e.templateName||!t.isAssistant&&2!=t.layout?"split"==t.templateName?r+o:d-o:d,xc:c=l,yc:p,xd:s,yd:d,x:c,y:p+16,rotate:0}},_linkBottomToTop:function(e,t,i,o){var n,r,a,l,s,d,c,p;return n=e.x+e.w/2+i.linkAdjuster.toX,r=e.y+i.linkAdjuster.toY,s=l=t.x+t.w/2+i.linkAdjuster.fromX,d=t.y+t.h+i.linkAdjuster.fromY,{xa:a=n,ya:r,xb:a,yb:p=e.rightNeighbor&&e.rightNeighbor.isAssistant&&"split"==t.templateName?e.rightNeighbor.y-o:"split"!=e.templateName||!t.isAssistant&&2!=t.layout?"split"==t.templateName?r-o:d+o:d,xc:c=l,yc:p,xd:s,yd:d,x:c,y:p-14,rotate:0}},_linkRightToLeft:function(e,t,i,o){var n,r,a,l,s,d,c,p;return n=e.x+i.linkAdjuster.toX,r=e.y+e.h/2+i.linkAdjuster.toY,s=t.x+t.w+i.linkAdjuster.fromX,d=l=t.y+t.h/2+i.linkAdjuster.fromY,{xa:n,ya:a=r,xb:p=e.rightNeighbor&&e.rightNeighbor.isAssistant&&"split"==t.templateName?e.rightNeighbor.x-o:"split"!=e.templateName||!t.isAssistant&&2!=t.layout?"split"==t.templateName?n-o:s+o:s,yb:a,xc:p,yc:c=l,xd:s,yd:d,x:p-16,y:c,rotate:90}},_linkLeftToRight:function(e,t,i,o){var n,r,a,l,s,d,c,p;return n=e.x+e.w+i.linkAdjuster.toX,r=e.y+e.h/2+i.linkAdjuster.toY,s=t.x+i.linkAdjuster.fromX,d=l=t.y+t.h/2+i.linkAdjuster.fromY,{xa:n,ya:a=r,xb:p=e.rightNeighbor&&e.rightNeighbor.isAssistant&&"split"==t.templateName?e.rightNeighbor.x+e.rightNeighbor.w+o:"split"!=e.templateName||!t.isAssistant&&2!=t.layout?"split"==t.templateName?n+o:s-o:s,yb:a,xc:p,yc:c=l,xd:s,yd:d,x:p+14,y:c,rotate:270}}},void 0===r&&(r={}),r._validateConfig=function(e){return!!e||(console.error("config is not defined"),!1)},r._arrayContains=function(e,t){if(e&&Array.isArray(e))for(var i=e.length;i--;)if(e[i]===t)return!0;return!1},r._interceptions=function(e,t){if(!e)return[];if(!t)return[];var i=[];if(Array.isArray(e)&&Array.isArray(t))for(var o in e)for(var n in t)e[o]==t[n]&&i.push(e[o]);else if(Array.isArray(e)&&!Array.isArray(t))for(var o in e)for(var n in t)e[o]==n&&i.push(e[o]);else if(!Array.isArray(e)&&Array.isArray(t))for(var o in e)for(var n in t)o==t[n]&&i.push(t[n]);return i},r._getTags=function(e){return e.tags&&!Array.isArray(e.tags)?e.tags.split(","):e.tags&&Array.isArray(e.tags)?e.tags:[]},r._centerPointInPercent=function(e,t,i){var o=e.getBoundingClientRect(),n=t-o.left,r=i-o.top;return[n/(o.width/100),r/(o.height/100)]},r._trim=function(e){return e.replace(/^\s+|\s+$/g,"")},r._getTransform=function(e){var t=e.getAttribute("transform");return t=t.replace("matrix","").replace("(","").replace(")",""),r._browser().msie&&(t=t.replace(/ /g,",")),t="["+(t=r._trim(t))+"]",JSON.parse(t)},r.getScale=function(e,t,i,o,n,a,l,s){var d=1;if(e||o!==r.match.boundary)if(e||o!==r.match.width)if(e||o!==r.match.height)if(e){var c,p=t/e[2];d=(c=i/e[3])<p?c:p}else d=o;else d=i/s;else d=t/l;else d=(c=i/s)<(p=t/l)?c:p;return d&&n<d&&(d=n),d&&d<a&&(d=a),d},r._mergeObject=function(e,t){var i={};for(var o in e)i[o]=e[o];for(o in t)i[o]=t[o];return i},r._lblIsImg=function(e,t){return!(!e.nodeBinding||-1==t.indexOf("img")||!e.nodeBinding[t])},r._fieldIsImg=function(e,t){if(e.nodeBinding)for(var i in e.nodeBinding)if(e.nodeBinding[i]==t)return r._lblIsImg(e,i);return!1},r._guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},r.htmlRipple=function(e){var t=document.createElement("style");t.type="text/css",t.innerHTML=" .bg-ripple-container {position: absolute; top: 0; right: 0; bottom: 0; left: 0; } .bg-ripple-container span {transform: scale(0);border-radius:100%;position:absolute;opacity:0.75;background-color:#fff;animation: bg-ripple 1000ms; }@-moz-keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}@-webkit-keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}@-o-keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}@keyframes bg-ripple {to {opacity: 0;transform: scale(2);}}",document.head.appendChild(t);var i,o,n=document.createElement("div");n.className="bg-ripple-container",e.addEventListener("mousedown",(function(t){var i,o,n,r,a;return o=document.createElement("span"),n=this.offsetWidth,i=this.getBoundingClientRect(),a=t.pageX-i.left-n/2,r="top:"+(t.pageY-i.top-n/2)+"px; left: "+a+"px; height: "+n+"px; width: "+n+"px;",e.rippleContainer.appendChild(o),o.setAttribute("style",r)})),e.addEventListener("mouseup",(i=function(){for(;this.rippleContainer.firstChild;)this.rippleContainer.removeChild(this.rippleContainer.firstChild)},2e3,o=void 0,function(){var e,t;return t=this,e=arguments,clearTimeout(o),o=setTimeout((function(){return i.apply(t,e)}),2e3)})),e.rippleContainer=n,e.appendChild(n)},r._moveToBoundaryArea=function(e,t,i,o){var n=t.slice(0);t[0]<i.left&&t[0]<i.right&&(n[0]=i.left>i.right?i.right:i.left),t[0]>i.right&&t[0]>i.left&&(n[0]=i.left>i.right?i.left:i.right),t[1]<i.top&&t[1]<i.bottom&&(n[1]=i.top>i.bottom?i.bottom:i.top),t[1]>i.bottom&&t[1]>i.top&&(n[1]=i.top>i.bottom?i.top:i.bottom),t[0]!==n[0]||t[1]!==n[1]?r.anim(e,{viewBox:t},{viewBox:n},300,r.anim.outPow,(function(){o&&o()})):o&&o()},r._randomId=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},r._getClientXY=function(e){return-1==e.type.indexOf("touch")?{x:e.clientX,y:e.clientY}:e.changedTouches.length?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:void 0},r._getClientTouchesXY=function(e,t){return-1!=e.type.indexOf("touch")?e.touches.length<t+1?{x:null,y:null}:{x:e.touches[t].clientX,y:e.touches[t].clientY}:{x:e.clientX,y:e.clientY}},r._getOffset=function(e,t){e&&(t.x+=e.offsetLeft,t.y+=e.offsetTop,r._getOffset(e.offsetParent,t))},r._getTopLeft=function(e){var t={x:0,y:0};return r._getOffset(e,t),t},r._getOffsetXY=function(e,t){if(-1==t.type.indexOf("touch"))return{x:t.offsetX,y:t.offsetY};if(t.touches.length){var i=r._getTopLeft(e);return{x:t.touches[0].pageX-i.x,y:t.touches[0].pageY-i.y}}return t.changedTouches.length?(i=r._getTopLeft(e),{x:t.changedTouches[0].pageX-i.x,y:t.changedTouches[0].pageY-i.y}):void 0},r._pinchMiddlePointInPercent=function(e,t,i,o){var n=r._getTopLeft(e),a=o.touches[0].pageX-n.x,l=o.touches[0].pageY-n.y,s=o.touches[1].pageX-n.x,d=o.touches[1].pageY-n.y;return[((a-s)/2+s)/(t/100),((l-d)/2+d)/(i/100)]},r._browser=function(){var e=!!window.opr&&!!opr.addons||!!window.opera||0<=navigator.userAgent.indexOf(" OPR/"),t="undefined"!=typeof InstallTrigger,i=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&safari.pushNotification).toString(),o=!!document.documentMode,n=!o&&!!window.StyleMedia,r=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime);return{opera:e,firefox:t,safari:i,msie:o,edge:n,chrome:r,blink:(r||e)&&!!window.CSS}},r._menuPosition=function(e,t,i){var o=e.getBoundingClientRect(),n=i.getBoundingClientRect(),r=t.getBoundingClientRect(),a=o.left-n.left,l=o.top-n.top;return o.top+r.height>n.top+n.height&&(l-=r.height),o.left-r.width<n.left&&(a+=r.width),{x:a,y:l}},r._getTemplate=function(e,t,i){if(Array.isArray(e))for(var o=0;o<e.length;o++){var n=t[e[o]];if(n&&!n.group&&n.template)return n.template}return i},r._getGroup=function(e,t){for(var i=0;i<e.length;i++){var o=t[e[i]];if(o&&o.group&&o.template)return{tag:o,name:e[i]}}return null},r._isHTML=function(e){var t=document.createElement("div");t.innerHTML=e;for(var i=t.childNodes,o=i.length;o--;)if(1==i[o].nodeType)return!0;return!1},r._getTestDiv=function(){var e=document.getElementById("orgchart_js_test_div");return e||((e=document.createElement("div")).id="orgchart_js_test_div",e.style.position="fixed",e.style.top="-10000px",e.style.left="-10000px",document.body.appendChild(e)),e},r._getLabelSize=function(e){var t=r._getTestDiv();return t.innerHTML="<svg>"+e+"</svg>",t.querySelector("text").getBoundingClientRect()},r.wrapText=function(e,t){if(-1==t.indexOf("<text"))return e;if(-1==t.indexOf("width"))return e;if(r._isHTML(e))return e;var i=r._getTestDiv();i.innerHTML="<svg>"+t+"</svg>";var o=(new DOMParser).parseFromString(t,"text/xml").getElementsByTagName("text")[0],n=parseFloat(o.getAttribute("x")),a=parseFloat(o.getAttribute("y")),l=o.getAttribute("text-anchor"),s=o.getAttribute("width"),d=o.getAttribute("text-overflow"),c="http://www.w3.org/2000/svg",p=i.getElementsByTagName("svg")[0].getElementsByTagName("text")[0],h=parseFloat(o.getAttribute("text-overflow-lines"));if(h||(h=0),!s)return e;if(s=parseFloat(s),n||(n=0),a||(a=0),n||(l="start"),d||(d="ellipsis"),"ellipsis"==d){p.removeChild(p.firstChild),p.textContent=e;for(var f=p.getComputedTextLength(),u=2;s<f;)p.textContent=e.substring(0,e.length-u),p.textContent+="...",f=p.getComputedTextLength(),u++;return 2<u?"<title>"+e+"</title>"+p.textContent:e}if("multiline"==d){var g=e.split(" "),m=p.getBBox().height;p.textContent="";var v=document.createElementNS(c,"tspan"),y=document.createTextNode(g[0]);v.setAttributeNS(null,"x",n),v.setAttributeNS(null,"y",a),v.setAttributeNS(null,"text-anchor",l),v.appendChild(y),p.appendChild(v),u=1;for(var x=1,b=1;b<g.length;b++){var w=v.firstChild.data.length;if(v.firstChild.data+=" "+g[b],v.getComputedTextLength()>s){if(v.firstChild.data=v.firstChild.data.slice(0,w),x++,0!==h&&h<x)break;(v=document.createElementNS(c,"tspan")).setAttributeNS(null,"x",n),v.setAttributeNS(null,"y",a+m*u),v.setAttributeNS(null,"text-anchor",l),y=document.createTextNode(g[b]),v.appendChild(y),p.appendChild(v),u++}}var _="";if(null!=p.innerHTML)_=p.innerHTML,p.innerHTML="";else{var k="";for(b=p.childNodes.length-1;0<=b;b--)k=XMLSerializer().serializeToString(p.childNodes[b])+k,p.removeChild(p.childNodes[b]);_=k}return _}},r._downloadFile=function(e,t,i,o){var n=new Blob([t],{type:e});if(1==o){var r=URL.createObjectURL(n);window.open(r,"_blank").focus()}else if(navigator.msSaveBlob)navigator.msSaveBlob(n,i);else{var a=document.createElement("a");void 0!==a.download&&(r=URL.createObjectURL(n),a.setAttribute("href",r),a.setAttribute("download",i),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a))}},r._getPosition=function(e,t,i,o){var n={x:t.x,y:t.y};if(null!=i&&(n.x=i),null!=o&&(n.y=o),e&&3==e.length){var r=e[0].indexOf(t.id);-1!=r&&null!=e[1][r].transform&&(null==i&&(n.x=e[1][r].transform[4]),null==o&&(n.y=e[1][r].transform[5]))}return n},r._getOpacity=function(e,t){var i=1;if(e&&3==e.length){var o=e[0].indexOf(t.id);-1!=o&&null!=e[1][o].opacity&&(i=e[1][o].opacity)}return i},r.t=function(e,t){var i=r.templates[e],o=null;if(null!=t&&i.scaleLessThen){var n=[];for(var a in i.scaleLessThen){var l=parseFloat(a);t<l&&n.push(l)}if(0<n.length){n.sort((function(e,t){return e-t}));var s=i.scaleLessThen[n[0]];for(var d in s)null==o&&(o=Object.assign({},i)),o[d]=s[d]}}return null==o?i:o},r._imgs2base64=function(e,t,i,o){var n=e.getElementsByTagName(t),a=n.length;0==a&&o();for(var l=0;l<a;l++)!function(){var e=l,t=n[e];r._getDataUri(t.getAttribute(i),(function(n){n.success&&t.setAttribute(i,n.result),e==a-1&&o()}))}()},r._getDataUri=function(e,t){if(-1!=e.indexOf("base64"))t({success:!1});else{var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){200===i.status?o.readAsDataURL(i.response):404===i.status&&t({success:!1,result:i.status})};var o=new FileReader;o.onloadend=function(){t({success:!0,result:o.result})},i.send()}},r._csvToArray=function(e,t){t=t||",";for(var i=new RegExp("(\\"+t+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+t+"\\r\\n]*))","gi"),o=[[]],n=null;n=i.exec(e);){var r,a=n[1];a.length&&a!==t&&o.push([]),r=n[2]?n[2].replace(new RegExp('""',"g"),'"'):n[3],o[o.length-1].push(r)}return o},r._json2xml=function(e){for(var t=document.implementation.createDocument("","",null),i=t.createElement("nodes"),o=0;o<e.length;o++){var n=t.createElement("node"),r=e[o];for(var a in r){var l=r[a];"tags"==a&&(l=l.join()),n.setAttribute(a,l)}i.appendChild(n)}return t.appendChild(i),'<?xml version="1.0" encoding="utf-8" ?>'+(new XMLSerializer).serializeToString(t.documentElement)},r._xml2json=function(e){for(var t=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("node"),i=[],o=0;o<t.length;o++){for(var n=t[o],r={},a=0;a<n.attributes.length;a++){var l=n.attributes[a],s=l.value;"tags"==l.name&&(s=s.split(",")),r[l.name]=s}i.push(r)}return i},r._json2csv=function(e){for(var t=[],i=function(e){for(var i="",o=0;o<t.length;o++){var n;(n="reportsTo"==t[o]?null:null==e[t[o]]?"":e[t[o]])instanceof Date&&(n=n.toLocaleString());var r=(n=null===n?"":n.toString()).replace(/"/g,'""');0<=r.search(/("|,|\n)/g)&&(r='"'+r+'"'),0<o&&(i+=","),i+=r}return i+"\n"},o="",n=0;n<e.length;n++)for(var a in e[n])r._arrayContains(t,a)||(t.push(a),o+=a+",");for(o+="\n",n=0;n<e.length;n++)o+=i(e[n]);return o},r.accentFold=function(e){return(e=e.toString().toLowerCase()).replace(/([àáâãäå])|([ç])|([èéêë])|([ìíîï])|([ñ])|([òóôõöø])|([ß])|([ùúûü])|([ÿ])|([æ])/g,(function(e,t,i,o,n,r,a,l,s,d,c){return t?"a":i?"c":o?"e":n?"i":r?"n":a?"o":l?"s":s?"u":d?"y":c?"ae":void 0}))},r.copy=function(e){if(null===e||"object"!=typeof e||"isActiveClone"in e)return e;if(e instanceof Date)var t=new e.constructor;else t=e.constructor();for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(e.isActiveClone=null,t[i]=r.copy(e[i]),delete e.isActiveClone);return t},r._getScrollSensitivity=function(){var e=r._browser();return e.msie&&r.scroll.ie?r.scroll.ie:e.edge&&r.scroll.edge?r.scroll.edge:e.safari&&r.scroll.safari?r.scroll.safari:e.chrome&&r.scroll.chrome?r.scroll.chrome:e.firefox&&r.scroll.firefox?r.scroll.firefox:e.opera&&r.scroll.opera?r.scroll.opera:{smooth:r.scroll.smooth,speed:r.scroll.speed}},r.xScrollUI=function(e,t,i,o,n){this.element=e,this.requestParams=i,this.config=t,this.onSetViewBoxCallback=o,this.onDrawCallback=n,this.pos=0},r.xScrollUI.prototype.addListener=function(e){var t=this;if((this.config.mouseScrool==r.action.xScroll||this.config.mouseScrool==r.action.scroll)&&this.bar){var i=r._getScrollSensitivity();!function(e,i,o){var n=!1;function a(){n=!0;var e=(t.pos-t.bar.scrollLeft)/o;0<e?e++:e--,t.bar.scrollLeft+=e,t.bar.scrollLeft==t.pos?n=!1:l(a)}e.addEventListener("wheel",(function(e){var o=0;if(t.config.mouseScrool==r.action.xScroll)(o=e.deltaX||e.wheelDeltaX)||(o=e.deltaY||e.wheelDeltaY);else if(t.config.mouseScrool==r.action.scroll&&!(o=e.shiftKey?e.deltaY||e.wheelDeltaY:e.deltaX||e.wheelDeltaX))return;o=-o,e.preventDefault(),o=Math.max(-1,Math.min(1,o)),t.pos+=-o*i;var l=parseFloat(t.innerBar.clientWidth)-parseFloat(t.bar.clientWidth);t.pos<0&&(t.pos=0),t.pos>l&&(t.pos=l),n||a()}),!1);var l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,20)}}(e,i.speed,i.smooth)}},r.xScrollUI.prototype.create=function(e){if(this.config.showXScroll===r.scroll.visible||this.config.mouseScrool===r.action.scroll||this.config.mouseScrool===r.action.xScroll){var t=this;this.bar&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.config.showXScroll!==r.scroll.visible&&(this.bar.style.visibility="hidden"),this.innerBar=document.createElement("div"),this.requestParams(),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",left:0,bottom:0,width:e+"px","overflow-x":"scroll",height:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",(function(){if(this.ignore)this.ignore=!1;else{var e=t.requestParams(),i=(parseFloat(t.innerBar.clientWidth)-parseFloat(t.bar.clientWidth))/100,o=this.scrollLeft/i,n=(e.boundary.right-e.boundary.left)/100;e.viewBox[0]=o*n+e.boundary.left,t.onSetViewBoxCallback(e.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout((function(){t.onDrawCallback()}),500)}}))}},r.xScrollUI.prototype.setPosition=function(){if(this.bar){var e=this.requestParams(),t=(e.boundary.maxY,e.scale,Math.abs(e.boundary.maxX-e.boundary.minX)*e.scale);switch(this.config.orientation){case r.orientation.bottom:case r.orientation.bottom_left:Math.abs(e.boundary.minY*e.scale);break;case r.orientation.right:case r.orientation.right_top:t=Math.abs(e.boundary.minX*e.scale)}this.innerBar.style.width=t+"px";var i=(e.boundary.right-e.boundary.left)/100,o=(e.viewBox[0]-e.boundary.left)/i;o<0?o=0:100<o&&(o=100);var n=o*((parseFloat(this.innerBar.clientWidth)-parseFloat(this.bar.clientWidth))/100);this.bar.ignore=!0,this.bar.scrollLeft=n,this.pos=this.bar.scrollLeft}},r.yScrollUI=function(e,t,i,o,n){this.element=e,this.requestParams=i,this.config=t,this.onSetViewBoxCallback=o,this.onDrawCallback=n,this.pos=0},r.yScrollUI.prototype.addListener=function(e){var t=this;if(this.config.mouseScrool==r.action.yScroll||this.config.mouseScrool==r.action.scroll){var i=r._getScrollSensitivity();!function(e,i,o){var n=!1;function a(){n=!0;var e=(t.pos-t.bar.scrollTop)/o;0<e?e++:e--,t.bar.scrollTop+=e,t.bar.scrollTop==t.pos?n=!1:l(a)}e.addEventListener("wheel",(function(e){var o=0;if(t.config.mouseScrool==r.action.yScroll)(o=e.deltaY||e.wheelDeltaY)||(o=e.deltaX||e.wheelDeltaX);else if(t.config.mouseScrool==r.action.scroll&&!(o=e.shiftKey?e.deltaX||e.wheelDeltaX:e.deltaY||e.wheelDeltaY))return;o=-o,e.preventDefault(),o=Math.max(-1,Math.min(1,o)),t.pos+=-o*i;var l=parseFloat(t.innerBar.clientHeight)-parseFloat(t.bar.clientHeight);t.pos<0&&(t.pos=0),t.pos>l&&(t.pos=l),n||a()}),!1);var l=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,20)}}(e,i.speed,i.smooth)}},r.yScrollUI.prototype.create=function(e){if(this.config.showYScroll===r.scroll.visible||this.config.mouseScrool===r.action.scroll||this.config.mouseScrool===r.action.yScroll){var t=this;this.bar&&this.bar.parentNode.removeChild(this.bar),this.bar=document.createElement("div"),this.config.showYScroll!==r.scroll.visible&&(this.bar.style.visibility="hidden"),this.innerBar=document.createElement("div"),this.innerBar.innerHTML="&nbsp",Object.assign(this.bar.style,{position:"absolute",right:0,bottom:0,height:e+"px","overflow-y":"scroll",width:"20px"}),this.element.appendChild(this.bar),this.bar.appendChild(this.innerBar),this.bar.addEventListener("scroll",(function(){if(this.ignore)this.ignore=!1;else{var e=t.requestParams(),i=(parseFloat(t.innerBar.clientHeight)-parseFloat(t.bar.clientHeight))/100,o=this.scrollTop/i,n=(e.boundary.bottom-e.boundary.top)/100;e.viewBox[1]=o*n+e.boundary.top,t.onSetViewBoxCallback(e.viewBox),clearTimeout(this._timeout),this._timeout=setTimeout((function(){t.onDrawCallback()}),500)}}))}},r.yScrollUI.prototype.setPosition=function(){if(this.bar){var e=this.requestParams(),t=e.boundary.maxY*e.scale;switch(e.boundary.maxX,e.scale,this.config.orientation){case r.orientation.bottom:case r.orientation.bottom_left:t=Math.abs(e.boundary.minY*e.scale);break;case r.orientation.right:case r.orientation.right_top:Math.abs(e.boundary.minX*e.scale)}this.innerBar.style.height=t+"px";var i=(e.boundary.bottom-e.boundary.top)/100,o=(e.viewBox[1]-e.boundary.top)/Math.abs(i);o<0?o=0:100<o&&(o=100);var n=o*((parseFloat(this.innerBar.clientHeight)-parseFloat(this.bar.clientHeight))/100);this.bar.ignore=!0,this.bar.scrollTop=n,this.pos=this.bar.scrollTop}},r.prototype.zoom=function(e,t,i){var o=this.getViewBox().slice(0),n=o,a=o[2],l=o[3];!0===e?(o[2]=o[2]/r.SCALE_FACTOR,o[3]=o[3]/r.SCALE_FACTOR):!1===e?(o[2]=o[2]*r.SCALE_FACTOR,o[3]=o[3]*r.SCALE_FACTOR):(o[2]=o[2]/e,o[3]=o[3]/e),t||(t=[50,50]),o[0]=n[0]-(o[2]-a)/(100/t[0]),o[1]=n[1]-(o[3]-l)/(100/t[1]);var s=this.getScale(o);if(o[2]=this.width()/s,o[3]=this.height()/s,!0===e&&s<this.config.scaleMax||!1===e&&s>this.config.scaleMin||0!=e&&1!=e&&s<this.config.scaleMax&&s>this.config.scaleMin){this._hideBeforeAnimation();var d=this;i?(clearTimeout(d._timeout),r.anim(this.getSvg(),{viewbox:this.getViewBox()},{viewbox:o},this.config.anim.duration,this.config.anim.func,(function(){clearTimeout(d._timeout),d._timeout=setTimeout((function(){d._draw(!0,r.action.zoom)}),500)}))):(this.setViewBox(o),clearTimeout(d._timeout),d._timeout=setTimeout((function(){d._draw(!0,r.action.zoom)}),500))}},r.loading={},r.loading.show=function(e){var t=document.createElement("div");t.id="bg-loading",t.innerHTML='<style>@-webkit-keyframes dot-keyframes {0% { opacity: .4; -webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}@keyframes dot-keyframes {0% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}50% {opacity: 1;-webkit-transform: scale(1.2, 1.2);transform: scale(1.2, 1.2);}100% {opacity: .4;-webkit-transform: scale(1, 1);transform: scale(1, 1);}}.bg-loading-dots div {margin: 10px;}      .bg-dot-1 {background-color: #039BE5;}.bg-dot-2 {background-color: #F57C00;}.bg-dot-3 {background-color: #FFCA28;}      .bg-loading-dots {text-align: center;width: 100%; position: absolute; top: 0;}.bg-loading-dots--dot {-webkit-animation: dot-keyframes 1.5s infinite ease-in-out;animation: dot-keyframes 1.5s infinite ease-in-out;        border-radius: 10px;display: inline-block;height: 10px;width: 10px;}.bg-loading-dots--dot:nth-child(2) {-webkit-animation-delay: .5s;animation-delay: .5s;}.bg-loading-dots--dot:nth-child(3) {-webkit-animation-delay: 1s;animation-delay: 1s;}</style><div class="bg-loading-dots"><div class="bg-loading-dots--dot bg-dot-1"></div><div class="bg-loading-dots--dot bg-dot-2"></div><div class="bg-loading-dots--dot bg-dot-3"></div></div>',e.element.appendChild(t)},r.loading.hide=function(e){var t=e.element.querySelector("#bg-loading");t&&t.parentNode.removeChild(t)},r.pdfPrevUI={},r.loc||(r.loc={}),r.loc.ppdfCmdTitle="PDF Preview",r.loc.ppdfSave="Save",r.loc.ppdfCancel="Cancel",r.loc.ppdfFormat="Format",r.loc.ppdfFitToDrwaing="Fit",r.loc.ppdfFitToDrwaing2Levels="Fit (2 Levels Page)",r.loc.ppdfA4="A4",r.loc.ppdfA3="A3",r.loc.ppdfA2="A2",r.loc.ppdfA1="A1",r.loc.ppdfA42Levels="A4 (2 Levels Page)",r.loc.ppdfA32Levels="A3 (2 Levels Page)",r.loc.ppdfA22Levels="A2 (2 Levels Page)",r.loc.ppdfA12Levels="A1 (2 Levels Page)",r.loc.ppdfLayout="Layout",r.loc.ppdfPortrait="Portrait",r.loc.ppdfLandscape="Landscape",r.loc.ppdfFittopagewidth="Fit to page width",r.loc.ppdfMargin="Margin",r.loc.ppdfHeader="Header",r.loc.ppdfFooter="Footer",r.loc.ppdfScale="Scale",r.pdfPrevUI.show=function(e,t){t=e._defaultExportOptions(t,"pdf");var i=document.createElement("div");i.id="bg-ppdf-btns",Object.assign(i.style,{position:"absolute",top:0,left:0,"background-color":"#fff","z-index":5,margin:"0 0 0 -250px","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",width:"250px",height:"100%","font-family":"Roboto,Helvetica",color:"#757575","text-align":"right",padding:"10px"}),e.element.appendChild(i),i.innerHTML="<h1>"+r.loc.ppdfCmdTitle+'</h1><div><button id="bg-prev-save" style="font-size: 14px; width: 90px;">'+r.loc.ppdfSave+'</button>&nbsp;<button id="bg-prev-cancel" style="width: 90px;font-size: 14px;">'+r.loc.ppdfCancel+'</button></div><div style="margin-top:30px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:30px;"><label for="bg-size">'+r.loc.ppdfFormat+': </label><select id="bg-ppdf-size" style="color: #757575; width: 150px; font-size: 14px;" id="bg-size"><option value="fit">'+r.loc.ppdfFitToDrwaing+'</option><option value="A4">'+r.loc.ppdfA4+'</option><option value="A3">'+r.loc.ppdfA3+'</option><option value="A2">'+r.loc.ppdfA2+'</option><option value="A1">'+r.loc.ppdfA1+'</option><option value="fit2Levels">'+r.loc.ppdfFitToDrwaing2Levels+'</option><option value="A42Levels">'+r.loc.ppdfA42Levels+'</option><option value="A32Levels">'+r.loc.ppdfA32Levels+'</option><option value="A22Levels">'+r.loc.ppdfA22Levels+'</option><option value="A12Levels">'+r.loc.ppdfA12Levels+'</option></select></div><div style="padding-top:10px;"><label for="bg-ppdf-layout">'+r.loc.ppdfLayout+': </label><select id="bg-ppdf-layout" style="color: #757575; width: 150px;font-size: 14px;" ><option value="false">'+r.loc.ppdfPortrait+'</option><option value="true">'+r.loc.ppdfLandscape+'</option></select></div><div style="padding-top:10px;"><label for="bg-scale">'+r.loc.ppdfScale+': </label><select id="bg-ppdf-scale" style="color: #757575; width: 150px;font-size: 14px;" id="bg-scale"><option value="fit">'+r.loc.ppdfFittopagewidth+'</option><option value="10">10%</option><option value="20">20%</option><option value="30">30%</option><option value="40">40%</option><option value="50">50%</option><option value="60">60%</option><option value="70">70%</option><option value="80">80%</option><option value="90">90%</option><option value="100">100%</option><option value="110">110%</option><option value="120">120%</option><option value="130">130%</option><option value="140">140%</option><option value="150">150%</option><option value="160">160%</option><option value="170">170%</option><option value="180">180%</option><option value="190">190%</option><option value="200">200%</option></select></div><div style="margin-top:10px;margin-bottom:10px; height:10px;border-bottom:1px solid #eeeeee;"></div><div style="padding-top:10px;"><label for="bg-ppdf-header">'+r.loc.ppdfHeader+': </label><input id="bg-ppdf-header" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="bg-ppdf-footer">'+r.loc.ppdfFooter+': </label><input id="bg-ppdf-footer" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div><div style="padding-top:10px;"><label for="bg-ppdf-margin">'+r.loc.ppdfMargin+': </label><input id="bg-ppdf-margin" type="text" style="color: #757575; width: 100px;font-size: 14px;" ></div>';var o=document.createElement("div");o.id="bg-ppdf-wrapper",Object.assign(o.style,{"overflow-y":"scroll",position:"absolute",top:0,left:"270px","background-color":"#eee",width:e.width()-270+"px",height:"100%"}),e.element.appendChild(o),o.innerHTML='<div id="bg-ppdf-content" style="width: 100%;margin-top:10px;margin-bottom:10px;opacity:0;"></div>';var n,a,l,s=e.element.querySelector("#bg-ppdf-size"),d=e.element.querySelector("#bg-ppdf-layout"),c=e.element.querySelector("#bg-ppdf-scale"),p=e.element.querySelector("#bg-ppdf-margin"),h=e.element.querySelector("#bg-ppdf-header"),f=e.element.querySelector("#bg-ppdf-footer");s.value=t.format,d.value=t.landscape,c.value=t.scale,p.value=t.margin,h.value=t.header,f.value=t.footer,r.anim(e.element.querySelector("#bg-ppdf-btns"),{margin:[0,0,0,-250]},{margin:[0,0,0,0]},300,r.anim.outSin,(function(){e.exportPDF(t,r.pdfPrevUI._handler)})),e.element.querySelector("#bg-prev-cancel").addEventListener("click",(function(){r.pdfPrevUI.hide(e)})),e.element.querySelector("#bg-prev-save").addEventListener("click",(function(){e.exportPDF(t),r.pdfPrevUI.hide(e)})),r.pdfPrevUI._showHide(s,d,c),s.addEventListener("change",(function(){r.anim(e.element.querySelector("#bg-ppdf-content"),{opacity:1},{opacity:0},300,r.anim.inSin,(function(){e.element.querySelector("#bg-ppdf-content").innerHTML="",t.format=s.value,e.exportPDF(t,r.pdfPrevUI._handler),r.pdfPrevUI._showHide(s,d,c)}))})),d.addEventListener("change",(function(){r.anim(e.element.querySelector("#bg-ppdf-content"),{opacity:1},{opacity:0},300,r.anim.inSin,(function(){e.element.querySelector("#bg-ppdf-content").innerHTML="",t.landscape="true"==d.value,e.exportPDF(t,r.pdfPrevUI._handler),r.pdfPrevUI._showHide(s,d,c)}))})),c.addEventListener("change",(function(){r.anim(e.element.querySelector("#bg-ppdf-content"),{opacity:1},{opacity:0},300,r.anim.inSin,(function(){e.element.querySelector("#bg-ppdf-content").innerHTML="",t.scale=c.value,e.exportPDF(t,r.pdfPrevUI._handler),r.pdfPrevUI._showHide(s,d,c)}))})),p.addEventListener("keyup",(function(){clearTimeout(n),n=setTimeout((function(){r.anim(e.element.querySelector("#bg-ppdf-content"),{opacity:1},{opacity:0},300,r.anim.inSin,(function(){e.element.querySelector("#bg-ppdf-content").innerHTML="";var i=p.value.split(",");if(4==i.length){for(var o=0;o<i.length;o++)i[o]=parseInt(i[o]);t.margin=i,e.exportPDF(t,r.pdfPrevUI._handler)}}))}),1e3)})),h.addEventListener("keyup",(function(){clearTimeout(a),a=setTimeout((function(){r.anim(e.element.querySelector("#bg-ppdf-content"),{opacity:1},{opacity:0},300,r.anim.inSin,(function(){e.element.querySelector("#bg-ppdf-content").innerHTML="",t.header=h.value,e.exportPDF(t,r.pdfPrevUI._handler)}))}),1e3)})),f.addEventListener("keyup",(function(){clearTimeout(l),l=setTimeout((function(){r.anim(e.element.querySelector("#bg-ppdf-content"),{opacity:1},{opacity:0},300,r.anim.inSin,(function(){e.element.querySelector("#bg-ppdf-content").innerHTML="",t.footer=f.value,e.exportPDF(t,r.pdfPrevUI._handler)}))}),1e3)}))},r.pdfPrevUI._showHide=function(e,t,i){"A4"==e.value||"A3"==e.value||"A2"==e.value||"A1"==e.value?(t.parentNode.style.display="block",i.parentNode.style.display="block"):("A42Levels"==e.value||"A32Levels"==e.value||"A22Levels"==e.value||"A12Levels"==e.value?t.parentNode.style.display="block":t.parentNode.style.display="none",i.parentNode.style.display="none")},r.pdfPrevUI._handler=function(e,t,i){var o=t.options,n=t.pages,a=o.margin[0],l=o.margin[2],s=document.createElement("div");s.innerHTML=i.outerHTML;for(var d=s.querySelector("svg"),c=e.element.querySelector("#bg-ppdf-content"),p=0;p<n.length;p++){var h=document.createElement("iframe");Object.assign(h.style,{display:"block",margin:"10px auto",border:"1px solid #eeeeee","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}),c.appendChild(h),d&&d.style.backgroundColor?h.style.backgroundColor=d.style.backgroundColor:h.style.backgroundColor="#fff";var f=h.contentWindow.document;f.open(),h.style.width=n[p].size.w+"px",h.style.height=n[p].size.h+"px",h.style.margin="10 auto",n[p].backgroundColor&&(h.style.backgroundColor=n[p].backgroundColor);var u=o.header;n[p].header&&(u=n[p].header),u&&(u=u.replace("{current-page}",p+1).replace("{total-pages}",n.length));var g=o.footer;n[p].footer&&(g=n[p].footer),g&&(g=g.replace("{current-page}",p+1).replace("{total-pages}",n.length)),n[p].html?f.write(r._exportHtml(n[p].html,o,n[p].innerSize.w,n[p].innerSize.h,u,g)):(d.setAttribute("viewBox",n[p].vb),f.write(r._exportHtml(s.innerHTML,o,n[p].innerSize.w,n[p].innerSize.h,u,g)));var m=f.getElementById("bg-header"),v=f.getElementById("bg-footer");if(m){var y=a-m.offsetHeight-7;m.style.top=y+"px"}if(v){var x=l-v.offsetHeight-7;v.style.bottom=x+"px"}f.close()}var b=e.element.querySelector("#bg-ppdf-content");r.anim(b,{opacity:0},{opacity:1},300,r.anim.outSin)},r.pdfPrevUI._getViewBox=function(e){var t=null;return e?(t=(t="["+(t=e.getAttribute("viewBox"))+"]").replace(/\ /g,","),t=JSON.parse(t)):null},r._exportHtml=function(e,t,i,o,n,r){for(var a="",l=0;l<t.margin.length;l++)a+=t.margin[l]+"px ";var s='<!DOCTYPE html><html style="margin:0;padding:0;"><head></head><body style="margin:0; padding:0;"><div style="margin: '+a+";overflow:hidden;width:"+i+"px;height:"+o+'px">';return n&&(s+='<div id="bg-header" style="width:'+i+"px;color:#757575;position:absolute;left:"+t.margin[3]+'px;top:0;">'+n+"</div>"),s+=e,r&&(s+='<div id="bg-footer" style="width:'+i+"px;color:#757575;position:absolute;left:"+t.margin[3]+'px;bottom:0;">'+r+"</div>"),(s+="</div>")+"</body></html>"},r.pdfPrevUI.hide=function(e){var t=e.element.querySelector("#bg-ppdf-wrapper");t&&r.anim(t,{opacity:1},{opacity:0},300,r.anim.inSin,(function(){t.parentNode.removeChild(t);var i=e.element.querySelector("#bg-ppdf-btns");r.anim(i,{margin:[0,0,0,0]},{margin:[0,0,0,-280]},300,r.anim.inSin,(function(){i.parentNode.removeChild(i)}))}))},void 0===r&&(r={}),r.events.on("renderdefs",(function(e,t){for(var i=0;i<e.config.clinks.length;i++){var o=e.config.clinks[i].template;o||(o="orange");var n=r.clinkTemplates[o];t.defs+=n.defs}})),r.events.on("render",(function(e,t){e._clink(e,t)})),r.prototype._clink=function(e,t){for(var i,o,n,a,l,s="",d=0;d<this.config.clinks.length;d++){var c=this.config.clinks[d],p=e.getBGNode(c.from),h=e.getBGNode(c.to);if((p.isChildOfGroup||t.res.visibleNodes[p.id])&&(!p.isChildOfGroup||t.res.visibleNodes[p._groupParentNodeId])&&(h.isChildOfGroup||t.res.visibleNodes[h.id])&&(!h.isChildOfGroup||t.res.visibleNodes[h._groupParentNodeId])){var f=p.x,u=p.y,g=h.x,m=h.y;if(p.isChildOfGroup){var v=e.getBGNode(p._groupParentNodeId),y=r.t(v.templateName);f+=v.x+y.groupPadding[3],u+=v.y+y.groupPadding[0]}h.isChildOfGroup&&(v=e.getBGNode(h._groupParentNodeId),y=r.t(v.templateName),g+=v.x+y.groupPadding[3],m+=v.y+y.groupPadding[0]);var x={},b={},w=f+p.w/2,_=g+h.w/2,k=u+p.h/2,C=m+h.h/2,A=1;switch(this.config.orientation){case r.orientation.top:case r.orientation.top_left:w<=_?(A=1,x.x=w+p.w/10,b.x=_-h.w/10):(A=-1,x.x=w-p.w/10,b.x=_+h.w/10),u==m?(A=1,x.y=u,b.y=m):m<u?(x.y=u,b.y=m+h.h):(x.y=u+p.h,b.y=m);break;case r.orientation.bottom:case r.orientation.bottom_left:x.x=w<=_?(A=-1,w+p.w/10):(A=1,w-p.w/10),b.x=_+h.w/10,u==m?(A=-1,x.y=u+p.h,b.y=m+h.h):m<u?(x.y=u,b.y=m+h.h):(x.y=u+p.h,b.y=m);break;case r.orientation.left:case r.orientation.left_top:x.y=k<=C?(A=-1,k+p.h/5):(A=1,k-p.h/5),b.y=C+h.h/5,f==g?(A=-1,x.x=f,b.x=g):g<f?(x.x=f,b.x=g+h.w):(x.x=f+p.w,b.x=g);break;case r.orientation.right:case r.orientation.right_top:x.y=k<=C?(A=1,k+p.h/5):(A=-1,k-p.h/5),b.y=C+h.h/5,f==g?(A=1,x.x=f+p.w,b.x=g+h.w):g<f?(x.x=f,b.x=g+h.w):(x.x=f+p.w,b.x=g)}var S=M(x,b,A),I=c.template;I||(I="orange"),y=r.clinkTemplates[I],s+='<g c-link-from="{from}" c-link-to="{to}">'.replace("{from}",p.id).replace("{to}",h.id)+y.link.replace("{d}","M{a.x},{a.y} C{a.x},{a.y} {c.x},{c.y} {b.x},{b.y}").replaceAll("{b.x}",b.x).replaceAll("{b.y}",b.y).replaceAll("{a.x}",x.x).replaceAll("{a.y}",x.y).replaceAll("{c.x}",S.x).replaceAll("{c.y}",S.y);var N=(i=x,n=S,a=((o=b).x-i.x)/2+i.x,l=(o.y-i.y)/2+i.y,{x:(a-n.x)/2+n.x,y:(l-n.y)/2+n.y});c.label&&(s+=y.label.replace("{x}",N.x).replace("{y}",N.y).replace("{val}",c.label)),s+=r.grCloseTag}function M(e,t,i){null==i&&(i=1);var o=t.x-e.x,n=t.y-e.y,a=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))/3;return a=a/(Math.sqrt(o*o+n*n)*i)*r.CLINK_CURVE,{x:e.x+o/2-n*a,y:e.y+n/2+o*a}}}t.content+=s},r.prototype.addClink=function(e,t,i,o){return this.removeClink(e,t),this.config.clinks.push({from:e,to:t,label:i,template:o}),this},r.prototype.removeClink=function(e,t){for(var i=this.config.clinks.length-1;0<=i;i--){var o=this.config.clinks[i];o.from==e&&o.to==t&&this.config.clinks.splice(i,1)}return this},r.clinkTemplates={},r.clinkTemplates.orange={defs:'<marker id="arrowOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path marker-start="url(#dotOrange)" marker-end="url(#arrowOrange)" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#F57C00" text-anchor="middle" x="{x}" y="{y}">{val}</text>'},r.clinkTemplates.blue={defs:'<marker id="arrowBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path marker-start="url(#dotBlue)" marker-end="url(#arrowBlue)" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},r.clinkTemplates.yellow={defs:'<marker id="arrowYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path marker-start="url(#dotYellow)" marker-end="url(#arrowYellow)" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#FFCA28"  text-anchor="middle" x="{x}" y="{y}">{val}</text>'},void 0===r&&(r={}),r.events.on("renderdefs",(function(e,t){for(var i=0;i<e.config.slinks.length;i++){var o=e.config.slinks[i].template;o||(o="orange");var n=r.slinkTemplates[o];t.defs+=n.defs}})),r.events.on("render",(function(e,t){e._slinks(e,t)})),r.prototype._slinks=function(e,t){var i="",o=this.getScale(),n=t.res.boundary;function a(a,l,d){var c=[],p=null,h="left";switch(e.config.orientation){case r.orientation.top:case r.orientation.top_left:case r.orientation.bottom:case r.orientation.bottom_left:l.x>a.x&&(h="right");break;case r.orientation.left:case r.orientation.left_top:case r.orientation.right:case r.orientation.right_top:h="top",l.y>a.y&&(h="bottom")}var f=r.t(a.templateName,o),u=e.config.levelSeparation;(a.parent&&a.parent.layout==r.mixed||a.parent&&a.parent.layout==r.tree)&&(u=e.config.mixedHierarchyNodesSeparation);var g={p:a.x+a.w/2+f.expandCollapseSize,q:a.y,r:a.x+a.w/2+f.expandCollapseSize,s:n.minY+u};if(a.level==l.level)switch(p=l,e.config.orientation){case r.orientation.top:case r.orientation.top_left:c.push([g.p,g.q]),c.push([g.p,g.q-u/3]),f=r.t(p.templateName,o),c.push([p.x+p.w/2+f.expandCollapseSize,c[c.length-1][1]]),c.push([c[c.length-1][0],p.y]);break;case r.orientation.bottom:case r.orientation.bottom_left:g.q=a.y+a.h,g.s=n.maxY-u,c.push([g.p,g.q]),c.push([g.r,a.y+a.h+u/3]),f=r.t(p.templateName,o),c.push([p.x+p.w/2+f.expandCollapseSize,c[c.length-1][1]]),c.push([c[c.length-1][0],p.y+p.h]);break;case r.orientation.left:case r.orientation.left_top:g.p=a.x,g.q=a.y+a.h/2+f.expandCollapseSize,g.r=n.minX-u,g.s=a.y+a.h/2+f.expandCollapseSize,c.push([g.p,g.q]),c.push([a.x-u/3,g.q]),f=r.t(p.templateName,o),c.push([c[c.length-1][0],p.y+p.h/2+f.expandCollapseSize]),c.push([p.x,c[c.length-1][1]]);break;case r.orientation.right:case r.orientation.right_top:g.p=a.x+a.w,g.q=a.y+a.h/2+f.expandCollapseSize,g.r=n.maxX+u,g.s=a.y+a.h/2+f.expandCollapseSize,c.push([g.p,g.q]),c.push([a.x+a.w+u/3,g.q]),f=r.t(p.templateName,o),c.push([c[c.length-1][0],p.y+p.h/2+f.expandCollapseSize]),c.push([p.x+p.w,c[c.length-1][1]])}else{switch(e.config.orientation){case r.orientation.top:case r.orientation.top_left:c.push([g.p,g.q]),c.push([g.r,a.y-u/3]);break;case r.orientation.bottom:case r.orientation.bottom_left:g.q=a.y+a.h,g.s=n.maxY-u,c.push([g.p,g.q]),c.push([g.r,a.y+a.h+u/3]);break;case r.orientation.left:case r.orientation.left_top:g.p=a.x,g.q=a.y+a.h/2+f.expandCollapseSize,g.r=n.minX-u,g.s=a.y+a.h/2+f.expandCollapseSize,c.push([g.p,g.q]),c.push([a.x-u/3,g.q]);break;case r.orientation.right:case r.orientation.right_top:g.p=a.x+a.w,g.q=a.y+a.h/2+f.expandCollapseSize,g.r=n.maxX+u,g.s=a.y+a.h/2+f.expandCollapseSize,c.push([g.p,g.q]),c.push([a.x+a.w+u/3,g.q])}for(var m=a;null==p;){var v=!1,y=m.parent,x=y.leftNeighbor,b=y.rightNeighbor;if(y.id==l.id?p=y:r._intersects(y,g,e.config)&&(g=r._addPoint(y,c,e.config,g,h),v=!0),y.id!=l.id){for(;x;){if(x.id==l.id){p=x;break}r._intersects(x,g,e.config)&&(g=r._addPoint(x,c,e.config,g,h),v=!0),x=x.leftNeighbor}for(;b;){if(b.id==l.id){p=b;break}r._intersects(b,g,e.config)&&(g=r._addPoint(b,c,e.config,g,h),v=!0),b=b.rightNeighbor}}if(!v){var w=c[c.length-1][0],_=0;if(y.parent)switch(u=e.config.levelSeparation,y.parent.layout!=r.mixed&&y.parent.layout!=r.tree||(u=e.config.mixedHierarchyNodesSeparation),e.config.orientation){case r.orientation.top:case r.orientation.top_left:_=y.parent.y+y.parent.h+u*(2/3);break;case r.orientation.bottom:case r.orientation.bottom_left:_=y.parent.y-u*(2/3);break;case r.orientation.left:case r.orientation.left_top:w=y.parent.x+y.parent.w+u*(2/3),_=c[c.length-1][1];break;case r.orientation.right:case r.orientation.right_top:w=y.parent.x-u*(2/3),_=c[c.length-1][1]}c.push([w,_])}m=y}switch(f=r.t(p.templateName,o),c.splice(c.length-1,1),e.config.orientation){case r.orientation.top:case r.orientation.top_left:c.push([p.x+p.w/2+f.expandCollapseSize,c[c.length-1][1]]),c.push([c[c.length-1][0],p.y+p.h]);break;case r.orientation.bottom:case r.orientation.bottom_left:c.push([p.x+p.w/2+f.expandCollapseSize,c[c.length-1][1]]),c.push([c[c.length-1][0],p.y]);break;case r.orientation.left:case r.orientation.left_top:c.push([c[c.length-1][0],p.y+p.h/2+f.expandCollapseSize]),c.push([p.x+p.w,c[c.length-1][1]]);break;case r.orientation.right:case r.orientation.right_top:c.push([c[c.length-1][0],p.y+p.h/2+f.expandCollapseSize]),c.push([p.x,c[c.length-1][1]])}}var k=s.template;k||(k="orange");var C=null;switch((f=r.slinkTemplates[k]).labelPosition){case"start":C={x:c[1][0],y:c[1][1]};break;case"middle":var A=Math.ceil(c.length/2);C=function(e,t){return{x:(e[0]+t[0])/2,y:(e[1]+t[1])/2}}(c[A],c[A-1]);break;case"end":C={x:c[c.length-2][0],y:c[c.length-2][1]}}d&&(c=c.reverse()),c[0]="M"+c[0].join(",");for(var S=1;S<c.length;S++)c[S]="L"+c[S].join(",");var I=c.join(" ");if(i+='<g c-link-from="{from}" c-link-to="{to}">'.replace("{from}",a.id).replace("{to}",l.id)+f.link.replace("{d}",I),s.label){var N=f.label.replace("{x}",C.x).replace("{y}",C.y).replace("{val}",s.label),M=r._getLabelSize(N),E=-M.height/2;switch(e.config.orientation){case r.orientation.bottom:case r.orientation.bottom_left:E=M.height}i+=f.label.replace("{x}",C.x).replace("{y}",C.y+E).replace("{val}",s.label)}i+=r.grCloseTag,t.content+=i}for(var l=0;l<this.config.slinks.length;l++){var s=this.config.slinks[l];if(t.res.visibleNodes[s.from]&&t.res.visibleNodes[s.to]){var d=e.getBGNode(s.from),c=e.getBGNode(s.to);d.level>=c.level?a(d,c,!1):a(c,d,!0)}}},r.prototype.addSlink=function(e,t,i,o){return this.removeClink(e,t),this.config.slinks.push({from:e,to:t,label:i,template:o}),this},r.prototype.removeSlink=function(e,t){for(var i=this.config.slinks.length-1;0<=i;i--){var o=this.config.slinks[i];o.from==e&&o.to==t&&this.config.slinks.splice(i,1)}return this},r.slinkTemplates={},r.slinkTemplates.orange={defs:'<marker id="arrowSlinkOrange" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#F57C00" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkOrange" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#F57C00" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkOrange)" marker-end="url(#arrowSlinkOrange)" stroke-linejoin="round" stroke="#F57C00" stroke-width="2" fill="none" d="{d}" />',label:'<text dominant-baseline="middle" fill="#F57C00" alignment-baseline="middle" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},r.slinkTemplates.blue={defs:'<marker id="arrowSlinkBlue" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#039BE5" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkBlue" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#039BE5" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkBlue)" marker-end="url(#arrowSlinkBlue)" stroke-linejoin="round" stroke="#039BE5" stroke-width="2" fill="none" d="{d}" />',label:'<text fill="#039BE5" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"},r.slinkTemplates.yellow={defs:'<marker id="arrowSlinkYellow" viewBox="0 0 10 10" refX="8" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse"><path fill="#FFCA28" d="M 0 0 L 10 5 L 0 10 z" /></marker><marker id="dotSlinkYellow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="5" markerHeight="5"> <circle cx="5" cy="5" r="5" fill="#FFCA28" /></marker>',link:'<path stroke-dasharray="4, 2" marker-start="url(#dotSlinkYellow)" marker-end="url(#arrowSlinkYellow)" stroke-linejoin="round" stroke="#FFCA28" stroke-width="2" fill="none" d="{d}" />',label:'<text  fill="#FFCA28" text-anchor="middle" x="{x}" y="{y}">{val}</text>',labelPosition:"middle"}}}]);