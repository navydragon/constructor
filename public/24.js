(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"Fh/x":function(t,s,n){"use strict";n.r(s);var e={name:"dpp_stage_work_content",metaInfo:{title:"Разработка ДПП - Контент"},components:{},computed:{header:function(){return"Разработка ДПП / "+this.stage.dpp_name+" / "+this.stage.type_name}},data:function(){return{stage:{},sections:[]}},methods:{create_lection:function(t){var s=this;axios.post("/dpps/"+this.$route.params.dpp+"/content/"+this.stage.ct_version_id+"/add_lection",{theme:t}).then((function(s){t.lections.push(s.data)})).finally((function(n){s.edit_lection(t)}))},edit_lection:function(t){this.$router.push({path:"/my_dpps/"+this.$route.params.dpp+"/stages/"+this.stage.id+"/work_content/".concat(t.lections[0].id)})},go_forward:function(){var t=this;axios.post("/dpps/"+this.$route.params.dpp+"/"+this.stage.id+"/go_next").then((function(){return t.$router.push("/my_dpps/"+t.$route.params.dpp+"/overview/1")}))}},mounted:function(){var t=this,s=this;axios.get("/dpps/"+this.$route.params.dpp+"/get_stage_data/"+this.$route.params.stage).then((function(s){return t.stage=s.data})).finally((function(t){axios.get("/dpps/"+s.$route.params.dpp+"/structure/"+s.stage.st_version_id+"/get_sections").then((function(t){return s.sections=t.data}))}))}},a=n("KHd+"),o=Object(a.a)(e,(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",[n("b-button",{attrs:{variant:"primary"},on:{click:function(s){return t.$router.go(-1)}}},[t._v("Назад")]),t._v(" "),n("b-card",{attrs:{title:t.header}}),t._v(" "),n("b-card",{attrs:{"no-body":""}},[n("table",{staticClass:"table table-bordered"},[n("thead",[n("tr",[n("th",{attrs:{rowspan:"2"}},[t._v("Наименование разделов")]),n("th",{attrs:{colspan:"3"}},[t._v("Трудоемкость, ч")]),n("th",{attrs:{rowspan:"2"}},[t._v("Контент лекции")]),n("th",{attrs:{rowspan:"2"}},[t._v("Контент практик/лаб.")])]),t._v(" "),n("tr",[n("th",[t._v("Итого")]),n("th",[t._v("Лек.")]),n("th",[t._v("Пр/Лаб.")])])]),t._v(" "),n("tbody",[t._l(t.sections,(function(s){return[n("tr",{key:"ps_"+s.id},[n("td",[n("p",{staticClass:"mb-1"},[n("strong",[t._v(t._s(s.position)+". "+t._s(s.name))])])]),t._v(" "),n("td",[t._v(t._s(s.total_hours))]),t._v(" "),n("td",[t._v(t._s(s.lection_hours))]),t._v(" "),n("td",[t._v(t._s(s.practice_hours+s.lab_hours))]),t._v(" "),n("td"),t._v(" "),n("td")]),t._v(" "),t._l(s.themes,(function(e){return n("tr",{key:"ts_"+e.id},[n("td",[n("p",{staticClass:"mb-1"},[t._v(t._s(s.position)+"."+t._s(e.position)+" "+t._s(e.name))])]),t._v(" "),n("td",[t._v(t._s(e.total_hours))]),t._v(" "),n("td",[t._v(t._s(e.lection_hours))]),t._v(" "),n("td",[t._v(t._s(e.lab_hours+e.practice_hours))]),t._v(" "),n("td",[0==e.lections.length?n("span",[n("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(s){return t.create_lection(e)}}},[t._v("Создать")])],1):n("span",[n("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(s){return t.edit_lection(e)}}},[t._v("Редактировать")])],1)]),t._v(" "),n("td",[e.lab_hours+e.practice_hours>0?n("div",[0==e.lections.length?n("span",[t._v("Создать")]):n("span",[t._v("Редактировать")])]):n("div",[n("i",[t._v("Не запланированы")])])])])}))]}))],2)])])],1)}),[],!1,null,null,null);s.default=o.exports}}]);